(self.webpackChunkresume=self.webpackChunkresume||[]).push([[179],{2011:(Ut,Je,X)=>{"use strict";X.d(Je,{Dh:()=>Fe,GT:()=>Ce,cc:()=>et,hO:()=>$e,on:()=>oe,pX:()=>Se,xv:()=>Le});var d=X(4650),J=X(9260),W=X(4976);Ut=X.hmd(Ut);const ge=["ngOnDestroy"],Se=(Ee,rt,it,He={})=>new Proxy(Ee,{get:(ze,A)=>it.runOutsideAngular(()=>{var dt;if(Ee[A])return!(null===(dt=He?.spy)||void 0===dt)&&dt.get&&He.spy.get(A,Ee[A]),Ee[A];if(ge.indexOf(A)>-1)return()=>{};const tt=rt.toPromise().then(be=>{const Mt=be&&be[A];return"function"==typeof Mt?Mt.bind(be):Mt&&Mt.then?Mt.then(Wt=>it.run(()=>Wt)):it.run(()=>Mt)});return new Proxy(()=>{},{get:(be,Mt)=>tt[Mt],apply:(be,Mt,Wt)=>tt.then(Dt=>{var fn;const Bt=Dt&&Dt(...Wt);return!(null===(fn=He?.spy)||void 0===fn)&&fn.apply&&He.spy.apply(A,Wt,Bt),Bt})})})}),Ce=(Ee,rt)=>{rt.forEach(it=>{Object.getOwnPropertyNames(it.prototype||it).forEach(He=>{Object.defineProperty(Ee.prototype,He,Object.getOwnPropertyDescriptor(it.prototype||it,He))})})};class Be{constructor(rt){return rt}}const Fe=new d.OlP("angularfire2.app.options"),Le=new d.OlP("angularfire2.app.name");function oe(Ee,rt,it){const ze="object"==typeof it&&it||{};ze.name=ze.name||"string"==typeof it&&it||"[DEFAULT]";const dt=J.Z.apps.filter(tt=>tt&&tt.name===ze.name)[0]||rt.runOutsideAngular(()=>J.Z.initializeApp(Ee,ze));try{JSON.stringify(Ee)!==JSON.stringify(dt.options)&&ie("error",`${dt.name} Firebase App already initialized with different options${Ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Be(dt)}const ie=(Ee,...rt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ee](...rt)},ce={provide:Be,useFactory:oe,deps:[Fe,d.R0b,[new d.FiY,Le]]};let $e=(()=>{class Ee{constructor(it){J.Z.registerVersion("angularfire",W.q4.full,"core"),J.Z.registerVersion("angularfire",W.q4.full,"app-compat"),J.Z.registerVersion("angular",d.q4F.full,it.toString())}static initializeApp(it,He){return{ngModule:Ee,providers:[{provide:Fe,useValue:it},{provide:Le,useValue:He}]}}}return Ee.\u0275fac=function(it){return new(it||Ee)(d.LFG(d.Lbi))},Ee.\u0275mod=d.oAB({type:Ee}),Ee.\u0275inj=d.cJS({providers:[ce]}),Ee})();function et(Ee,rt,it,He,ze){const[,A,dt]=globalThis.\u0275AngularfireInstanceCache.find(tt=>tt[0]===Ee)||[];if(A)return function Qe(Ee,rt){try{return Ee.toString()===rt.toString()}catch{return Ee===rt}}(ze,dt)||(Ne("error",`${rt} was already initialized on the ${it} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),Ne("warn",{is:ze,was:dt})),A;{const tt=He();return globalThis.\u0275AngularfireInstanceCache.push([Ee,tt,ze]),tt}}const nt=!!Ut.hot,Ne=(Ee,...rt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ee](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Ut,Je,X)=>{"use strict";X.d(Je,{q4:()=>Ci,iC:()=>Hc,HU:()=>sa,vb:()=>Ud,JM:()=>lu,u3:()=>$d});var d=X(4650),J=X(259),W=X(5861),ge=X(6881),Se=X(2090),Ce=X(4859),Be=X(1877);const Fe=(E,S)=>S.some(j=>E instanceof j);let Le,oe;const $e=new WeakMap,et=new WeakMap,Qe=new WeakMap,nt=new WeakMap,Ne=new WeakMap;let it={get(E,S,j){if(E instanceof IDBTransaction){if("done"===S)return et.get(E);if("objectStoreNames"===S)return E.objectStoreNames||Qe.get(E);if("store"===S)return j.objectStoreNames[1]?void 0:j.objectStore(j.objectStoreNames[0])}return dt(E[S])},set:(E,S,j)=>(E[S]=j,!0),has:(E,S)=>E instanceof IDBTransaction&&("done"===S||"store"===S)||S in E};function A(E){return"function"==typeof E?function ze(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...S){return E.apply(tt(this),S),dt($e.get(this))}:function(...S){return dt(E.apply(tt(this),S))}:function(S,...j){const ee=E.call(tt(this),S,...j);return Qe.set(ee,S.sort?S.sort():[S]),dt(ee)}}(E):(E instanceof IDBTransaction&&function rt(E){if(et.has(E))return;const S=new Promise((j,ee)=>{const ue=()=>{E.removeEventListener("complete",fe),E.removeEventListener("error",Oe),E.removeEventListener("abort",Oe)},fe=()=>{j(),ue()},Oe=()=>{ee(E.error||new DOMException("AbortError","AbortError")),ue()};E.addEventListener("complete",fe),E.addEventListener("error",Oe),E.addEventListener("abort",Oe)});et.set(E,S)}(E),Fe(E,function ie(){return Le||(Le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,it):E)}function dt(E){if(E instanceof IDBRequest)return function Ee(E){const S=new Promise((j,ee)=>{const ue=()=>{E.removeEventListener("success",fe),E.removeEventListener("error",Oe)},fe=()=>{j(dt(E.result)),ue()},Oe=()=>{ee(E.error),ue()};E.addEventListener("success",fe),E.addEventListener("error",Oe)});return S.then(j=>{j instanceof IDBCursor&&$e.set(j,E)}).catch(()=>{}),Ne.set(S,E),S}(E);if(nt.has(E))return nt.get(E);const S=A(E);return S!==E&&(nt.set(E,S),Ne.set(S,E)),S}const tt=E=>Ne.get(E),Wt=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],fn=new Map;function Bt(E,S){if(!(E instanceof IDBDatabase)||S in E||"string"!=typeof S)return;if(fn.get(S))return fn.get(S);const j=S.replace(/FromIndex$/,""),ee=S!==j,ue=Dt.includes(j);if(!(j in(ee?IDBIndex:IDBObjectStore).prototype)||!ue&&!Wt.includes(j))return;const fe=function(){var Oe=(0,W.Z)(function*(St,...bt){const Yt=this.transaction(St,ue?"readwrite":"readonly");let Sn=Yt.store;return ee&&(Sn=Sn.index(bt.shift())),(yield Promise.all([Sn[j](...bt),ue&&Yt.done]))[0]});return function(bt){return Oe.apply(this,arguments)}}();return fn.set(S,fe),fe}!function He(E){it=E(it)}(E=>({...E,get:(S,j,ee)=>Bt(S,j)||E.get(S,j,ee),has:(S,j)=>!!Bt(S,j)||E.has(S,j)}));const Ue="@firebase/installations",Ve="0.6.4",Ke=1e4,st=`w:${Ve}`,wt="FIS_v2",mt="https://firebaseinstallations.googleapis.com/v1",Nt=36e5,bn=new Se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xt(E){return E instanceof Se.ZR&&E.code.includes("request-failed")}function An({projectId:E}){return`${mt}/projects/${E}/installations`}function Jn(E){return{token:E.token,requestStatus:2,expiresIn:oi(E.expiresIn),creationTime:Date.now()}}function Kn(E,S){return $r.apply(this,arguments)}function $r(){return($r=(0,W.Z)(function*(E,S){const ee=(yield S.json()).error;return bn.create("request-failed",{requestName:E,serverCode:ee.code,serverMessage:ee.message,serverStatus:ee.status})})).apply(this,arguments)}function Mr({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Sr(E){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,W.Z)(function*(E){const S=yield E();return S.status>=500&&S.status<600?E():S})).apply(this,arguments)}function oi(E){return Number(E.replace("s","000"))}function zt(){return(zt=(0,W.Z)(function*({appConfig:E,heartbeatServiceProvider:S},{fid:j}){const ee=An(E),ue=Mr(E),fe=S.getImmediate({optional:!0});if(fe){const Yt=yield fe.getHeartbeatsHeader();Yt&&ue.append("x-firebase-client",Yt)}const St={method:"POST",headers:ue,body:JSON.stringify({fid:j,authVersion:wt,appId:E.appId,sdkVersion:st})},bt=yield Sr(()=>fetch(ee,St));if(bt.ok){const Yt=yield bt.json();return{fid:Yt.fid||j,registrationStatus:2,refreshToken:Yt.refreshToken,authToken:Jn(Yt.authToken)}}throw yield Kn("Create Installation",bt)})).apply(this,arguments)}function mr(E){return new Promise(S=>{setTimeout(S,E)})}const Rr=/^[cdef][\w-]{21}$/,Ar="";function Or(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const j=function kn(E){return function wr(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Rr.test(j)?j:Ar}catch{return Ar}}function yn(E){return`${E.appName}!${E.appId}`}const Vt=new Map;function wn(E,S){const j=yn(E);xr(j,S),function gi(E,S){const j=function Nr(){return!ur&&"BroadcastChannel"in self&&(ur=new BroadcastChannel("[Firebase] FID Change"),ur.onmessage=E=>{xr(E.data.key,E.data.fid)}),ur}();j&&j.postMessage({key:E,fid:S}),function On(){0===Vt.size&&ur&&(ur.close(),ur=null)}()}(j,S)}function xr(E,S){const j=Vt.get(E);if(j)for(const ee of j)ee(S)}let ur=null;const Ri="firebase-installations-database",pn=1,ar="firebase-installations-store";let En=null;function Ir(){return En||(En=function be(E,S,{blocked:j,upgrade:ee,blocking:ue,terminated:fe}={}){const Oe=indexedDB.open(E,S),St=dt(Oe);return ee&&Oe.addEventListener("upgradeneeded",bt=>{ee(dt(Oe.result),bt.oldVersion,bt.newVersion,dt(Oe.transaction))}),j&&Oe.addEventListener("blocked",()=>j()),St.then(bt=>{fe&&bt.addEventListener("close",()=>fe()),ue&&bt.addEventListener("versionchange",()=>ue())}).catch(()=>{}),St}(Ri,pn,{upgrade:(E,S)=>{0===S&&E.createObjectStore(ar)}})),En}function yt(E,S){return zr.apply(this,arguments)}function zr(){return(zr=(0,W.Z)(function*(E,S){const j=yn(E),ue=(yield Ir()).transaction(ar,"readwrite"),fe=ue.objectStore(ar),Oe=yield fe.get(j);return yield fe.put(S,j),yield ue.done,(!Oe||Oe.fid!==S.fid)&&wn(E,S.fid),S})).apply(this,arguments)}function ir(E){return M.apply(this,arguments)}function M(){return(M=(0,W.Z)(function*(E){const S=yn(E),ee=(yield Ir()).transaction(ar,"readwrite");yield ee.objectStore(ar).delete(S),yield ee.done})).apply(this,arguments)}function L(E,S){return U.apply(this,arguments)}function U(){return(U=(0,W.Z)(function*(E,S){const j=yn(E),ue=(yield Ir()).transaction(ar,"readwrite"),fe=ue.objectStore(ar),Oe=yield fe.get(j),St=S(Oe);return void 0===St?yield fe.delete(j):yield fe.put(St,j),yield ue.done,St&&(!Oe||Oe.fid!==St.fid)&&wn(E,St.fid),St})).apply(this,arguments)}function D(E){return P.apply(this,arguments)}function P(){return P=(0,W.Z)(function*(E){let S;const j=yield L(E.appConfig,ee=>{const ue=function N(E){return ot(E||{fid:Or(),registrationStatus:0})}(ee),fe=function k(E,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(bn.create("app-offline"))};const j={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},ee=function F(E,S){return K.apply(this,arguments)}(E,j);return{installationEntry:j,registrationPromise:ee}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:ne(E)}:{installationEntry:S}}(E,ue);return S=fe.registrationPromise,fe.installationEntry});return j.fid===Ar?{installationEntry:yield S}:{installationEntry:j,registrationPromise:S}}),P.apply(this,arguments)}function K(){return K=(0,W.Z)(function*(E,S){try{const j=yield function Vn(E,S){return zt.apply(this,arguments)}(E,S);return yt(E.appConfig,j)}catch(j){throw Xt(j)&&409===j.customData.serverCode?yield ir(E.appConfig):yield yt(E.appConfig,{fid:S.fid,registrationStatus:0}),j}}),K.apply(this,arguments)}function ne(E){return me.apply(this,arguments)}function me(){return(me=(0,W.Z)(function*(E){let S=yield Re(E.appConfig);for(;1===S.registrationStatus;)yield mr(100),S=yield Re(E.appConfig);if(0===S.registrationStatus){const{installationEntry:j,registrationPromise:ee}=yield D(E);return ee||j}return S})).apply(this,arguments)}function Re(E){return L(E,S=>{if(!S)throw bn.create("installation-not-found");return ot(S)})}function ot(E){return function Xe(E){return 1===E.registrationStatus&&E.registrationTime+Ke<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Tn(){return(Tn=(0,W.Z)(function*({appConfig:E,heartbeatServiceProvider:S},j){const ee=function Jt(E,{fid:S}){return`${An(E)}/${S}/authTokens:generate`}(E,j),ue=function pi(E,{refreshToken:S}){const j=Mr(E);return j.append("Authorization",function Zt(E){return`${wt} ${E}`}(S)),j}(E,j),fe=S.getImmediate({optional:!0});if(fe){const Yt=yield fe.getHeartbeatsHeader();Yt&&ue.append("x-firebase-client",Yt)}const St={method:"POST",headers:ue,body:JSON.stringify({installation:{sdkVersion:st,appId:E.appId}})},bt=yield Sr(()=>fetch(ee,St));if(bt.ok)return Jn(yield bt.json());throw yield Kn("Generate Auth Token",bt)})).apply(this,arguments)}function Qn(E){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,W.Z)(function*(E,S=!1){let j;const ee=yield L(E.appConfig,fe=>{if(!Nn(fe))throw bn.create("not-registered");const Oe=fe.authToken;if(!S&&function Gt(E){return 2===E.requestStatus&&!function qn(E){const S=Date.now();return S<E.creationTime||E.creationTime+E.expiresIn<S+Nt}(E)}(Oe))return fe;if(1===Oe.requestStatus)return j=function Ae(E,S){return _e.apply(this,arguments)}(E,S),fe;{if(!navigator.onLine)throw bn.create("app-offline");const St=function Bn(E){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:S})}(fe);return j=function Pt(E,S){return on.apply(this,arguments)}(E,St),St}});return j?yield j:ee.authToken}),Lr.apply(this,arguments)}function _e(){return(_e=(0,W.Z)(function*(E,S){let j=yield at(E.appConfig);for(;1===j.authToken.requestStatus;)yield mr(100),j=yield at(E.appConfig);const ee=j.authToken;return 0===ee.requestStatus?Qn(E,S):ee})).apply(this,arguments)}function at(E){return L(E,S=>{if(!Nn(S))throw bn.create("not-registered");return function ai(E){return 1===E.requestStatus&&E.requestTime+Ke<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function on(){return on=(0,W.Z)(function*(E,S){try{const j=yield function It(E,S){return Tn.apply(this,arguments)}(E,S),ee=Object.assign(Object.assign({},S),{authToken:j});return yield yt(E.appConfig,ee),j}catch(j){if(!Xt(j)||401!==j.customData.serverCode&&404!==j.customData.serverCode){const ee=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield yt(E.appConfig,ee)}else yield ir(E.appConfig);throw j}}),on.apply(this,arguments)}function Nn(E){return void 0!==E&&2===E.registrationStatus}function Ga(){return(Ga=(0,W.Z)(function*(E){const S=E,{installationEntry:j,registrationPromise:ee}=yield D(S);return ee?ee.catch(console.error):Qn(S).catch(console.error),j.fid})).apply(this,arguments)}function to(){return to=(0,W.Z)(function*(E,S=!1){const j=E;return yield function Zr(E){return Rt.apply(this,arguments)}(j),(yield Qn(j,S)).token}),to.apply(this,arguments)}function Rt(){return(Rt=(0,W.Z)(function*(E){const{registrationPromise:S}=yield D(E);S&&(yield S)})).apply(this,arguments)}function Ao(E){return bn.create("missing-app-config-values",{valueName:E})}const Fn="installations",Ur=E=>{const S=E.getProvider("app").getImmediate(),j=function ro(E){if(!E||!E.options)throw Ao("App Configuration");if(!E.name)throw Ao("App Name");const S=["projectId","apiKey","appId"];for(const j of S)if(!E.options[j])throw Ao(j);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(S);return{app:S,appConfig:j,heartbeatServiceProvider:(0,ge._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Go=E=>{const S=E.getProvider("app").getImmediate(),j=(0,ge._getProvider)(S,Fn).getImmediate();return{getId:()=>function ui(E){return Ga.apply(this,arguments)}(j),getToken:ue=>function fl(E){return to.apply(this,arguments)}(j,ue)}};(function ds(){(0,ge._registerComponent)(new Ce.wA(Fn,Ur,"PUBLIC")),(0,ge._registerComponent)(new Ce.wA("installations-internal",Go,"PRIVATE"))})(),(0,ge.registerVersion)(Ue,Ve),(0,ge.registerVersion)(Ue,Ve,"esm2017");const ei="@firebase/remote-config",Oi=new Se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yc{constructor(S,j,ee,ue){this.client=S,this.storage=j,this.storageCache=ee,this.logger=ue}isCachedDataFresh(S,j){if(!j)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ee=Date.now()-j,ue=ee<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${ue}.`),ue}fetch(S){var j=this;return(0,W.Z)(function*(){const[ee,ue]=yield Promise.all([j.storage.getLastSuccessfulFetchTimestampMillis(),j.storage.getLastSuccessfulFetchResponse()]);if(ue&&j.isCachedDataFresh(S.cacheMaxAgeMillis,ee))return ue;S.eTag=ue&&ue.eTag;const fe=yield j.client.fetch(S),Oe=[j.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&Oe.push(j.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(Oe),fe})()}}function Za(E=navigator){return E.languages&&E.languages[0]||E.language}class gl{constructor(S,j,ee,ue,fe,Oe){this.firebaseInstallations=S,this.sdkVersion=j,this.namespace=ee,this.projectId=ue,this.apiKey=fe,this.appId=Oe}fetch(S){var j=this;return(0,W.Z)(function*(){const[ee,ue]=yield Promise.all([j.firebaseInstallations.getId(),j.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${j.projectId}/namespaces/${j.namespace}:fetch?key=${j.apiKey}`,St={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},bt={sdk_version:j.sdkVersion,app_instance_id:ee,app_instance_id_token:ue,app_id:j.appId,language_code:Za()},Yt={method:"POST",headers:St,body:JSON.stringify(bt)},Sn=fetch(Oe,Yt),Cn=new Promise((Ss,Ji)=>{S.signal.addEventListener(()=>{const Ll=new Error("The operation was aborted.");Ll.name="AbortError",Ji(Ll)})});let Qr;try{yield Promise.race([Sn,Cn]),Qr=yield Sn}catch(Ss){let Ji="fetch-client-network";throw"AbortError"===Ss?.name&&(Ji="fetch-timeout"),Oi.create(Ji,{originalErrorMessage:Ss?.message})}let dn=Qr.status;const Ws=Qr.headers.get("ETag")||void 0;let Gc,Fs;if(200===Qr.status){let Ss;try{Ss=yield Qr.json()}catch(Ji){throw Oi.create("fetch-client-parse",{originalErrorMessage:Ji?.message})}Gc=Ss.entries,Fs=Ss.state}if("INSTANCE_STATE_UNSPECIFIED"===Fs?dn=500:"NO_CHANGE"===Fs?dn=304:("NO_TEMPLATE"===Fs||"EMPTY_CONFIG"===Fs)&&(Gc={}),304!==dn&&200!==dn)throw Oi.create("fetch-status",{httpStatus:dn});return{status:dn,eTag:Ws,config:Gc}})()}}class yl{constructor(S,j){this.client=S,this.storage=j}fetch(S){var j=this;return(0,W.Z)(function*(){const ee=(yield j.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return j.attemptFetch(S,ee)})()}attemptFetch(S,{throttleEndTimeMillis:j,backoffCount:ee}){var ue=this;return(0,W.Z)(function*(){yield function Ru(E,S){return new Promise((j,ee)=>{const ue=Math.max(S-Date.now(),0),fe=setTimeout(j,ue);E.addEventListener(()=>{clearTimeout(fe),ee(Oi.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,j);try{const fe=yield ue.client.fetch(S);return yield ue.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function ml(E){if(!(E instanceof Se.ZR&&E.customData))return!1;const S=Number(E.customData.httpStatus);return 429===S||500===S||503===S||504===S}(fe))throw fe;const Oe={throttleEndTimeMillis:Date.now()+(0,Se.$s)(ee),backoffCount:ee+1};return yield ue.storage.setThrottleMetadata(Oe),ue.attemptFetch(S,Oe)}})()}}class ya{constructor(S,j,ee,ue,fe){this.app=S,this._client=j,this._storageCache=ee,this._storage=ue,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Bs(E,S){const j=E.target.error||void 0;return Oi.create(S,{originalErrorMessage:j&&j?.message})}const lo="app_namespace_store";class g{constructor(S,j,ee,ue=function _c(){return new Promise((E,S)=>{try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=ee=>{S(Bs(ee,"storage-open"))},j.onsuccess=ee=>{E(ee.target.result)},j.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(lo,{keyPath:"compositeKey"})}}catch(j){S(Oi.create("storage-open",{originalErrorMessage:j?.message}))}})}()){this.appId=S,this.appName=j,this.namespace=ee,this.openDbPromise=ue}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var j=this;return(0,W.Z)(function*(){const ee=yield j.openDbPromise;return new Promise((ue,fe)=>{const St=ee.transaction([lo],"readonly").objectStore(lo),bt=j.createCompositeKey(S);try{const Yt=St.get(bt);Yt.onerror=Sn=>{fe(Bs(Sn,"storage-get"))},Yt.onsuccess=Sn=>{const Cn=Sn.target.result;ue(Cn?Cn.value:void 0)}}catch(Yt){fe(Oi.create("storage-get",{originalErrorMessage:Yt?.message}))}})})()}set(S,j){var ee=this;return(0,W.Z)(function*(){const ue=yield ee.openDbPromise;return new Promise((fe,Oe)=>{const bt=ue.transaction([lo],"readwrite").objectStore(lo),Yt=ee.createCompositeKey(S);try{const Sn=bt.put({compositeKey:Yt,value:j});Sn.onerror=Cn=>{Oe(Bs(Cn,"storage-set"))},Sn.onsuccess=()=>{fe()}}catch(Sn){Oe(Oi.create("storage-set",{originalErrorMessage:Sn?.message}))}})})()}delete(S){var j=this;return(0,W.Z)(function*(){const ee=yield j.openDbPromise;return new Promise((ue,fe)=>{const St=ee.transaction([lo],"readwrite").objectStore(lo),bt=j.createCompositeKey(S);try{const Yt=St.delete(bt);Yt.onerror=Sn=>{fe(Bs(Sn,"storage-delete"))},Yt.onsuccess=()=>{ue()}}catch(Yt){fe(Oi.create("storage-delete",{originalErrorMessage:Yt?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class _{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,W.Z)(function*(){const j=S.storage.getLastFetchStatus(),ee=S.storage.getLastSuccessfulFetchTimestampMillis(),ue=S.storage.getActiveConfig(),fe=yield j;fe&&(S.lastFetchStatus=fe);const Oe=yield ee;Oe&&(S.lastSuccessfulFetchTimestampMillis=Oe);const St=yield ue;St&&(S.activeConfig=St)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function z(){return q.apply(this,arguments)}function q(){return(q=(0,W.Z)(function*(){if(!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}!function T(){(0,ge._registerComponent)(new Ce.wA("remote-config",function E(S,{instanceIdentifier:j}){const ee=S.getProvider("app").getImmediate(),ue=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Oi.create("registration-window");if(!(0,Se.hl)())throw Oi.create("indexed-db-unavailable");const{projectId:fe,apiKey:Oe,appId:St}=ee.options;if(!fe)throw Oi.create("registration-project-id");if(!Oe)throw Oi.create("registration-api-key");if(!St)throw Oi.create("registration-app-id");const bt=new g(St,ee.name,j=j||"firebase"),Yt=new _(bt),Sn=new Be.Yd(ei);Sn.logLevel=Be.in.ERROR;const Cn=new gl(ue,ge.SDK_VERSION,j,fe,Oe,St),Qr=new yl(Cn,bt),dn=new yc(Qr,bt,Yt,Sn),Ws=new ya(ee,dn,Yt,bt,Sn);return function yi(E){const S=(0,Se.m9)(E);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Ws),Ws},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(ei,"0.4.4"),(0,ge.registerVersion)(ei,"0.4.4","esm2017")}();const ae=(E,S)=>S.some(j=>E instanceof j);let re,ve;const De=new WeakMap,je=new WeakMap,Tt=new WeakMap,In=new WeakMap,Kt=new WeakMap;let ti={get(E,S,j){if(E instanceof IDBTransaction){if("done"===S)return je.get(E);if("objectStoreNames"===S)return E.objectStoreNames||Tt.get(E);if("store"===S)return j.objectStoreNames[1]?void 0:j.objectStore(j.objectStoreNames[0])}return Dn(E[S])},set:(E,S,j)=>(E[S]=j,!0),has:(E,S)=>E instanceof IDBTransaction&&("done"===S||"store"===S)||S in E};function vi(E){return"function"==typeof E?function xn(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ct(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...S){return E.apply(jn(this),S),Dn(De.get(this))}:function(...S){return Dn(E.apply(jn(this),S))}:function(S,...j){const ee=E.call(jn(this),S,...j);return Tt.set(ee,S.sort?S.sort():[S]),Dn(ee)}}(E):(E instanceof IDBTransaction&&function Cr(E){if(je.has(E))return;const S=new Promise((j,ee)=>{const ue=()=>{E.removeEventListener("complete",fe),E.removeEventListener("error",Oe),E.removeEventListener("abort",Oe)},fe=()=>{j(),ue()},Oe=()=>{ee(E.error||new DOMException("AbortError","AbortError")),ue()};E.addEventListener("complete",fe),E.addEventListener("error",Oe),E.addEventListener("abort",Oe)});je.set(E,S)}(E),ae(E,function xe(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,ti):E)}function Dn(E){if(E instanceof IDBRequest)return function Wn(E){const S=new Promise((j,ee)=>{const ue=()=>{E.removeEventListener("success",fe),E.removeEventListener("error",Oe)},fe=()=>{j(Dn(E.result)),ue()},Oe=()=>{ee(E.error),ue()};E.addEventListener("success",fe),E.addEventListener("error",Oe)});return S.then(j=>{j instanceof IDBCursor&&De.set(j,E)}).catch(()=>{}),Kt.set(S,E),S}(E);if(In.has(E))return In.get(E);const S=vi(E);return S!==E&&(In.set(E,S),Kt.set(S,E)),S}const jn=E=>Kt.get(E);function js(E,S,{blocked:j,upgrade:ee,blocking:ue,terminated:fe}={}){const Oe=indexedDB.open(E,S),St=Dn(Oe);return ee&&Oe.addEventListener("upgradeneeded",bt=>{ee(Dn(Oe.result),bt.oldVersion,bt.newVersion,Dn(Oe.transaction))}),j&&Oe.addEventListener("blocked",()=>j()),St.then(bt=>{fe&&bt.addEventListener("close",()=>fe()),ue&&bt.addEventListener("versionchange",()=>ue())}).catch(()=>{}),St}function ws(E,{blocked:S}={}){const j=indexedDB.deleteDatabase(E);return S&&j.addEventListener("blocked",()=>S()),Dn(j).then(()=>{})}const Ki=["get","getKey","getAll","getAllKeys","count"],zi=["put","add","delete","clear"],Es=new Map;function ni(E,S){if(!(E instanceof IDBDatabase)||S in E||"string"!=typeof S)return;if(Es.get(S))return Es.get(S);const j=S.replace(/FromIndex$/,""),ee=S!==j,ue=zi.includes(j);if(!(j in(ee?IDBIndex:IDBObjectStore).prototype)||!ue&&!Ki.includes(j))return;const fe=function(){var Oe=(0,W.Z)(function*(St,...bt){const Yt=this.transaction(St,ue?"readwrite":"readonly");let Sn=Yt.store;return ee&&(Sn=Sn.index(bt.shift())),(yield Promise.all([Sn[j](...bt),ue&&Yt.done]))[0]});return function(bt){return Oe.apply(this,arguments)}}();return Es.set(S,fe),fe}!function Pn(E){ti=E(ti)}(E=>({...E,get:(S,j,ee)=>ni(S,j)||E.get(S,j,ee),has:(S,j)=>!!ni(S,j)||E.has(S,j)}));const ln="/firebase-messaging-sw.js",Gi="/firebase-cloud-messaging-push-scope",co="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ka="https://fcmregistrations.googleapis.com/v1",$s="google.c.a.c_id",va="google.c.a.c_l",sr="google.c.a.ts",ho="google.c.a.e";var ke=(()=>{return(E=ke||(ke={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",ke;var E})();function Mn(E){const S=new Uint8Array(E);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _a(E){const j=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ee=atob(j),ue=new Uint8Array(ee.length);for(let fe=0;fe<ee.length;++fe)ue[fe]=ee.charCodeAt(fe);return ue}const Ya="fcm_token_details_db",Br=5,wl="fcm_token_object_Store";function fs(){return fs=(0,W.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(Ya))return null;let S=null;return(yield js(Ya,Br,{upgrade:(ee=(0,W.Z)(function*(ue,fe,Oe,St){var bt;if(fe<2||!ue.objectStoreNames.contains(wl))return;const Yt=St.objectStore(wl),Sn=yield Yt.index("fcmSenderId").get(E);if(yield Yt.clear(),Sn)if(2===fe){const Cn=Sn;if(!Cn.auth||!Cn.p256dh||!Cn.endpoint)return;S={token:Cn.fcmToken,createTime:null!==(bt=Cn.createTime)&&void 0!==bt?bt:Date.now(),subscriptionOptions:{auth:Cn.auth,p256dh:Cn.p256dh,endpoint:Cn.endpoint,swScope:Cn.swScope,vapidKey:"string"==typeof Cn.vapidKey?Cn.vapidKey:Mn(Cn.vapidKey)}}}else if(3===fe){const Cn=Sn;S={token:Cn.fcmToken,createTime:Cn.createTime,subscriptionOptions:{auth:Mn(Cn.auth),p256dh:Mn(Cn.p256dh),endpoint:Cn.endpoint,swScope:Cn.swScope,vapidKey:Mn(Cn.vapidKey)}}}else if(4===fe){const Cn=Sn;S={token:Cn.fcmToken,createTime:Cn.createTime,subscriptionOptions:{auth:Mn(Cn.auth),p256dh:Mn(Cn.p256dh),endpoint:Cn.endpoint,swScope:Cn.swScope,vapidKey:Mn(Cn.vapidKey)}}}}),function(fe,Oe,St,bt){return ee.apply(this,arguments)})})).close(),yield ws(Ya),yield ws("fcm_vapid_details_db"),yield ws("undefined"),function Oo(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:S}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var ee}),fs.apply(this,arguments)}const El="firebase-messaging-database",Il=1,fo="firebase-messaging-store";let Rs=null;function _i(){return Rs||(Rs=js(El,Il,{upgrade:(E,S)=>{0===S&&E.createObjectStore(fo)}})),Rs}function Ni(E){return Pi.apply(this,arguments)}function Pi(){return Pi=(0,W.Z)(function*(E){const S=Cl(E),ee=yield(yield _i()).transaction(fo).objectStore(fo).get(S);if(ee)return ee;{const ue=yield function Zo(E){return fs.apply(this,arguments)}(E.appConfig.senderId);if(ue)return yield wi(E,ue),ue}}),Pi.apply(this,arguments)}function wi(E,S){return Is.apply(this,arguments)}function Is(){return(Is=(0,W.Z)(function*(E,S){const j=Cl(E),ue=(yield _i()).transaction(fo,"readwrite");return yield ue.objectStore(fo).put(S,j),yield ue.done,S})).apply(this,arguments)}function po(){return(po=(0,W.Z)(function*(E){const S=Cl(E),ee=(yield _i()).transaction(fo,"readwrite");yield ee.objectStore(fo).delete(S),yield ee.done})).apply(this,arguments)}function Cl({appConfig:E}){return E.appId}const Pr=new Se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yi(E,S){return ki.apply(this,arguments)}function ki(){return(ki=(0,W.Z)(function*(E,S){const j=yield Cs(E),ee=Ia(S),ue={method:"POST",headers:j,body:JSON.stringify(ee)};let fe;try{fe=yield(yield fetch(Xa(E.appConfig),ue)).json()}catch(Oe){throw Pr.create("token-subscribe-failed",{errorInfo:Oe?.toString()})}if(fe.error)throw Pr.create("token-subscribe-failed",{errorInfo:fe.error.message});if(!fe.token)throw Pr.create("token-subscribe-no-token");return fe.token})).apply(this,arguments)}function wa(){return(wa=(0,W.Z)(function*(E,S){const j=yield Cs(E),ee=Ia(S.subscriptionOptions),ue={method:"PATCH",headers:j,body:JSON.stringify(ee)};let fe;try{fe=yield(yield fetch(`${Xa(E.appConfig)}/${S.token}`,ue)).json()}catch(Oe){throw Pr.create("token-update-failed",{errorInfo:Oe?.toString()})}if(fe.error)throw Pr.create("token-update-failed",{errorInfo:fe.error.message});if(!fe.token)throw Pr.create("token-update-no-token");return fe.token})).apply(this,arguments)}function bl(E,S){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,W.Z)(function*(E,S){const ee={method:"DELETE",headers:yield Cs(E)};try{const fe=yield(yield fetch(`${Xa(E.appConfig)}/${S}`,ee)).json();if(fe.error)throw Pr.create("token-unsubscribe-failed",{errorInfo:fe.error.message})}catch(ue){throw Pr.create("token-unsubscribe-failed",{errorInfo:ue?.toString()})}})).apply(this,arguments)}function Xa({projectId:E}){return`${Ka}/projects/${E}/registrations`}function Cs(E){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,W.Z)(function*({appConfig:E,installations:S}){const j=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${j}`})})).apply(this,arguments)}function Ia({p256dh:E,auth:S,endpoint:j,vapidKey:ee}){const ue={web:{endpoint:j,auth:S,p256dh:E}};return ee!==co&&(ue.web.applicationPubKey=ee),ue}const Ca=6048e5;function Ja(){return Ja=(0,W.Z)(function*(E){const S=yield function se(E,S){return he.apply(this,arguments)}(E.swRegistration,E.vapidKey),j={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:S.endpoint,auth:Mn(S.getKey("auth")),p256dh:Mn(S.getKey("p256dh"))},ee=yield Ni(E.firebaseDependencies);if(ee){if(function Ge(E,S){return S.vapidKey===E.vapidKey&&S.endpoint===E.endpoint&&S.auth===E.auth&&S.p256dh===E.p256dh}(ee.subscriptionOptions,j))return Date.now()>=ee.createTime+Ca?function Dr(E,S){return eu.apply(this,arguments)}(E,{token:ee.token,createTime:Date.now(),subscriptionOptions:j}):ee.token;try{yield bl(E.firebaseDependencies,ee.token)}catch(ue){console.warn(ue)}return Qo(E.firebaseDependencies,j)}return Qo(E.firebaseDependencies,j)}),Ja.apply(this,arguments)}function os(){return os=(0,W.Z)(function*(E){const S=yield Ni(E.firebaseDependencies);S&&(yield bl(E.firebaseDependencies,S.token),yield function Ou(E){return po.apply(this,arguments)}(E.firebaseDependencies));const j=yield E.swRegistration.pushManager.getSubscription();return!j||j.unsubscribe()}),os.apply(this,arguments)}function eu(){return eu=(0,W.Z)(function*(E,S){try{const j=yield function Qa(E,S){return wa.apply(this,arguments)}(E.firebaseDependencies,S),ee=Object.assign(Object.assign({},S),{token:j,createTime:Date.now()});return yield wi(E.firebaseDependencies,ee),j}catch(j){throw yield function Fi(E){return os.apply(this,arguments)}(E),j}}),eu.apply(this,arguments)}function Qo(E,S){return Y.apply(this,arguments)}function Y(){return(Y=(0,W.Z)(function*(E,S){const ee={token:yield Yi(E,S),createTime:Date.now(),subscriptionOptions:S};return yield wi(E,ee),ee.token})).apply(this,arguments)}function he(){return(he=(0,W.Z)(function*(E,S){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_a(S)})})).apply(this,arguments)}function ye(E){const S={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Ye(E,S){if(!S.notification)return;E.notification={};const j=S.notification.title;j&&(E.notification.title=j);const ee=S.notification.body;ee&&(E.notification.body=ee);const ue=S.notification.image;ue&&(E.notification.image=ue);const fe=S.notification.icon;fe&&(E.notification.icon=fe)}(S,E),function ut(E,S){S.data&&(E.data=S.data)}(S,E),function Ct(E,S){var j,ee,ue,fe,Oe;if(!(S.fcmOptions||null!==(j=S.notification)&&void 0!==j&&j.click_action))return;E.fcmOptions={};const St=null!==(ue=null===(ee=S.fcmOptions)||void 0===ee?void 0:ee.link)&&void 0!==ue?ue:null===(fe=S.notification)||void 0===fe?void 0:fe.click_action;St&&(E.fcmOptions.link=St);const bt=null===(Oe=S.fcmOptions)||void 0===Oe?void 0:Oe.analytics_label;bt&&(E.fcmOptions.analyticsLabel=bt)}(S,E),S}function sn(E,S){const j=[];for(let ee=0;ee<E.length;ee++)j.push(E.charAt(ee)),ee<S.length&&j.push(S.charAt(ee));return j.join("")}function en(E){return Pr.create("missing-app-config-values",{valueName:E})}sn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zn{constructor(S,j,ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ue=function nn(E){if(!E||!E.options)throw en("App Configuration Object");if(!E.name)throw en("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:j}=E;for(const ee of S)if(!j[ee])throw en(ee);return{appName:E.name,projectId:j.projectId,apiKey:j.apiKey,appId:j.appId,senderId:j.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:ue,installations:j,analyticsProvider:ee}}_delete(){return Promise.resolve()}}function yr(E){return cn.apply(this,arguments)}function cn(){return(cn=(0,W.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(ln,{scope:Gi}),E.swRegistration.update().catch(()=>{})}catch(S){throw Pr.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function kr(){return(kr=(0,W.Z)(function*(E,S){if(!S&&!E.swRegistration&&(yield yr(E)),S||!E.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Pr.create("invalid-sw-registration");E.swRegistration=S}})).apply(this,arguments)}function fr(){return(fr=(0,W.Z)(function*(E,S){S?E.vapidKey=S:E.vapidKey||(E.vapidKey=co)})).apply(this,arguments)}function Os(){return Os=(0,W.Z)(function*(E,S){if(!navigator)throw Pr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pr.create("permission-blocked");return yield function qi(E,S){return fr.apply(this,arguments)}(E,S?.vapidKey),yield function Kr(E,S){return kr.apply(this,arguments)}(E,S?.serviceWorkerRegistration),function Yo(E){return Ja.apply(this,arguments)}(E)}),Os.apply(this,arguments)}function Xo(){return(Xo=(0,W.Z)(function*(E,S,j){const ee=function ba(E){switch(E){case ke.NOTIFICATION_CLICKED:return"notification_open";case ke.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(ee,{message_id:j[$s],message_name:j[va],message_time:j[sr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Da(){return Da=(0,W.Z)(function*(E,S){const j=S.data;if(!j.isFirebaseMessaging)return;E.onMessageHandler&&j.messageType===ke.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(ye(j)):E.onMessageHandler.next(ye(j)));const ee=j.data;(function At(E){return"object"==typeof E&&!!E&&$s in E})(ee)&&"1"===ee[ho]&&(yield function Qi(E,S,j){return Xo.apply(this,arguments)}(E,j.messageType,ee))}),Da.apply(this,arguments)}const nu="@firebase/messaging",Pu=E=>{const S=new Zn(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",j=>function tu(E,S){return Da.apply(this,arguments)}(S,j)),S},Ec=E=>{const S=E.getProvider("messaging").getImmediate();return{getToken:ee=>function go(E,S){return Os.apply(this,arguments)}(S,ee)}};function ef(){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,W.Z)(function*(){try{yield(0,Se.eu)()}catch{return!1}return typeof window<"u"&&(0,Se.hl)()&&(0,Se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ku(){(0,ge._registerComponent)(new Ce.wA("messaging",Pu,"PUBLIC")),(0,ge._registerComponent)(new Ce.wA("messaging-internal",Ec,"PRIVATE")),(0,ge.registerVersion)(nu,"0.12.4"),(0,ge.registerVersion)(nu,"0.12.4","esm2017")}();const Jo="analytics",Tl="firebase_id",xd="origin",Fu=6e4,Md="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sl="https://www.googletagmanager.com/gtag/js",Ei=new Be.Yd("@firebase/analytics"),Gr=new Se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function tf(E){if(!E.startsWith(Sl)){const S=Gr.create("invalid-gtag-resource",{gtagURL:E});return Ei.warn(S.message),""}return E}function ea(E){return Promise.all(E.map(S=>S.catch(j=>j)))}function ta(){return(ta=(0,W.Z)(function*(E,S,j,ee,ue,fe){const Oe=ee[ue];try{if(Oe)yield S[Oe];else{const bt=(yield ea(j)).find(Yt=>Yt.measurementId===ue);bt&&(yield S[bt.appId])}}catch(St){Ei.error(St)}E("config",ue,fe)})).apply(this,arguments)}function Ta(){return(Ta=(0,W.Z)(function*(E,S,j,ee,ue){try{let fe=[];if(ue&&ue.send_to){let Oe=ue.send_to;Array.isArray(Oe)||(Oe=[Oe]);const St=yield ea(j);for(const bt of Oe){const Yt=St.find(Cn=>Cn.measurementId===bt),Sn=Yt&&S[Yt.appId];if(!Sn){fe=[];break}fe.push(Sn)}}0===fe.length&&(fe=Object.values(S)),yield Promise.all(fe),E("event",ee,ue||{})}catch(fe){Ei.error(fe)}})).apply(this,arguments)}const xl=30,Aa=new class Rd{constructor(S={},j=1e3){this.throttleMetadata=S,this.intervalMillis=j}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,j){this.throttleMetadata[S]=j}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function rf(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function er(){return(er=(0,W.Z)(function*(E){var S;const{appId:j,apiKey:ee}=E,ue={method:"GET",headers:rf(ee)},fe=Md.replace("{app-id}",j),Oe=yield fetch(fe,ue);if(200!==Oe.status&&304!==Oe.status){let St="";try{const bt=yield Oe.json();null!==(S=bt.error)&&void 0!==S&&S.message&&(St=bt.error.message)}catch{}throw Gr.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:St})}return Oe.json()})).apply(this,arguments)}function Nd(){return(Nd=(0,W.Z)(function*(E,S=Aa,j){const{appId:ee,apiKey:ue,measurementId:fe}=E.options;if(!ee)throw Gr.create("no-app-id");if(!ue){if(fe)return{measurementId:fe,appId:ee};throw Gr.create("no-api-key")}const Oe=S.getThrottleMetadata(ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},St=new ty;return setTimeout((0,W.Z)(function*(){St.abort()}),void 0!==j?j:Fu),xc({appId:ee,apiKey:ue,measurementId:fe},Oe,St,S)})).apply(this,arguments)}function xc(E,S,j){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,W.Z)(function*(E,{throttleEndTimeMillis:S,backoffCount:j},ee,ue=Aa){var fe;const{appId:Oe,measurementId:St}=E;try{yield function sf(E,S){return new Promise((j,ee)=>{const ue=Math.max(S-Date.now(),0),fe=setTimeout(j,ue);E.addEventListener(()=>{clearTimeout(fe),ee(Gr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(ee,S)}catch(bt){if(St)return Ei.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${bt?.message}]`),{appId:Oe,measurementId:St};throw bt}try{const bt=yield function Od(E){return er.apply(this,arguments)}(E);return ue.deleteThrottleMetadata(Oe),bt}catch(bt){const Yt=bt;if(!function ey(E){if(!(E instanceof Se.ZR&&E.customData))return!1;const S=Number(E.customData.httpStatus);return 429===S||500===S||503===S||504===S}(Yt)){if(ue.deleteThrottleMetadata(Oe),St)return Ei.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${Yt?.message}]`),{appId:Oe,measurementId:St};throw bt}const Sn=503===Number(null===(fe=Yt?.customData)||void 0===fe?void 0:fe.httpStatus)?(0,Se.$s)(j,ue.intervalMillis,xl):(0,Se.$s)(j,ue.intervalMillis),Cn={throttleEndTimeMillis:Date.now()+Sn,backoffCount:j+1};return ue.setThrottleMetadata(Oe,Cn),Ei.debug(`Calling attemptFetch again in ${Sn} millis`),xc(E,Cn,ee,ue)}}),Mc.apply(this,arguments)}class ty{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let xa,Nc;function af(){return(af=(0,W.Z)(function*(E,S,j,ee,ue){if(ue&&ue.global)E("event",j,ee);else{const fe=yield S;E("event",j,Object.assign(Object.assign({},ee),{send_to:fe}))}})).apply(this,arguments)}function cr(){return(cr=(0,W.Z)(function*(){if(!(0,Se.hl)())return Ei.warn(Gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Se.eu)()}catch(E){return Ei.warn(Gr.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function qt(){return qt=(0,W.Z)(function*(E,S,j,ee,ue,fe,Oe){var St;const bt=function Ac(E){return Nd.apply(this,arguments)}(E);bt.then(dn=>{j[dn.measurementId]=dn.appId,E.options.measurementId&&dn.measurementId!==E.options.measurementId&&Ei.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${dn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(dn=>Ei.error(dn)),S.push(bt);const Yt=function Ns(){return cr.apply(this,arguments)}().then(dn=>{if(dn)return ee.getId()}),[Sn,Cn]=yield Promise.all([bt,Yt]);(function su(E){const S=window.document.getElementsByTagName("script");for(const j of Object.values(S))if(j.src&&j.src.includes(Sl)&&j.src.includes(E))return j;return null})(fe)||function iu(E,S){const j=function Al(E,S){let j;return window.trustedTypes&&(j=window.trustedTypes.createPolicy(E,S)),j}("firebase-js-sdk-policy",{createScriptURL:tf}),ee=document.createElement("script"),ue=`${Sl}?l=${E}&id=${S}`;ee.src=j?j?.createScriptURL(ue):ue,ee.async=!0,document.head.appendChild(ee)}(fe,Sn.measurementId),Nc&&(ue("consent","default",Nc),function Ol(E){Nc=E}(void 0)),ue("js",new Date);const Qr=null!==(St=Oe?.config)&&void 0!==St?St:{};return Qr[xd]="firebase",Qr.update=!0,null!=Cn&&(Qr[Tl]=Cn),ue("config",Sn.measurementId,Qr),xa&&(ue("set",xa),function Pc(E){xa=E}(void 0)),Sn.measurementId}),qt.apply(this,arguments)}class zs{constructor(S){this.app=S}_delete(){return delete di[this.app.options.appId],Promise.resolve()}}let di={},kd=[];const Uu={};let Fd,Ps,gs="dataLayer",kc="gtag",ra=!1;function au(E,S,j){!function Ma(){const E=[];if((0,Se.ru)()&&E.push("This is a browser extension environment."),(0,Se.zI)()||E.push("Cookies are not available."),E.length>0){const S=E.map((ee,ue)=>`(${ue+1}) ${ee}`).join(" "),j=Gr.create("invalid-analytics-context",{errorInfo:S});Ei.warn(j.message)}}();const ee=E.options.appId;if(!ee)throw Gr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Gr.create("no-api-key");Ei.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=di[ee])throw Gr.create("already-exists",{id:ee});if(!ra){!function Dc(E){let S=[];Array.isArray(window[E])?S=window[E]:window[E]=S}(gs);const{wrappedGtag:fe,gtagCore:Oe}=function Sa(E,S,j,ee,ue){let fe=function(...Oe){window[ee].push(arguments)};return window[ue]&&"function"==typeof window[ue]&&(fe=window[ue]),window[ue]=function Lu(E,S,j,ee){function fe(){return fe=(0,W.Z)(function*(Oe,...St){try{if("event"===Oe){const[bt,Yt]=St;yield function nf(E,S,j,ee,ue){return Ta.apply(this,arguments)}(E,S,j,bt,Yt)}else if("config"===Oe){const[bt,Yt]=St;yield function Tc(E,S,j,ee,ue,fe){return ta.apply(this,arguments)}(E,S,j,ee,bt,Yt)}else if("consent"===Oe){const[bt]=St;E("consent","update",bt)}else if("get"===Oe){const[bt,Yt,Sn]=St;E("get",bt,Yt,Sn)}else if("set"===Oe){const[bt]=St;E("set",bt)}else E(Oe,...St)}catch(bt){Ei.error(bt)}}),fe.apply(this,arguments)}return function ue(Oe){return fe.apply(this,arguments)}}(fe,E,S,j),{gtagCore:fe,wrappedGtag:window[ue]}}(di,kd,Uu,gs,kc);Ps=fe,Fd=Oe,ra=!0}return di[ee]=function Hs(E,S,j,ee,ue,fe,Oe){return qt.apply(this,arguments)}(E,kd,Uu,S,Fd,gs,j),new zs(E)}function Ld(){return ks.apply(this,arguments)}function ks(){return(ks=(0,W.Z)(function*(){if((0,Se.ru)()||!(0,Se.zI)()||!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}const Hu="@firebase/analytics";!function Uc(){(0,ge._registerComponent)(new Ce.wA(Jo,(S,{options:j})=>au(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),j),"PUBLIC")),(0,ge._registerComponent)(new Ce.wA("analytics-internal",function E(S){try{const j=S.getProvider(Jo).getImmediate();return{logEvent:(ee,ue,fe)=>function uf(E,S,j,ee){E=(0,Se.m9)(E),function ny(E,S,j,ee,ue){return af.apply(this,arguments)}(Ps,di[E.app.options.appId],S,j,ee).catch(ue=>Ei.error(ue))}(j,ee,ue,fe)}}catch(j){throw Gr.create("interop-component-reg-failed",{reason:j})}},"PRIVATE")),(0,ge.registerVersion)(Hu,"0.10.0"),(0,ge.registerVersion)(Hu,"0.10.0","esm2017")}();var Bc=X(4408),Ds=X(7565);const as=new class jc extends Ds.v{}(class zu extends Bc.o{constructor(S,j){super(S,j),this.scheduler=S,this.work=j}schedule(S,j=0){return j>0?super.schedule(S,j):(this.delay=j,this.state=S,this.scheduler.flush(this),this)}execute(S,j){return j>0||this.closed?super.execute(S,j):this._execute(S,j)}requestAsyncId(S,j,ee=0){return null!=ee&&ee>0||null==ee&&this.delay>0?super.requestAsyncId(S,j,ee):(S.flush(this),0)}});var lf=X(4986),Yr=X(9751),Oa=X(8505),Na=X(9468),Ts=X(5363);const Ci=new d.GfV("7.5.0"),qu="__angularfire_symbol__analyticsIsSupportedValue",kl="__angularfire_symbol__analyticsIsSupported",uu="__angularfire_symbol__remoteConfigIsSupportedValue",Gs="__angularfire_symbol__remoteConfigIsSupported",ia="__angularfire_symbol__messagingIsSupportedValue",Li="__angularfire_symbol__messagingIsSupported";function lu(E,S,j){if(S){if(1===S.length)return S[0];const fe=S.filter(Oe=>Oe.app===j);if(1===fe.length)return fe[0]}return j.container.getProvider(E).getImmediate({optional:!0})}globalThis[kl]||(globalThis[kl]=Ld().then(E=>globalThis[qu]=E).catch(()=>globalThis[qu]=!1)),globalThis[Li]||(globalThis[Li]=ef().then(E=>globalThis[ia]=E).catch(()=>globalThis[ia]=!1)),globalThis[Gs]||(globalThis[Gs]=z().then(E=>globalThis[uu]=E).catch(()=>globalThis[uu]=!1));const Ud=(E,S)=>{const j=S?[S]:(0,J.C6)(),ee=[];return j.forEach(ue=>{ue.container.getProvider(E).instances.forEach(Oe=>{ee.includes(Oe)||ee.push(Oe)})}),ee};function Pa(){}class cu{constructor(S,j=as){this.zone=S,this.delegate=j}now(){return this.delegate.now()}schedule(S,j,ee){const ue=this.zone;return this.delegate.schedule(function(Oe){ue.runGuarded(()=>{S.apply(this,[Oe])})},j,ee)}}class vn{constructor(S){this.zone=S,this.task=null}call(S,j){const ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pa,{},Pa,Pa)),j.pipe((0,Oa.b)({next:ee,complete:ee,error:ee})).subscribe(S).add(ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sa=(()=>{class E{constructor(j){this.ngZone=j,this.outsideAngular=j.runOutsideAngular(()=>new cu(Zone.current)),this.insideAngular=j.run(()=>new cu(Zone.current,lf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(j){return new(j||E)(d.LFG(d.R0b))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function ka(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function oa(E){return ka().ngZone.run(()=>E())}function Hc(E){return ka(),function jd(E){return function(j){return(j=j.lift(new vn(E.ngZone))).pipe((0,Na.R)(E.outsideAngular),(0,Ts.Q)(E.insideAngular))}}(ka())(E)}const zc=(E,S)=>function(){const ee=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),oa(()=>E.apply(void 0,ee))},$d=(E,S)=>function(){let j;const ee=arguments;for(let fe=0;fe<arguments.length;fe++)"function"==typeof ee[fe]&&(S&&(j||(j=oa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pa,{},Pa,Pa)))),ee[fe]=zc(ee[fe],j));const ue=function du(E){return ka().ngZone.runOutsideAngular(()=>E())}(()=>E.apply(this,ee));if(!S){if(ue instanceof Yr.y){const fe=ka();return ue.pipe((0,Na.R)(fe.outsideAngular),(0,Ts.Q)(fe.insideAngular))}return oa(()=>ue)}return ue instanceof Yr.y?ue.pipe(Hc):ue instanceof Promise?oa(()=>new Promise((fe,Oe)=>ue.then(St=>oa(()=>fe(St)),St=>oa(()=>Oe(St))))):"function"==typeof ue&&j?function(){return setTimeout(()=>{j&&"scheduled"===j.state&&j.invoke()},10),ue.apply(this,arguments)}:oa(()=>ue)}},8502:(Ut,Je,X)=>{"use strict";X.d(Je,{$:()=>ln,A:()=>ie,D:()=>et,I:()=>Vr,J:()=>Ur,L:()=>hs,N:()=>L,P:()=>Hs,Q:()=>g,R:()=>Rl,U:()=>H,V:()=>z,W:()=>q,X:()=>R,Y:()=>xe,Z:()=>ct,_:()=>Kt,a:()=>ps,a0:()=>co,a1:()=>$s,a2:()=>wc,a3:()=>wl,a4:()=>fs,a5:()=>El,a6:()=>fo,a7:()=>_i,a8:()=>Pi,a9:()=>Is,aA:()=>be,aB:()=>kl,aC:()=>ir,aD:()=>U,aE:()=>Oa,aF:()=>$u,aG:()=>ju,aH:()=>Xn,aL:()=>mo,aO:()=>re,aa:()=>Ou,ab:()=>Cl,ac:()=>br,ad:()=>Qa,ae:()=>bl,af:()=>Xa,ai:()=>Ca,aj:()=>Ja,ak:()=>Fi,an:()=>xn,ao:()=>Ye,aq:()=>fr,ar:()=>nu,as:()=>Wt,at:()=>ot,au:()=>ne,av:()=>He,aw:()=>Cn,ax:()=>Li,ay:()=>Xe,az:()=>ze,b:()=>Dl,c:()=>Ps,d:()=>au,e:()=>Fc,f:()=>Hu,g:()=>jc,h:()=>Bc,i:()=>Sc,j:()=>lf,k:()=>Fs,l:()=>Vu,m:()=>Ll,p:()=>Fe,r:()=>Pd,s:()=>na,u:()=>Ns});var d=X(5861),J=X(2090),W=X(6881),ge=X(655),Se=X(1877),Ce=X(4859);const Fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ie={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const et=function ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Qe=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new Se.Yd("@firebase/auth");function it(w,...f){Ee.logLevel<=Se.in.ERROR&&Ee.error(`Auth (${W.SDK_VERSION}): ${w}`,...f)}function He(w,...f){throw tt(w,...f)}function ze(w,...f){return tt(w,...f)}function A(w,f,m){const C=Object.assign(Object.assign({},Qe()),{[f]:m});return new J.LL("auth","Firebase",C).create(f,{appName:w.name})}function dt(w,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&He(w,"argument-error"),A(w,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tt(w,...f){if("string"!=typeof w){const m=f[0],C=[...f.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(m,...C)}return nt.create(w,...f)}function be(w,f,...m){if(!w)throw tt(f,...m)}function Mt(w){const f="INTERNAL ASSERTION FAILED: "+w;throw it(f),new Error(f)}function Wt(w,f){w||Mt(f)}function Dt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function fn(){return"http:"===Bt()||"https:"===Bt()}function Bt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ke{constructor(f,m){this.shortDelay=f,this.longDelay=m,Wt(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return function Ue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(fn()||(0,J.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(w,f){Wt(w.emulator,"Emulator should always be set here");const{url:m}=w.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class wt{static initialize(f,m,C){this.fetchImpl=f,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Nt=new Ke(3e4,6e4);function vt(w,f){return w.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:w.tenantId}):f}function Ht(w,f,m,C){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,d.Z)(function*(w,f,m,C,$={}){return bn(w,$,(0,d.Z)(function*(){let Z={},pe={};C&&("GET"===f?pe=C:Z={body:JSON.stringify(C)});const Me=(0,J.xO)(Object.assign({key:w.config.apiKey},pe)).slice(1),gt=yield w._getAdditionalHeaders();return gt["Content-Type"]="application/json",w.languageCode&&(gt["X-Firebase-Locale"]=w.languageCode),wt.fetch()(Kn(w,w.config.apiHost,m,Me),Object.assign({method:f,headers:gt,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function bn(w,f,m){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,d.Z)(function*(w,f,m){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},mt),f);try{const $=new $r(w),Z=yield Promise.race([m(),$.promise]);$.clearNetworkTimeout();const pe=yield Z.json();if("needConfirmation"in pe)throw Mr(w,"account-exists-with-different-credential",pe);if(Z.ok&&!("errorMessage"in pe))return pe;{const Me=Z.ok?pe.errorMessage:pe.error.message,[gt,Ot]=Me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===gt)throw Mr(w,"credential-already-in-use",pe);if("EMAIL_EXISTS"===gt)throw Mr(w,"email-already-in-use",pe);if("USER_DISABLED"===gt)throw Mr(w,"user-disabled",pe);const an=C[gt]||gt.toLowerCase().replace(/[_\s]+/g,"-");if(Ot)throw A(w,an,Ot);He(w,an)}}catch($){if($ instanceof J.ZR)throw $;He(w,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function An(w,f,m,C){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*(w,f,m,C,$={}){const Z=yield Ht(w,f,m,C,$);return"mfaPendingCredential"in Z&&He(w,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function Kn(w,f,m,C){const $=`${f}${m}?${C}`;return w.config.emulator?st(w.config,$):`${w.config.apiScheme}://${$}`}class $r{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(ze(this.auth,"network-request-failed")),Nt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mr(w,f,m){const C={appName:w.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const $=ze(w,f,C);return $.customData._tokenResponse=m,$}function Sr(){return(Sr=(0,d.Z)(function*(w,f){return Ht(w,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function oi(){return(oi=(0,d.Z)(function*(w,f){return Ht(w,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Vn(){return(Vn=(0,d.Z)(function*(w,f){return Ht(w,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function zt(w){if(w)try{const f=new Date(Number(w));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Rr(){return(Rr=(0,d.Z)(function*(w,f=!1){const m=(0,J.m9)(w),C=yield m.getIdToken(f),$=Or(C);be($&&$.exp&&$.auth_time&&$.iat,m.auth,"internal-error");const Z="object"==typeof $.firebase?$.firebase:void 0,pe=Z?.sign_in_provider;return{claims:$,token:C,authTime:zt(Ar($.auth_time)),issuedAtTime:zt(Ar($.iat)),expirationTime:zt(Ar($.exp)),signInProvider:pe||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function Ar(w){return 1e3*Number(w)}function Or(w){const[f,m,C]=w.split(".");if(void 0===f||void 0===m||void 0===C)return it("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,J.tV)(m);return $?JSON.parse($):(it("Failed to decode base64 JWT payload"),null)}catch($){return it("Caught error parsing JWT payload as JSON",$?.toString()),null}}function yn(w,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,d.Z)(function*(w,f,m=!1){if(m)return f;try{return yield f}catch(C){throw C instanceof J.ZR&&function wn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}class Er{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const $=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),C)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class Hr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=zt(this.lastLoginAt),this.creationTime=zt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xr(w){return gi.apply(this,arguments)}function gi(){return gi=(0,d.Z)(function*(w){var f;const m=w.auth,C=yield w.getIdToken(),$=yield yn(w,function Zt(w,f){return Vn.apply(this,arguments)}(m,{idToken:C}));be($?.users.length,m,"internal-error");const Z=$.users[0];w._notifyReloadListener(Z);const pe=null!==(f=Z.providerUserInfo)&&void 0!==f&&f.length?function Ri(w){return w.map(f=>{var{providerId:m}=f,C=(0,ge._T)(f,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(Z.providerUserInfo):[],Me=function On(w,f){return[...w.filter(C=>!f.some($=>$.providerId===C.providerId)),...f]}(w.providerData,pe),an=!!w.isAnonymous&&!(w.email&&Z.passwordHash||Me?.length),$n={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:Me,metadata:new Hr(Z.createdAt,Z.lastLoginAt),isAnonymous:an};Object.assign(w,$n)}),gi.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(w){const f=(0,J.m9)(w);yield xr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ar(){return(ar=(0,d.Z)(function*(w,f){const m=yield bn(w,{},(0,d.Z)(function*(){const C=(0,J.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:$,apiKey:Z}=w.config,pe=Kn(w,$,"/v1/token",`key=${Z}`),Me=yield w._getAdditionalHeaders();return Me["Content-Type"]="application/x-www-form-urlencoded",wt.fetch()(pe,{method:"POST",headers:Me,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class En{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){be(f.idToken,"internal-error"),be(typeof f.idToken<"u","internal-error"),be(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function kn(w){const f=Or(w);return be(f,"internal-error"),be(typeof f.exp<"u","internal-error"),be(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var C=this;return(0,d.Z)(function*(){return be(!C.accessToken||C.refreshToken,f,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(f,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var C=this;return(0,d.Z)(function*(){const{accessToken:$,refreshToken:Z,expiresIn:pe}=yield function pn(w,f){return ar.apply(this,arguments)}(f,m);C.updateTokensAndExpiration($,Z,Number(pe))})()}updateTokensAndExpiration(f,m,C){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(f,m){const{refreshToken:C,accessToken:$,expirationTime:Z}=m,pe=new En;return C&&(be("string"==typeof C,"internal-error",{appName:f}),pe.refreshToken=C),$&&(be("string"==typeof $,"internal-error",{appName:f}),pe.accessToken=$),Z&&(be("number"==typeof Z,"internal-error",{appName:f}),pe.expirationTime=Z),pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new En,this.toJSON())}_performRefresh(){return Mt("not implemented")}}function Ir(w,f){be("string"==typeof w||typeof w>"u","internal-error",{appName:f})}class yt{constructor(f){var{uid:m,auth:C,stsTokenManager:$}=f,Z=(0,ge._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new Hr(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,d.Z)(function*(){const C=yield yn(m,m.stsTokenManager.getToken(m.auth,f));return be(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(f){return function wr(w){return Rr.apply(this,arguments)}(this,f)}reload(){return function ur(w){return Nr.apply(this,arguments)}(this)}_assign(f){this!==f&&(be(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new yt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var C=this;return(0,d.Z)(function*(){let $=!1;f.idToken&&f.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(f),$=!0),m&&(yield xr(C)),yield C.auth._persistUserIfCurrent(C),$&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var f=this;return(0,d.Z)(function*(){const m=yield f.getIdToken();return yield yn(f,function pi(w,f){return Sr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var C,$,Z,pe,Me,gt,Ot,an;const $n=null!==(C=m.displayName)&&void 0!==C?C:void 0,ms=null!==($=m.email)&&void 0!==$?$:void 0,Fa=null!==(Z=m.phoneNumber)&&void 0!==Z?Z:void 0,fu=null!==(pe=m.photoURL)&&void 0!==pe?pe:void 0,qc=null!==(Me=m.tenantId)&&void 0!==Me?Me:void 0,Po=null!==(gt=m._redirectEventId)&&void 0!==gt?gt:void 0,pf=null!==(Ot=m.createdAt)&&void 0!==Ot?Ot:void 0,zd=null!==(an=m.lastLoginAt)&&void 0!==an?an:void 0,{uid:Wc,emailVerified:pu,isAnonymous:Gd,providerData:qd,stsTokenManager:jl}=m;be(Wc&&jl,f,"internal-error");const Wd=En.fromJSON(this.name,jl);be("string"==typeof Wc,f,"internal-error"),Ir($n,f.name),Ir(ms,f.name),be("boolean"==typeof pu,f,"internal-error"),be("boolean"==typeof Gd,f,"internal-error"),Ir(Fa,f.name),Ir(fu,f.name),Ir(qc,f.name),Ir(Po,f.name),Ir(pf,f.name),Ir(zd,f.name);const $l=new yt({uid:Wc,auth:f,email:ms,emailVerified:pu,displayName:$n,isAnonymous:Gd,photoURL:fu,phoneNumber:Fa,tenantId:qc,stsTokenManager:Wd,createdAt:pf,lastLoginAt:zd});return qd&&Array.isArray(qd)&&($l.providerData=qd.map(gu=>Object.assign({},gu))),Po&&($l._redirectEventId=Po),$l}static _fromIdTokenResponse(f,m,C=!1){return(0,d.Z)(function*(){const $=new En;$.updateFromServerResponse(m);const Z=new yt({uid:m.localId,auth:f,stsTokenManager:$,isAnonymous:C});return yield xr(Z),Z})()}}const zr=new Map;function ir(w){Wt(w instanceof Function,"Expected a class definition");let f=zr.get(w);return f?(Wt(f instanceof w,"Instance stored in cache mismatched with class"),f):(f=new w,zr.set(w,f),f)}const L=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,C){var $=this;return(0,d.Z)(function*(){$.storage[m]=C})()}_get(m){var C=this;return(0,d.Z)(function*(){const $=C.storage[m];return void 0===$?null:$})()}_remove(m){var C=this;return(0,d.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return w.type="NONE",w})();function U(w,f,m){return`firebase:${w}:${f}:${m}`}class D{constructor(f,m,C){this.persistence=f,this.auth=m,this.userKey=C;const{config:$,name:Z}=this.auth;this.fullUserKey=U(this.userKey,$.apiKey,Z),this.fullPersistenceKey=U("persistence",$.apiKey,Z),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?yt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,d.Z)(function*(){if(m.persistence===f)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,C="authUser"){return(0,d.Z)(function*(){if(!m.length)return new D(ir(L),f,C);const $=(yield Promise.all(m.map(function(){var Ot=(0,d.Z)(function*(an){if(yield an._isAvailable())return an});return function(an){return Ot.apply(this,arguments)}}()))).filter(Ot=>Ot);let Z=$[0]||ir(L);const pe=U(C,f.config.apiKey,f.name);let Me=null;for(const Ot of m)try{const an=yield Ot._get(pe);if(an){const $n=yt._fromJSON(f,an);Ot!==Z&&(Me=$n),Z=Ot;break}}catch{}const gt=$.filter(Ot=>Ot._shouldAllowMigration);return Z._shouldAllowMigration&&gt.length?(Z=gt[0],Me&&(yield Z._set(pe,Me.toJSON())),yield Promise.all(m.map(function(){var Ot=(0,d.Z)(function*(an){if(an!==Z)try{yield an._remove(pe)}catch{}});return function(an){return Ot.apply(this,arguments)}}())),new D(Z,f,C)):new D(Z,f,C)})()}}function P(w){const f=w.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(K(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(N(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(me(f))return"Blackberry";if(Re(f))return"Webos";if(k(f))return"Safari";if((f.includes("chrome/")||F(f))&&!f.includes("edge/"))return"Chrome";if(ne(f))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function N(w=(0,J.z$)()){return/firefox\//i.test(w)}function k(w=(0,J.z$)()){const f=w.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function F(w=(0,J.z$)()){return/crios\//i.test(w)}function K(w=(0,J.z$)()){return/iemobile/i.test(w)}function ne(w=(0,J.z$)()){return/android/i.test(w)}function me(w=(0,J.z$)()){return/blackberry/i.test(w)}function Re(w=(0,J.z$)()){return/webos/i.test(w)}function ot(w=(0,J.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Xe(w=(0,J.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Jt(w=(0,J.z$)()){return ot(w)||ne(w)||Re(w)||me(w)||/windows phone/i.test(w)||K(w)}function Lr(w,f=[]){let m;switch(w){case"Browser":m=P((0,J.z$)());break;case"Worker":m=`${P((0,J.z$)())}-${w}`;break;default:m=w}const C=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${W.SDK_VERSION}/${C}`}function _e(){return(_e=(0,d.Z)(function*(w){return(yield Ht(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function at(w,f){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,d.Z)(function*(w,f){return Ht(w,"GET","/v2/recaptchaConfig",vt(w,f))})).apply(this,arguments)}function on(w){return void 0!==w&&void 0!==w.getResponse}function Nn(w){return void 0!==w&&void 0!==w.enterprise}class Gt{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Bn(w){return new Promise((f,m)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=f,C.onerror=$=>{const Z=ze("internal-error");Z.customData=$,m(Z)},C.type="text/javascript",C.charset="UTF-8",function qn(){var w,f;return null!==(f=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==f?f:document}().appendChild(C)})}function ai(w){return`__${w}${Math.floor(1e6*Math.random())}`}const fl="NO_RECAPTCHA";class to{constructor(f){this.type="recaptcha-enterprise",this.auth=Xn(f)}verify(f="verify",m=!1){var C=this;return(0,d.Z)(function*(){function Z(){return Z=(0,d.Z)(function*(Me){if(!m){if(null==Me.tenantId&&null!=Me._agentRecaptchaConfig)return Me._agentRecaptchaConfig.siteKey;if(null!=Me.tenantId&&void 0!==Me._tenantRecaptchaConfigs[Me.tenantId])return Me._tenantRecaptchaConfigs[Me.tenantId].siteKey}return new Promise(function(){var gt=(0,d.Z)(function*(Ot,an){at(Me,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($n=>{if(void 0!==$n.recaptchaKey){const ms=new Gt($n);return null==Me.tenantId?Me._agentRecaptchaConfig=ms:Me._tenantRecaptchaConfigs[Me.tenantId]=ms,Ot(ms.siteKey)}an(new Error("recaptcha Enterprise site key undefined"))}).catch($n=>{an($n)})});return function(Ot,an){return gt.apply(this,arguments)}}())}),Z.apply(this,arguments)}function pe(Me,gt,Ot){const an=window.grecaptcha;Nn(an)?an.enterprise.ready(()=>{an.enterprise.execute(Me,{action:f}).then($n=>{gt($n)}).catch(()=>{gt(fl)})}):Ot(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Me,gt)=>{(function $(Me){return Z.apply(this,arguments)})(C.auth).then(Ot=>{if(!m&&Nn(window.grecaptcha))pe(Ot,Me,gt);else{if(typeof window>"u")return void gt(new Error("RecaptchaVerifier is only supported in browser"));Bn("https://www.google.com/recaptcha/enterprise.js?render="+Ot).then(()=>{pe(Ot,Me,gt)}).catch(an=>{gt(an)})}}).catch(Ot=>{gt(Ot)})})})()}}function Zr(w,f,m){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,d.Z)(function*(w,f,m,C=!1){const $=new to(w);let Z;try{Z=yield $.verify(m)}catch{Z=yield $.verify(m,!0)}const pe=Object.assign({},f);return Object.assign(pe,C?{captchaResp:Z}:{captchaResponse:Z}),Object.assign(pe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(pe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),pe})).apply(this,arguments)}class un{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const C=Z=>new Promise((pe,Me)=>{try{pe(f(Z))}catch(gt){Me(gt)}});C.onAbort=m,this.queue.push(C);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===f)return;const C=[];try{for(const $ of m.queue)yield $(f),$.onAbort&&C.push($.onAbort)}catch($){C.reverse();for(const Z of C)try{Z()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class lr{constructor(f,m,C,$){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=C,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new no(this),this.idTokenSubscription=new no(this),this.beforeStateQueue=new un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(f,m){var C=this;return m&&(this._popupRedirectResolver=ir(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var $,Z;if(!C._deleted&&(C.persistenceManager=yield D.create(C,f),!C._deleted)){if(null!==($=C._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(Z=C.currentUser)||void 0===Z?void 0:Z.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,d.Z)(function*(){var C;const $=yield m.assertedPersistence.getCurrentUser();let Z=$,pe=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Me=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,gt=Z?._redirectEventId,Ot=yield m.tryRedirectSignIn(f);(!Me||Me===gt)&&Ot?.user&&(Z=Ot.user,pe=!0)}if(!Z)return m.directlySetCurrentUser(null);if(!Z._redirectEventId){if(pe)try{yield m.beforeStateQueue.runMiddleware(Z)}catch(Me){Z=$,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Me))}return Z?m.reloadAndSetCurrentUserOrClear(Z):m.directlySetCurrentUser(null)}return be(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Z._redirectEventId?m.directlySetCurrentUser(Z):m.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(f){var m=this;return(0,d.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,d.Z)(function*(){try{yield xr(f)}catch(C){if("auth/network-request-failed"!==C?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ve(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,d.Z)(function*(){const C=f?(0,J.m9)(f):null;return C&&be(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(f,m=!1){var C=this;return(0,d.Z)(function*(){if(!C._deleted)return f&&be(C.tenantId===f.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(f)),C.queue((0,d.Z)(function*(){yield C.directlySetCurrentUser(f),C.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(ir(f))}))}initializeRecaptchaConfig(){var f=this;return(0,d.Z)(function*(){const m=yield at(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new Gt(m);null==f.tenantId?f._agentRecaptchaConfig=C:f._tenantRecaptchaConfigs[f.tenantId]=C,C.emailPasswordEnabled&&new to(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new J.LL("auth","Firebase",f())}onAuthStateChanged(f,m,C){return this.registerStateListener(this.authStateSubscription,f,m,C)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,C){return this.registerStateListener(this.idTokenSubscription,f,m,C)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var C=this;return(0,d.Z)(function*(){const $=yield C.getOrInitRedirectPersistenceManager(m);return null===f?$.removeCurrentUser():$.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const C=f&&ir(f)||m._popupRedirectResolver;be(C,m,"argument-error"),m.redirectPersistenceManager=yield D.create(m,[ir(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,d.Z)(function*(){var C,$;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===f?m._currentUser:(null===($=m.redirectUser)||void 0===$?void 0:$._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,d.Z)(function*(){if(f===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,C,$){if(this._deleted)return()=>{};const Z="function"==typeof m?m:m.next.bind(m),pe=this._isInitialized?Promise.resolve():this._initializationPromise;return be(pe,this,"internal-error"),pe.then(()=>Z(this.currentUser)),"function"==typeof m?f.addObserver(m,C,$):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Lr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var m;const C={"X-Client-Version":f.clientVersion};f.app.options.appId&&(C["X-Firebase-gmpid"]=f.app.options.appId);const $=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();$&&(C["X-Firebase-Client"]=$);const Z=yield f._getAppCheckToken();return Z&&(C["X-Firebase-AppCheck"]=Z),C})()}_getAppCheckToken(){var f=this;return(0,d.Z)(function*(){var m;const C=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return C?.error&&function rt(w,...f){Ee.logLevel<=Se.in.WARN&&Ee.warn(`Auth (${W.SDK_VERSION}): ${w}`,...f)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function Xn(w){return(0,J.m9)(w)}class no{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,J.ne)(m=>this.observer=m)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vr(w,f,m){const C=Xn(w);be(C._canInitEmulator,C,"emulator-config-failed"),be(/^https?:\/\//.test(f),C,"invalid-emulator-scheme");const $=!!m?.disableWarnings,Z=ro(f),{host:pe,port:Me}=function Ao(w){const f=ro(w),m=/(\/\/)?([^?#/]+)/.exec(w.substr(f.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(C);if($){const Z=$[1];return{host:Z,port:Fn(C.substr(Z.length+1))}}{const[Z,pe]=C.split(":");return{host:Z,port:Fn(pe)}}}(f);C.config.emulator={url:`${Z}//${pe}${null===Me?"":`:${Me}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:pe,port:Me,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function qa(){function w(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function ro(w){const f=w.indexOf(":");return f<0?"":w.substr(0,f+1)}function Fn(w){if(!w)return null;const f=Number(w);return isNaN(f)?null:f}class Ur{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Mt("not implemented")}_getIdTokenResponse(f){return Mt("not implemented")}_linkToIdToken(f,m){return Mt("not implemented")}_getReauthenticationResolver(f){return Mt("not implemented")}}function Go(w,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,d.Z)(function*(w,f){return Ht(w,"POST","/v1/accounts:resetPassword",vt(w,f))})).apply(this,arguments)}function ei(w,f){return xo.apply(this,arguments)}function xo(){return(xo=(0,d.Z)(function*(w,f){return Ht(w,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(w,f){return Ht(w,"POST","/v1/accounts:update",vt(w,f))})).apply(this,arguments)}function io(w,f){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,d.Z)(function*(w,f){return An(w,"POST","/v1/accounts:signInWithPassword",vt(w,f))})).apply(this,arguments)}function hr(w,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,d.Z)(function*(w,f){return Ht(w,"POST","/v1/accounts:sendOobCode",vt(w,f))})).apply(this,arguments)}function qo(){return(qo=(0,d.Z)(function*(w,f){return hr(w,f)})).apply(this,arguments)}function so(w,f){return oo.apply(this,arguments)}function oo(){return(oo=(0,d.Z)(function*(w,f){return hr(w,f)})).apply(this,arguments)}function ao(w,f){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(w,f){return hr(w,f)})).apply(this,arguments)}function yi(){return(yi=(0,d.Z)(function*(w,f){return hr(w,f)})).apply(this,arguments)}function Ro(){return(Ro=(0,d.Z)(function*(w,f){return An(w,"POST","/v1/accounts:signInWithEmailLink",vt(w,f))})).apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(w,f){return An(w,"POST","/v1/accounts:signInWithEmailLink",vt(w,f))})).apply(this,arguments)}class Zi extends Ur{constructor(f,m,C,$=null){super("password",C),this._email=f,this._password=m,this._tenantId=$}static _fromEmailAndPassword(f,m){return new Zi(f,m,"password")}static _fromEmailAndCode(f,m,C=null){return new Zi(f,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,d.Z)(function*(){var C;switch(m.signInMethod){case"password":const $={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=f._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Z=yield Zr(f,$,"signInWithPassword");return io(f,Z)}return io(f,$).catch(function(){var Z=(0,d.Z)(function*(pe){if("auth/missing-recaptcha-token"===pe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Me=yield Zr(f,$,"signInWithPassword");return io(f,Me)}return Promise.reject(pe)});return function(pe){return Z.apply(this,arguments)}}());case"emailLink":return function _s(w,f){return Ro.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:He(f,"internal-error")}})()}_linkToIdToken(f,m){var C=this;return(0,d.Z)(function*(){switch(C.signInMethod){case"password":return ei(f,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Wa(w,f){return ga.apply(this,arguments)}(f,{idToken:m,email:C._email,oobCode:C._password});default:He(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function uo(w,f){return ma.apply(this,arguments)}function ma(){return(ma=(0,d.Z)(function*(w,f){return An(w,"POST","/v1/accounts:signInWithIdp",vt(w,f))})).apply(this,arguments)}class hs extends Ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new hs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):He("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:$}=m,Z=(0,ge._T)(m,["providerId","signInMethod"]);if(!C||!$)return null;const pe=new hs(C,$);return pe.idToken=Z.idToken||void 0,pe.accessToken=Z.accessToken||void 0,pe.secret=Z.secret,pe.nonce=Z.nonce,pe.pendingToken=Z.pendingToken||null,pe}_getIdTokenResponse(f){return uo(f,this.buildRequest())}_linkToIdToken(f,m){const C=this.buildRequest();return C.idToken=m,uo(f,C)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,uo(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,J.xO)(m)}return f}}function Za(){return(Za=(0,d.Z)(function*(w,f){return Ht(w,"POST","/v1/accounts:sendVerificationCode",vt(w,f))})).apply(this,arguments)}function Ru(){return(Ru=(0,d.Z)(function*(w,f){return An(w,"POST","/v1/accounts:signInWithPhoneNumber",vt(w,f))})).apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(w,f){const m=yield An(w,"POST","/v1/accounts:signInWithPhoneNumber",vt(w,f));if(m.temporaryProof)throw Mr(w,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const vl={USER_NOT_FOUND:"user-not-found"};function ya(){return(ya=(0,d.Z)(function*(w,f){return An(w,"POST","/v1/accounts:signInWithPhoneNumber",vt(w,Object.assign(Object.assign({},f),{operation:"REAUTH"})),vl)})).apply(this,arguments)}class Bs extends Ur{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Bs({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Bs({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function gl(w,f){return Ru.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function ml(w,f){return yl.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function _l(w,f){return ya.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:C,verificationCode:$}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:C,code:$}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:C,phoneNumber:$,temporaryProof:Z}=f;return C||m||$||Z?new Bs({verificationId:m,verificationCode:C,phoneNumber:$,temporaryProof:Z}):null}}class Wo{constructor(f){var m,C,$,Z,pe,Me;const gt=(0,J.zd)((0,J.pd)(f)),Ot=null!==(m=gt.apiKey)&&void 0!==m?m:null,an=null!==(C=gt.oobCode)&&void 0!==C?C:null,$n=function lo(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=gt.mode)&&void 0!==$?$:null);be(Ot&&an&&$n,"argument-error"),this.apiKey=Ot,this.operation=$n,this.code=an,this.continueUrl=null!==(Z=gt.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(pe=gt.languageCode)&&void 0!==pe?pe:null,this.tenantId=null!==(Me=gt.tenantId)&&void 0!==Me?Me:null}static parseLink(f){const m=function vc(w){const f=(0,J.zd)((0,J.pd)(w)).link,m=f?(0,J.zd)((0,J.pd)(f)).deep_link_id:null,C=(0,J.zd)((0,J.pd)(w)).deep_link_id;return(C?(0,J.zd)((0,J.pd)(C)).link:null)||C||m||f||w}(f);try{return new Wo(m)}catch{return null}}}let g=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(m,C){return Zi._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const $=Wo.parseLink(C);return be($,"argument-error"),Zi._fromEmailAndCode(m,$.code,$.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class _{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class T extends _{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class R extends T{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return be("providerId"in m&&"signInMethod"in m,"argument-error"),hs._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return be(f.idToken||f.accessToken,"argument-error"),hs._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return R.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return R.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:$,pendingToken:Z,nonce:pe,providerId:Me}=f;if(!C&&!$&&!m&&!Z||!Me)return null;try{return new R(Me)._credential({idToken:m,accessToken:C,nonce:pe,pendingToken:Z})}catch{return null}}}let H=(()=>{class w extends T{constructor(){super("facebook.com")}static credential(m){return hs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),z=(()=>{class w extends T{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return hs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:$}=m;if(!C&&!$)return null;try{return w.credential(C,$)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),q=(()=>{class w extends T{constructor(){super("github.com")}static credential(m){return hs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class re extends Ur{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return uo(f,this.buildRequest())}_linkToIdToken(f,m){const C=this.buildRequest();return C.idToken=m,uo(f,C)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,uo(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:$,pendingToken:Z}=m;return C&&$&&Z&&C===$?new re(C,Z):null}static _create(f,m){return new re(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xe extends _{constructor(f){be(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return xe.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return xe.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=re.fromJSON(f);return be(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:C}=f;if(!m||!C)return null;try{return re._create(C,m)}catch{return null}}}let ct=(()=>{class w extends T{constructor(){super("twitter.com")}static credential(m,C){return hs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:$}=m;if(!C||!$)return null;try{return w.credential(C,$)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function De(w,f){return je.apply(this,arguments)}function je(){return(je=(0,d.Z)(function*(w,f){return An(w,"POST","/v1/accounts:signUp",vt(w,f))})).apply(this,arguments)}class Tt{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,C,$=!1){return(0,d.Z)(function*(){const Z=yield yt._fromIdTokenResponse(f,C,$),pe=In(C);return new Tt({user:Z,providerId:pe,_tokenResponse:C,operationType:m})})()}static _forOperation(f,m,C){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(C,!0);const $=In(C);return new Tt({user:f,providerId:$,_tokenResponse:C,operationType:m})})()}}function In(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Kt(w){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(w){var f;const m=Xn(w);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Tt({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield De(m,{returnSecureToken:!0}),$=yield Tt._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser($.user),$})).apply(this,arguments)}class Cr extends J.ZR{constructor(f,m,C,$){var Z;super(m.code,m.message),this.operationType=C,this.user=$,Object.setPrototypeOf(this,Cr.prototype),this.customData={appName:f.name,tenantId:null!==(Z=f.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(f,m,C,$){return new Cr(f,m,C,$)}}function ti(w,f,m,C){return("reauthenticate"===f?m._getReauthenticationResolver(w):m._getIdTokenResponse(w)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?Cr._fromErrorAndOperation(w,Z,f,C):Z})}function Pn(w){return new Set(w.map(({providerId:f})=>f).filter(f=>!!f))}function xn(w,f){return vi.apply(this,arguments)}function vi(){return vi=(0,d.Z)(function*(w,f){const m=(0,J.m9)(w);yield js(!0,m,f);const{providerUserInfo:C}=yield function Wr(w,f){return oi.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),$=Pn(C||[]);return m.providerData=m.providerData.filter(Z=>$.has(Z.providerId)),$.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),vi.apply(this,arguments)}function Dn(w,f){return jn.apply(this,arguments)}function jn(){return(jn=(0,d.Z)(function*(w,f,m=!1){const C=yield yn(w,f._linkToIdToken(w.auth,yield w.getIdToken()),m);return Tt._forOperation(w,"link",C)})).apply(this,arguments)}function js(w,f,m){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(w,f,m){yield xr(f);const $=!1===w?"provider-already-linked":"no-such-provider";be(Pn(f.providerData).has(m)===w,f.auth,$)})).apply(this,arguments)}function Ki(w,f){return zi.apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(w,f,m=!1){const{auth:C}=w,$="reauthenticate";try{const Z=yield yn(w,ti(C,$,f,w),m);be(Z.idToken,C,"internal-error");const pe=Or(Z.idToken);be(pe,C,"internal-error");const{sub:Me}=pe;return be(w.uid===Me,C,"user-mismatch"),Tt._forOperation(w,$,Z)}catch(Z){throw"auth/user-not-found"===Z?.code&&He(C,"user-mismatch"),Z}})).apply(this,arguments)}function Es(w,f){return ni.apply(this,arguments)}function ni(){return(ni=(0,d.Z)(function*(w,f,m=!1){const C="signIn",$=yield ti(w,C,f),Z=yield Tt._fromIdTokenResponse(w,C,$);return m||(yield w._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function ln(w,f){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,d.Z)(function*(w,f){return Es(Xn(w),f)})).apply(this,arguments)}function co(w,f){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,d.Z)(function*(w,f){const m=(0,J.m9)(w);return yield js(!1,m,f.providerId),Dn(m,f)})).apply(this,arguments)}function $s(w,f){return va.apply(this,arguments)}function va(){return(va=(0,d.Z)(function*(w,f){return Ki((0,J.m9)(w),f)})).apply(this,arguments)}function ho(){return(ho=(0,d.Z)(function*(w,f){return An(w,"POST","/v1/accounts:signInWithCustomToken",vt(w,f))})).apply(this,arguments)}function wc(w,f){return ke.apply(this,arguments)}function ke(){return ke=(0,d.Z)(function*(w,f){const m=Xn(w),C=yield function sr(w,f){return ho.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),$=yield Tt._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser($.user),$}),ke.apply(this,arguments)}class Mn{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?_a._fromServerResponse(f,m):"totpInfo"in m?Ya._fromServerResponse(f,m):He(f,"internal-error")}}class _a extends Mn{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new _a(m)}}class Ya extends Mn{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new Ya(m)}}function Br(w,f,m){var C;be((null===(C=m.url)||void 0===C?void 0:C.length)>0,w,"invalid-continue-uri"),be(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(be(m.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(be(m.android.packageName.length>0,w,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function wl(w,f,m){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,d.Z)(function*(w,f,m){var C;const $=Xn(w),Z={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=$._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const pe=yield Zr($,Z,"getOobCode",!0);m&&Br($,pe,m),yield so($,pe)}else m&&Br($,Z,m),yield so($,Z).catch(function(){var pe=(0,d.Z)(function*(Me){if("auth/missing-recaptcha-token"!==Me.code)return Promise.reject(Me);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const gt=yield Zr($,Z,"getOobCode",!0);m&&Br($,gt,m),yield so($,gt)}});return function(Me){return pe.apply(this,arguments)}}())}),Zo.apply(this,arguments)}function fs(w,f,m){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(w,f,m){yield Go((0,J.m9)(w),{oobCode:f,newPassword:m})})).apply(this,arguments)}function El(w,f){return Il.apply(this,arguments)}function Il(){return Il=(0,d.Z)(function*(w,f){yield function is(w,f){return ci.apply(this,arguments)}((0,J.m9)(w),{oobCode:f})}),Il.apply(this,arguments)}function fo(w,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,d.Z)(function*(w,f){const m=(0,J.m9)(w),C=yield Go(m,{oobCode:f}),$=C.requestType;switch(be($,m,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(C.mfaInfo,m,"internal-error");default:be(C.email,m,"internal-error")}let Z=null;return C.mfaInfo&&(Z=Mn._fromServerResponse(Xn(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:Z},operation:$}})).apply(this,arguments)}function _i(w,f){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,d.Z)(function*(w,f){const{data:m}=yield fo((0,J.m9)(w),f);return m.email})).apply(this,arguments)}function Pi(w,f,m){return wi.apply(this,arguments)}function wi(){return wi=(0,d.Z)(function*(w,f,m){var C;const $=Xn(w),Z={returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"};let pe;if(null!==(C=$._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Ot=yield Zr($,Z,"signUpPassword");pe=De($,Ot)}else pe=De($,Z).catch(function(){var Ot=(0,d.Z)(function*(an){if("auth/missing-recaptcha-token"===an.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const $n=yield Zr($,Z,"signUpPassword");return De($,$n)}return Promise.reject(an)});return function(an){return Ot.apply(this,arguments)}}());const Me=yield pe.catch(Ot=>Promise.reject(Ot)),gt=yield Tt._fromIdTokenResponse($,"signIn",Me);return yield $._updateCurrentUser(gt.user),gt}),wi.apply(this,arguments)}function Is(w,f,m){return ln((0,J.m9)(w),g.credential(f,m))}function Ou(w,f,m){return po.apply(this,arguments)}function po(){return po=(0,d.Z)(function*(w,f,m){var C;const $=Xn(w),Z={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function pe(Me,gt){be(gt.handleCodeInApp,$,"argument-error"),gt&&Br($,Me,gt)}if(null!==(C=$._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Me=yield Zr($,Z,"getOobCode",!0);pe(Me,m),yield ao($,Me)}else pe(Z,m),yield ao($,Z).catch(function(){var Me=(0,d.Z)(function*(gt){if("auth/missing-recaptcha-token"!==gt.code)return Promise.reject(gt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ot=yield Zr($,Z,"getOobCode",!0);pe(Ot,m),yield ao($,Ot)}});return function(gt){return Me.apply(this,arguments)}}())}),po.apply(this,arguments)}function Cl(w,f){return"EMAIL_SIGNIN"===Wo.parseLink(f)?.operation}function br(w,f,m){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,d.Z)(function*(w,f,m){const C=(0,J.m9)(w),$=g.credentialWithLink(f,m||Dt());return be($._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),ln(C,$)})).apply(this,arguments)}function ki(){return(ki=(0,d.Z)(function*(w,f){return Ht(w,"POST","/v1/accounts:createAuthUri",vt(w,f))})).apply(this,arguments)}function Qa(w,f){return wa.apply(this,arguments)}function wa(){return wa=(0,d.Z)(function*(w,f){const C={identifier:f,continueUri:fn()?Dt():"http://localhost"},{signinMethods:$}=yield function Yi(w,f){return ki.apply(this,arguments)}((0,J.m9)(w),C);return $||[]}),wa.apply(this,arguments)}function bl(w,f){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,d.Z)(function*(w,f){const m=(0,J.m9)(w),$={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};f&&Br(m.auth,$,f);const{email:Z}=yield function Mo(w,f){return qo.apply(this,arguments)}(m.auth,$);Z!==w.email&&(yield w.reload())}),Ko.apply(this,arguments)}function Xa(w,f,m){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,d.Z)(function*(w,f,m){const C=(0,J.m9)(w),Z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:f};m&&Br(C.auth,Z,m);const{email:pe}=yield function pl(w,f){return yi.apply(this,arguments)}(C.auth,Z);pe!==w.email&&(yield w.reload())}),Cs.apply(this,arguments)}function Ia(){return(Ia=(0,d.Z)(function*(w,f){return Ht(w,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ca(w,f){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,d.Z)(function*(w,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const C=(0,J.m9)(w),Z={idToken:yield C.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},pe=yield yn(C,function Ea(w,f){return Ia.apply(this,arguments)}(C.auth,Z));C.displayName=pe.displayName||null,C.photoURL=pe.photoUrl||null;const Me=C.providerData.find(({providerId:gt})=>"password"===gt);Me&&(Me.displayName=C.displayName,Me.photoURL=C.photoURL),yield C._updateTokensIfNecessary(pe)}),Yo.apply(this,arguments)}function Ja(w,f){return os((0,J.m9)(w),f,null)}function Fi(w,f){return os((0,J.m9)(w),null,f)}function os(w,f,m){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,d.Z)(function*(w,f,m){const{auth:C}=w,Z={idToken:yield w.getIdToken(),returnSecureToken:!0};f&&(Z.email=f),m&&(Z.password=m);const pe=yield yn(w,ei(C,Z));yield w._updateTokensIfNecessary(pe,!0)})).apply(this,arguments)}class Qo{constructor(f,m,C={}){this.isNewUser=f,this.providerId=m,this.profile=C}}class Y extends Qo{constructor(f,m,C,$){super(f,m,C),this.username=$}}class se extends Qo{constructor(f,m){super(f,"facebook.com",m)}}class he extends Y{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Ge extends Qo{constructor(f,m){super(f,"google.com",m)}}class ye extends Y{constructor(f,m,C){super(f,"twitter.com",m,C)}}function Ye(w){const{user:f,_tokenResponse:m}=w;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function eu(w){var f,m;if(!w)return null;const{providerId:C}=w,$=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},Z=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!C&&w?.idToken){const pe=null===(m=null===(f=Or(w.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(pe)return new Qo(Z,"anonymous"!==pe&&"custom"!==pe?pe:null)}if(!C)return null;switch(C){case"facebook.com":return new se(Z,$);case"github.com":return new he(Z,$);case"google.com":return new Ge(Z,$);case"twitter.com":return new ye(Z,$,w.screenName||null);case"custom":case"anonymous":return new Qo(Z,null);default:return new Qo(Z,C,$)}}(m)}class kr{constructor(f,m,C){this.type=f,this.credential=m,this.auth=C}static _fromIdtoken(f,m){return new kr("enroll",f,m)}static _fromMfaPendingCredential(f){return new kr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,C;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return kr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(C=f.multiFactorSession)&&void 0!==C&&C.idToken)return kr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class qi{constructor(f,m,C){this.session=f,this.hints=m,this.signInResolver=C}static _fromError(f,m){const C=Xn(f),$=m.customData._serverResponse,Z=($.mfaInfo||[]).map(Me=>Mn._fromServerResponse(C,Me));be($.mfaPendingCredential,C,"internal-error");const pe=kr._fromMfaPendingCredential($.mfaPendingCredential);return new qi(pe,Z,function(){var Me=(0,d.Z)(function*(gt){const Ot=yield gt._process(C,pe);delete $.mfaInfo,delete $.mfaPendingCredential;const an=Object.assign(Object.assign({},$),{idToken:Ot.idToken,refreshToken:Ot.refreshToken});switch(m.operationType){case"signIn":const $n=yield Tt._fromIdTokenResponse(C,m.operationType,an);return yield C._updateCurrentUser($n.user),$n;case"reauthenticate":return be(m.user,C,"internal-error"),Tt._forOperation(m.user,m.operationType,an);default:He(C,"internal-error")}});return function(gt){return Me.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,d.Z)(function*(){return m.signInResolver(f)})()}}function fr(w,f){var m;const C=(0,J.m9)(w),$=f;return be(f.customData.operationType,C,"argument-error"),be(null===(m=$.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),qi._fromError(C,$)}class tu{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Mn._fromServerResponse(f.auth,C)))})}static _fromUser(f){return new tu(f)}getSession(){var f=this;return(0,d.Z)(function*(){return kr._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var C=this;return(0,d.Z)(function*(){const $=f,Z=yield C.getSession(),pe=yield yn(C.user,$._process(C.user.auth,Z,m));return yield C.user._updateTokensIfNecessary(pe),C.user.reload()})()}unenroll(f){var m=this;return(0,d.Z)(function*(){const C="string"==typeof f?f:f.uid,$=yield m.user.getIdToken();try{const Z=yield yn(m.user,function ba(w,f){return Ht(w,"POST","/v2/accounts/mfaEnrollment:withdraw",vt(w,f))}(m.user.auth,{idToken:$,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:pe})=>pe!==C),yield m.user._updateTokensIfNecessary(Z),yield m.user.reload()}catch(Z){throw Z}})()}}const Da=new WeakMap;function nu(w){const f=(0,J.m9)(w);return Da.has(f)||Da.set(f,tu._fromUser(f)),Da.get(f)}const Nu="__sak";class Pu{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Nu,"1"),this.storage.removeItem(Nu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dl=(()=>{class w extends Pu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ec(){const w=(0,J.z$)();return k(w)||ot(w)}()&&function Qn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Jt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const $=this.storage.getItem(C),Z=this.localCache[C];$!==Z&&m(C,Z,$)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((Me,gt,Ot)=>{this.notifyListeners(Me,Ot)});const $=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem($);if(m.newValue!==Me)null!==m.newValue?this.storage.setItem($,m.newValue):this.storage.removeItem($);else if(this.localCache[$]===m.newValue&&!C)return}const Z=()=>{const Me=this.storage.getItem($);!C&&this.localCache[$]===Me||this.notifyListeners($,Me)},pe=this.storage.getItem($);!function Tn(){return(0,J.w1)()&&10===document.documentMode}()||pe===m.newValue||m.newValue===m.oldValue?Z():setTimeout(Z,10)}notifyListeners(m,C){this.localCache[m]=C;const $=this.listeners[m];if($)for(const Z of Array.from($))Z(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var $=()=>super._set,Z=this;return(0,d.Z)(function*(){yield $().call(Z,m,C),Z.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,$=this;return(0,d.Z)(function*(){const Z=yield C().call($,m);return $.localCache[m]=JSON.stringify(Z),Z})()}_remove(m){var C=()=>super._remove,$=this;return(0,d.Z)(function*(){yield C().call($,m),delete $.localCache[m]})()}}return w.type="LOCAL",w})(),ps=(()=>{class w extends Pu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return w.type="SESSION",w})();let bc=(()=>{class w{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(Z=>Z.isListeningto(m));if(C)return C;const $=new w(m);return this.receivers.push($),$}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,d.Z)(function*(){const $=m,{eventId:Z,eventType:pe,data:Me}=$.data,gt=C.handlersMap[pe];if(!gt?.size)return;$.ports[0].postMessage({status:"ack",eventId:Z,eventType:pe});const Ot=Array.from(gt).map(function(){var $n=(0,d.Z)(function*(ms){return ms($.origin,Me)});return function(ms){return $n.apply(this,arguments)}}()),an=yield function Sd(w){return Promise.all(w.map(function(){var f=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return f.apply(this,arguments)}}()))}(Ot);$.ports[0].postMessage({status:"done",eventId:Z,eventType:pe,response:an})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function mo(w="",f=10){let m="";for(let C=0;C<f;C++)m+=Math.floor(10*Math.random());return w+m}class Ad{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,C=50){var $=this;return(0,d.Z)(function*(){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let pe,Me;return new Promise((gt,Ot)=>{const an=mo("",20);Z.port1.start();const $n=setTimeout(()=>{Ot(new Error("unsupported_event"))},C);Me={messageChannel:Z,onMessage(ms){const Fa=ms;if(Fa.data.eventId===an)switch(Fa.data.status){case"ack":clearTimeout($n),pe=setTimeout(()=>{Ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(pe),gt(Fa.data.response);break;default:clearTimeout($n),clearTimeout(pe),Ot(new Error("invalid_response"))}}},$.handlers.add(Me),Z.port1.addEventListener("message",Me.onMessage),$.target.postMessage({eventType:f,eventId:an,data:m},[Z.port2])}).finally(()=>{Me&&$.removeMessageHandler(Me)})})()}}function ri(){return window}function Tl(){return typeof ri().WorkerGlobalScope<"u"&&"function"==typeof ri().importScripts}function Fu(){return(Fu=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ei="firebaseLocalStorageDb",ru=1,Gr="firebaseLocalStorage",tf="fbase_key";class ea{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Al(w,f){return w.transaction([Gr],f?"readwrite":"readonly").objectStore(Gr)}function Dc(){const w=indexedDB.open(Ei,ru);return new Promise((f,m)=>{w.addEventListener("error",()=>{m(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(Gr,{keyPath:tf})}catch($){m($)}}),w.addEventListener("success",(0,d.Z)(function*(){const C=w.result;C.objectStoreNames.contains(Gr)?f(C):(C.close(),yield function iu(){const w=indexedDB.deleteDatabase(Ei);return new ea(w).toPromise()}(),f(yield Dc()))}))})}function Tc(w,f,m){return ta.apply(this,arguments)}function ta(){return(ta=(0,d.Z)(function*(w,f,m){const C=Al(w,!0).put({[tf]:f,value:m});return new ea(C).toPromise()})).apply(this,arguments)}function Ta(){return(Ta=(0,d.Z)(function*(w,f){const m=Al(w,!1).get(f),C=yield new ea(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Lu(w,f){const m=Al(w,!0).delete(f);return new ea(m).toPromise()}const Sc=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield Dc()),m.db})()}_withRetries(m){var C=this;return(0,d.Z)(function*(){let $=0;for(;;)try{const Z=yield C._openDb();return yield m(Z)}catch(Z){if($++>3)throw Z;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return Tl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=bc._getInstance(function Sl(){return Tl()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,d.Z)(function*($,Z){return{keyProcessed:(yield m._poll()).includes(Z.key)}});return function($,Z){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,d.Z)(function*($,Z){return["keyChanged"]});return function($,Z){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var C,$;if(m.activeServiceWorker=yield function xd(){return Fu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ad(m.activeServiceWorker);const Z=yield m.sender._send("ping",{},800);Z&&null!==(C=Z[0])&&void 0!==C&&C.fulfilled&&null!==($=Z[0])&&void 0!==$&&$.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,d.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Md(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Dc();return yield Tc(m,Nu,"1"),yield Lu(m,Nu),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,d.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var $=this;return(0,d.Z)(function*(){return $._withPendingWrite((0,d.Z)(function*(){return yield $._withRetries(Z=>Tc(Z,m,C)),$.localCache[m]=C,$.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,d.Z)(function*(){const $=yield C._withRetries(Z=>function nf(w,f){return Ta.apply(this,arguments)}(Z,m));return C.localCache[m]=$,$})()}_remove(m){var C=this;return(0,d.Z)(function*(){return C._withPendingWrite((0,d.Z)(function*(){return yield C._withRetries($=>Lu($,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const C=yield m._withRetries(pe=>{const Me=Al(pe,!1).getAll();return new ea(Me).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const $=[],Z=new Set;for(const{fbase_key:pe,value:Me}of C)Z.add(pe),JSON.stringify(m.localCache[pe])!==JSON.stringify(Me)&&(m.notifyListeners(pe,Me),$.push(pe));for(const pe of Object.keys(m.localCache))m.localCache[pe]&&!Z.has(pe)&&(m.notifyListeners(pe,null),$.push(pe));return $})()}notifyListeners(m,C){this.localCache[m]=C;const $=this.listeners[m];if($)for(const Z of Array.from($))Z(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),Ac=1e12;class Nd{constructor(f){this.auth=f,this.counter=Ac,this._widgets=new Map}render(f,m){const C=this.counter;return this._widgets.set(C,new xc(f,this.auth.name,m||{})),this.counter++,C}reset(f){var m;const C=f||Ac;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Ac))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,d.Z)(function*(){var C;return null===(C=m._widgets.get(f||Ac))||void 0===C||C.execute(),""})()}}class xc{constructor(f,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof f?document.getElementById(f):f;be($,"argument-error",{appName:m}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mc(w){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<w;C++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sf=ai("rcb"),ey=new Ke(3e4,6e4);class xa{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=ri().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return be(function ny(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&on(ri().grecaptcha)?Promise.resolve(ri().grecaptcha):new Promise((C,$)=>{const Z=ri().setTimeout(()=>{$(ze(f,"network-request-failed"))},ey.get());ri()[sf]=()=>{ri().clearTimeout(Z),delete ri()[sf];const Me=ri().grecaptcha;if(!Me||!on(Me))return void $(ze(f,"internal-error"));const gt=Me.render;Me.render=(Ot,an)=>{const $n=gt(Ot,an);return this.counter++,$n},this.hostLanguage=m,C(Me)},Bn(`https://www.google.com/recaptcha/api.js??${(0,J.xO)({onload:sf,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(Z),$(ze(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=ri().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class af{load(f){return(0,d.Z)(function*(){return new Nd(f)})()}clearedOneInstance(){}}const Ii="recaptcha",Ml={theme:"light",type:"image"};class Rl{constructor(f,m=Object.assign({},Ml),C){this.parameters=m,this.type=Ii,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xn(C),this.isInvisible="invisible"===this.parameters.size,be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof f?document.getElementById(f):f;be($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new af:new xa,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),C=f.getAssertedRecaptcha();return C.getResponse(m)||new Promise(Z=>{const pe=Me=>{Me&&(f.tokenChangeListeners.delete(pe),Z(Me))};f.tokenChangeListeners.add(pe),f.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof f)f(m);else if("string"==typeof f){const C=ri()[f];"function"==typeof C&&C(m)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){be(fn()&&!Tl(),f.auth,"internal-error"),yield function Rc(){let w=null;return new Promise(f=>{"complete"!==document.readyState?(w=()=>f(),window.addEventListener("load",w)):f()}).catch(f=>{throw w&&window.removeEventListener("load",w),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Ae(w){return _e.apply(this,arguments)}(f.auth);be(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bs{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Bs._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function na(w,f,m){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,d.Z)(function*(w,f,m){const C=Xn(w),$=yield Ol(C,f,(0,J.m9)(m));return new bs($,Z=>ln(C,Z))})).apply(this,arguments)}function Vu(w,f,m){return ou.apply(this,arguments)}function ou(){return(ou=(0,d.Z)(function*(w,f,m){const C=(0,J.m9)(w);yield js(!1,C,"phone");const $=yield Ol(C.auth,f,(0,J.m9)(m));return new bs($,Z=>co(C,Z))})).apply(this,arguments)}function Pd(w,f,m){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,d.Z)(function*(w,f,m){const C=(0,J.m9)(w),$=yield Ol(C.auth,f,(0,J.m9)(m));return new bs($,Z=>$s(C,Z))})).apply(this,arguments)}function Ol(w,f,m){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,d.Z)(function*(w,f,m){var C;const $=yield m.verify();try{let Z;if(be("string"==typeof $,w,"argument-error"),be(m.type===Ii,w,"argument-error"),Z="string"==typeof f?{phoneNumber:f}:f,"session"in Z){const pe=Z.session;if("phoneNumber"in Z)return be("enroll"===pe.type,w,"internal-error"),(yield function go(w,f){return Ht(w,"POST","/v2/accounts/mfaEnrollment:start",vt(w,f))}(w,{idToken:pe.credential,phoneEnrollmentInfo:{phoneNumber:Z.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{be("signin"===pe.type,w,"internal-error");const Me=(null===(C=Z.multiFactorHint)||void 0===C?void 0:C.uid)||Z.multiFactorUid;return be(Me,w,"missing-multi-factor-info"),(yield function Rd(w,f){return Ht(w,"POST","/v2/accounts/mfaSignIn:start",vt(w,f))}(w,{mfaPendingCredential:pe.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:pe}=yield function yc(w,f){return Za.apply(this,arguments)}(w,{phoneNumber:Z.phoneNumber,recaptchaToken:$});return pe}}finally{m._reset()}}),Pc.apply(this,arguments)}function Ns(w,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(w,f){yield Dn((0,J.m9)(w),f)})).apply(this,arguments)}let Hs=(()=>{class w{constructor(m){this.providerId=w.PROVIDER_ID,this.auth=Xn(m)}verifyPhoneNumber(m,C){return Ol(this.auth,m,(0,J.m9)(C))}static credential(m,C){return Bs._fromVerification(m,C)}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:$}=m;return C&&$?Bs._fromTokenResponse(C,$):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function qt(w,f){return f?ir(f):(be(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class zs extends Ur{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return uo(f,this._buildIdpRequest())}_linkToIdToken(f,m){return uo(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return uo(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function di(w){return Es(w.auth,new zs(w),w.bypassAuthState)}function kd(w){const{auth:f,user:m}=w;return be(m,f,"internal-error"),Ki(m,new zs(w),w.bypassAuthState)}function Uu(w){return gs.apply(this,arguments)}function gs(){return(gs=(0,d.Z)(function*(w){const{auth:f,user:m}=w;return be(m,f,"internal-error"),Dn(m,new zs(w),w.bypassAuthState)})).apply(this,arguments)}class kc{constructor(f,m,C,$,Z=!1){this.auth=f,this.resolver=C,this.user=$,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,d.Z)(function*(C,$){f.pendingPromise={resolve:C,reject:$};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Z){f.reject(Z)}});return function(C,$){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,d.Z)(function*(){const{urlResponse:C,sessionId:$,postBody:Z,tenantId:pe,error:Me,type:gt}=f;if(Me)return void m.reject(Me);const Ot={auth:m.auth,requestUri:C,sessionId:$,tenantId:pe||void 0,postBody:Z||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(gt)(Ot))}catch(an){m.reject(an)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return di;case"linkViaPopup":case"linkViaRedirect":return Uu;case"reauthViaPopup":case"reauthViaRedirect":return kd;default:He(this.auth,"internal-error")}}resolve(f){Wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fd=new Ke(2e3,1e4);function Ps(w,f,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,d.Z)(function*(w,f,m){const C=Xn(w);dt(w,f,_);const $=qt(C,m);return new Lc(C,"signInViaPopup",f,$).executeNotNull()})).apply(this,arguments)}function Fc(w,f,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,d.Z)(function*(w,f,m){const C=(0,J.m9)(w);dt(C.auth,f,_);const $=qt(C.auth,m);return new Lc(C.auth,"reauthViaPopup",f,$,C).executeNotNull()})).apply(this,arguments)}function au(w,f,m){return gn.apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(w,f,m){const C=(0,J.m9)(w);dt(C.auth,f,_);const $=qt(C.auth,m);return new Lc(C.auth,"linkViaPopup",f,$,C).executeNotNull()})).apply(this,arguments)}let Lc=(()=>{class w extends kc{constructor(m,C,$,Z,pe){super(m,C,Z,pe),this.provider=$,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const C=yield m.execute();return be(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,d.Z)(function*(){Wt(1===m.filter.length,"Popup operations only handle one event");const C=mo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch($=>{m.reject($)}),m.resolver._isIframeWebStorageSupported(m.auth,$=>{$||m.reject(ze(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,$;this.pollId=null!==($=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ze(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Fd.get())};m()}}return w.currentPopupAction=null,w})();const Ld="pendingRedirect",ks=new Map;class Nl extends kc{constructor(f,m,C=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,d.Z)(function*(){let C=ks.get(m.auth._key());if(!C){try{const Z=(yield function Xi(w,f){return Bu.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;C=()=>Promise.resolve(Z)}catch($){C=()=>Promise.reject($)}ks.set(m.auth._key(),C)}return m.bypassAuthState||ks.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,C=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(C,f);if("unknown"!==f.type){if(f.eventId){const $=yield C.auth._redirectUserForId(f.eventId);if($)return C.user=$,m().call(C,f);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Bu(){return(Bu=(0,d.Z)(function*(w,f){const m=Pl(f),C=uf(w);if(!(yield C._isAvailable()))return!1;const $="true"===(yield C._get(m));return yield C._remove(m),$})).apply(this,arguments)}function Vc(w,f){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,d.Z)(function*(w,f){return uf(w)._set(Pl(f),"true")})).apply(this,arguments)}function ju(){ks.clear()}function $u(w,f){ks.set(w._key(),f)}function uf(w){return ir(w._redirectPersistence)}function Pl(w){return U(Ld,w.config.apiKey,w.name)}function Hu(w,f,m){return function Vd(w,f,m){return Uc.apply(this,arguments)}(w,f,m)}function Uc(){return(Uc=(0,d.Z)(function*(w,f,m){const C=Xn(w);dt(w,f,_),yield C._initializationPromise;const $=qt(C,m);return yield Vc($,C),$._openRedirect(C,f,"signInViaRedirect")})).apply(this,arguments)}function Bc(w,f,m){return function zu(w,f,m){return Ds.apply(this,arguments)}(w,f,m)}function Ds(){return(Ds=(0,d.Z)(function*(w,f,m){const C=(0,J.m9)(w);dt(C.auth,f,_),yield C.auth._initializationPromise;const $=qt(C.auth,m);yield Vc($,C.auth);const Z=yield Ts(C);return $._openRedirect(C.auth,f,"reauthViaRedirect",Z)})).apply(this,arguments)}function jc(w,f,m){return function as(w,f,m){return Gu.apply(this,arguments)}(w,f,m)}function Gu(){return(Gu=(0,d.Z)(function*(w,f,m){const C=(0,J.m9)(w);dt(C.auth,f,_),yield C.auth._initializationPromise;const $=qt(C.auth,m);yield js(!1,C,f.providerId),yield Vc($,C.auth);const Z=yield Ts(C);return $._openRedirect(C.auth,f,"linkViaRedirect",Z)})).apply(this,arguments)}function lf(w,f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,d.Z)(function*(w,f){return yield Xn(w)._initializationPromise,Oa(w,f,!1)})).apply(this,arguments)}function Oa(w,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(w,f,m=!1){const C=Xn(w),$=qt(C,f),pe=yield new Nl(C,$,m).execute();return pe&&!m&&(delete pe.user._redirectEventId,yield C._persistUserIfCurrent(pe.user),yield C._setRedirectUser(null,f)),pe})).apply(this,arguments)}function Ts(w){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(w){const f=mo(`${w.uid}:::`);return w._redirectEventId=f,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),f})).apply(this,arguments)}class kl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(f,C)&&(m=!0,this.sendToConsumer(f,C),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ia(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gs(w);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var C;if(f.error&&!Gs(f)){const $=(null===(C=f.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(ze(this.auth,$))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const C=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&C}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uu(f))}saveEventToCache(f){this.cachedEventUids.add(uu(f)),this.lastProcessedEventTime=Date.now()}}function uu(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(f=>f).join("-")}function Gs({type:w,error:f}){return"unknown"===w&&"auth/no-auth-event"===f?.code}function Li(w){return qs.apply(this,arguments)}function qs(){return(qs=(0,d.Z)(function*(w,f={}){return Ht(w,"GET","/v1/projects",f)})).apply(this,arguments)}const ry=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fl=/^https?/;function lu(){return(lu=(0,d.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:f}=yield Li(w);for(const m of f)try{if(Ud(m))return}catch{}He(w,"unauthorized-domain")})).apply(this,arguments)}function Ud(w){const f=Dt(),{protocol:m,hostname:C}=new URL(f);if(w.startsWith("chrome-extension://")){const pe=new URL(w);return""===pe.hostname&&""===C?"chrome-extension:"===m&&w.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&pe.hostname===C}if(!Fl.test(m))return!1;if(ry.test(w))return C===w;const $=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(C)}const Pa=new Ke(3e4,6e4);function cu(){const w=ri().___jsl;if(w?.H)for(const f of Object.keys(w.H))if(w.H[f].r=w.H[f].r||[],w.H[f].L=w.H[f].L||[],w.H[f].r=[...w.H[f].L],w.CP)for(let m=0;m<w.CP.length;m++)w.CP[m]=null}let sa=null;const du=new Ke(5e3,15e3),oa="__/auth/iframe",Bd="emulator/auth/iframe",No={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jd(w){const f=w.config;be(f.authDomain,w,"auth-domain-config-required");const m=f.emulator?st(f,Bd):`https://${w.config.authDomain}/${oa}`,C={apiKey:f.apiKey,appName:w.name,v:W.SDK_VERSION},$=Hc.get(w.config.apiHost);$&&(C.eid=$);const Z=w._getFrameworks();return Z.length&&(C.fw=Z.join(",")),`${m}?${(0,J.xO)(C).slice(1)}`}function $d(){return $d=(0,d.Z)(function*(w){const f=yield function ka(w){return sa=sa||function vn(w){return new Promise((f,m)=>{var C,$,Z;function pe(){cu(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{cu(),m(ze(w,"network-request-failed"))},timeout:Pa.get()})}if(null!==($=null===(C=ri().gapi)||void 0===C?void 0:C.iframes)&&void 0!==$&&$.Iframe)f(gapi.iframes.getContext());else{if(null===(Z=ri().gapi)||void 0===Z||!Z.load){const Me=ai("iframefcb");return ri()[Me]=()=>{gapi.load?pe():m(ze(w,"network-request-failed"))},Bn(`https://apis.google.com/js/api.js?onload=${Me}`).catch(gt=>m(gt))}pe()}}).catch(f=>{throw sa=null,f})}(w),sa}(w),m=ri().gapi;return be(m,w,"internal-error"),f.open({where:document.body,url:jd(w),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:No,dontclear:!0},C=>new Promise(function(){var $=(0,d.Z)(function*(Z,pe){yield C.restyle({setHideOnLeave:!1});const Me=ze(w,"network-request-failed"),gt=ri().setTimeout(()=>{pe(Me)},du.get());function Ot(){ri().clearTimeout(gt),Z(C)}C.ping(Ot).then(Ot,()=>{pe(Me)})});return function(Z,pe){return $.apply(this,arguments)}}()))}),$d.apply(this,arguments)}const E={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S=500,j=600,ee="_blank",ue="http://localhost";class fe{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bt="__/auth/handler",Yt="emulator/auth/handler",Sn=encodeURIComponent("fac");function Cn(w,f,m,C,$,Z){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(w,f,m,C,$,Z){be(w.config.authDomain,w,"auth-domain-config-required"),be(w.config.apiKey,w,"invalid-api-key");const pe={apiKey:w.config.apiKey,appName:w.name,authType:m,redirectUrl:C,v:W.SDK_VERSION,eventId:$};if(f instanceof _){f.setDefaultLanguage(w.languageCode),pe.providerId=f.providerId||"",(0,J.xb)(f.getCustomParameters())||(pe.customParameters=JSON.stringify(f.getCustomParameters()));for(const[an,$n]of Object.entries(Z||{}))pe[an]=$n}if(f instanceof T){const an=f.getScopes().filter($n=>""!==$n);an.length>0&&(pe.scopes=an.join(","))}w.tenantId&&(pe.tid=w.tenantId);const Me=pe;for(const an of Object.keys(Me))void 0===Me[an]&&delete Me[an];const gt=yield w._getAppCheckToken(),Ot=gt?`#${Sn}=${encodeURIComponent(gt)}`:"";return`${function dn({config:w}){return w.emulator?st(w,Yt):`https://${w.authDomain}/${bt}`}(w)}?${(0,J.xO)(Me).slice(1)}${Ot}`})).apply(this,arguments)}const Ws="webStorageSupport",Fs=class Gc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ps,this._completeRedirectFn=Oa,this._overrideRedirectResult=$u}_openPopup(f,m,C,$){var Z=this;return(0,d.Z)(function*(){var pe;Wt(null===(pe=Z.eventManagers[f._key()])||void 0===pe?void 0:pe.manager,"_initialize() not called before _openPopup()");const Me=yield Cn(f,m,C,Dt(),$);return function Oe(w,f,m,C=S,$=j){const Z=Math.max((window.screen.availHeight-$)/2,0).toString(),pe=Math.max((window.screen.availWidth-C)/2,0).toString();let Me="";const gt=Object.assign(Object.assign({},E),{width:C.toString(),height:$.toString(),top:Z,left:pe}),Ot=(0,J.z$)().toLowerCase();m&&(Me=F(Ot)?ee:m),N(Ot)&&(f=f||ue,gt.scrollbars="yes");const an=Object.entries(gt).reduce((ms,[Fa,fu])=>`${ms}${Fa}=${fu},`,"");if(function It(w=(0,J.z$)()){var f;return ot(w)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ot)&&"_self"!==Me)return function St(w,f){const m=document.createElement("a");m.href=w,m.target=f;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(f||"",Me),new fe(null);const $n=window.open(f||"",Me,an);be($n,w,"popup-blocked");try{$n.focus()}catch{}return new fe($n)}(f,Me,mo())})()}_openRedirect(f,m,C,$){var Z=this;return(0,d.Z)(function*(){return yield Z._originValidation(f),function Jo(w){ri().location.href=w}(yield Cn(f,m,C,Dt(),$)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:$,promise:Z}=this.eventManagers[m];return $?Promise.resolve($):(Wt(Z,"If manager is not set, promise should be"),Z)}const C=this.initAndGetManager(f);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(f){var m=this;return(0,d.Z)(function*(){const C=yield function zc(w){return $d.apply(this,arguments)}(f),$=new kl(f);return C.register("authEvent",Z=>(be(Z?.authEvent,f,"invalid-auth-event"),{status:$.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:$},m.iframes[f._key()]=C,$})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Ws,{type:Ws},$=>{var Z;const pe=null===(Z=$?.[0])||void 0===Z?void 0:Z[Ws];void 0!==pe&&m(!!pe),He(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function $c(w){return lu.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Jt()||k()||ot()}};class Ss{constructor(f){this.factorId=f}_process(f,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,C);case"signin":return this._finalizeSignIn(f,m.credential);default:return Mt("unexpected MultiFactorSessionType")}}}class Ji extends Ss{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ji(f)}_finalizeEnroll(f,m,C){return function Os(w,f){return Ht(w,"POST","/v2/accounts/mfaEnrollment:finalize",vt(w,f))}(f,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Aa(w,f){return Ht(w,"POST","/v2/accounts/mfaSignIn:finalize",vt(w,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ll=(()=>{class w{constructor(){}static assertion(m){return Ji._fromCredential(m)}}return w.FACTOR_ID="phone",w})();var Zu="@firebase/auth";class hu{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(C=>{f(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,J.Pz)("authIdTokenMaxAge"),function df(w){(0,W._registerComponent)(new Ce.wA("auth",(f,{options:m})=>{const C=f.getProvider("app").getImmediate(),$=f.getProvider("heartbeat"),Z=f.getProvider("app-check-internal"),{apiKey:pe,authDomain:Me}=C.options;be(pe&&!pe.includes(":"),"invalid-api-key",{appName:C.name}),be(!Me?.includes(":"),"argument-error",{appName:C.name});const gt={apiKey:pe,authDomain:Me,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lr(w)},Ot=new lr(C,$,Z,gt);return function So(w,f){const m=f?.persistence||[],C=(Array.isArray(m)?m:[m]).map(ir);f?.errorMap&&w._updateErrorMap(f.errorMap),w._initializeWithPersistence(C,f?.popupRedirectResolver)}(Ot,m),Ot},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,C)=>{f.getProvider("auth-internal").initialize()})),(0,W._registerComponent)(new Ce.wA("auth-internal",f=>{const m=Xn(f.getProvider("auth").getImmediate());return new hu(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,W.registerVersion)(Zu,"0.23.1",function Bl(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,W.registerVersion)(Zu,"0.23.1","esm2017")}("Browser")},2090:(Ut,Je,X)=>{"use strict";X.d(Je,{$s:()=>ir,BH:()=>A,G6:()=>st,L:()=>Le,LL:()=>Qt,P0:()=>it,Pz:()=>ze,Sg:()=>dt,UG:()=>Mt,US:()=>Ce,ZB:()=>ce,ZR:()=>Ht,aH:()=>He,b$:()=>fn,eu:()=>mt,hl:()=>wt,jU:()=>Wt,m9:()=>U,ne:()=>yn,pd:()=>Or,r3:()=>Wr,ru:()=>Dt,tV:()=>oe,uI:()=>be,vZ:()=>zt,w1:()=>Ue,xO:()=>Rr,xb:()=>Zt,z$:()=>tt,zI:()=>Nt,zd:()=>Ar});const ge=function(D){const P=[];let N=0;for(let k=0;k<D.length;k++){let F=D.charCodeAt(k);F<128?P[N++]=F:F<2048?(P[N++]=F>>6|192,P[N++]=63&F|128):55296==(64512&F)&&k+1<D.length&&56320==(64512&D.charCodeAt(k+1))?(F=65536+((1023&F)<<10)+(1023&D.charCodeAt(++k)),P[N++]=F>>18|240,P[N++]=F>>12&63|128,P[N++]=F>>6&63|128,P[N++]=63&F|128):(P[N++]=F>>12|224,P[N++]=F>>6&63|128,P[N++]=63&F|128)}return P},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(D,P){if(!Array.isArray(D))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let F=0;F<D.length;F+=3){const K=D[F],ne=F+1<D.length,me=ne?D[F+1]:0,Re=F+2<D.length,ot=Re?D[F+2]:0;let Tn=(15&me)<<2|ot>>6,Jt=63&ot;Re||(Jt=64,ne||(Tn=64)),k.push(N[K>>2],N[(3&K)<<4|me>>4],N[Tn],N[Jt])}return k.join("")},encodeString(D,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(D):this.encodeByteArray(ge(D),P)},decodeString(D,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(D):function(D){const P=[];let N=0,k=0;for(;N<D.length;){const F=D[N++];if(F<128)P[k++]=String.fromCharCode(F);else if(F>191&&F<224){const K=D[N++];P[k++]=String.fromCharCode((31&F)<<6|63&K)}else if(F>239&&F<365){const Re=((7&F)<<18|(63&D[N++])<<12|(63&D[N++])<<6|63&D[N++])-65536;P[k++]=String.fromCharCode(55296+(Re>>10)),P[k++]=String.fromCharCode(56320+(1023&Re))}else{const K=D[N++],ne=D[N++];P[k++]=String.fromCharCode((15&F)<<12|(63&K)<<6|63&ne)}}return P.join("")}(this.decodeStringToByteArray(D,P))},decodeStringToByteArray(D,P){this.init_();const N=P?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let F=0;F<D.length;){const K=N[D.charAt(F++)],me=F<D.length?N[D.charAt(F)]:0;++F;const ot=F<D.length?N[D.charAt(F)]:64;++F;const It=F<D.length?N[D.charAt(F)]:64;if(++F,null==K||null==me||null==ot||null==It)throw new Be;k.push(K<<2|me>>4),64!==ot&&(k.push(me<<4&240|ot>>2),64!==It&&k.push(ot<<6&192|It))}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let D=0;D<this.ENCODED_VALS.length;D++)this.byteToCharMap_[D]=this.ENCODED_VALS.charAt(D),this.charToByteMap_[this.byteToCharMap_[D]]=D,this.byteToCharMapWebSafe_[D]=this.ENCODED_VALS_WEBSAFE.charAt(D),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[D]]=D,D>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(D)]=D,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(D)]=D)}}};class Be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function(D){return function(D){const P=ge(D);return Ce.encodeByteArray(P,!0)}(D).replace(/\./g,"")},oe=function(D){try{return Ce.decodeString(D,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function ce(D,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===D&&(D={});break;case Array:D=[];break;default:return P}for(const N in P)!P.hasOwnProperty(N)||!$e(N)||(D[N]=ce(D[N],P[N]));return D}function $e(D){return"__proto__"!==D}const Ee=()=>{try{return function et(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const D=process.env.__FIREBASE_DEFAULTS__;return D?JSON.parse(D):void 0})()||(()=>{if(typeof document>"u")return;let D;try{D=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=D&&oe(D[1]);return P&&JSON.parse(P)})()}catch(D){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${D}`)}},it=D=>{const P=(D=>{var P,N;return null===(N=null===(P=Ee())||void 0===P?void 0:P.emulatorHosts)||void 0===N?void 0:N[D]})(D);if(!P)return;const N=P.lastIndexOf(":");if(N<=0||N+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const k=parseInt(P.substring(N+1),10);return"["===P[0]?[P.substring(1,N-1),k]:[P.substring(0,N),k]},He=()=>{var D;return null===(D=Ee())||void 0===D?void 0:D.config},ze=D=>{var P;return null===(P=Ee())||void 0===P?void 0:P[`_${D}`]};class A{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,N)=>{this.resolve=P,this.reject=N})}wrapCallback(P){return(N,k)=>{N?this.reject(N):this.resolve(k),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(N):P(N,k))}}}function dt(D,P){if(D.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const k=P||"demo-project",F=D.iat||0,K=D.sub||D.user_id;if(!K)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ne=Object.assign({iss:`https://securetoken.google.com/${k}`,aud:k,iat:F,exp:F+3600,auth_time:F,sub:K,user_id:K,firebase:{sign_in_provider:"custom",identities:{}}},D);return[Le(JSON.stringify({alg:"none",type:"JWT"})),Le(JSON.stringify(ne)),""].join(".")}function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function Mt(){var D;const P=null===(D=Ee())||void 0===D?void 0:D.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Wt(){return"object"==typeof self&&self.self===self}function Dt(){const D="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof D&&void 0!==D.id}function fn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){const D=tt();return D.indexOf("MSIE ")>=0||D.indexOf("Trident/")>=0}function st(){return!Mt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wt(){try{return"object"==typeof indexedDB}catch{return!1}}function mt(){return new Promise((D,P)=>{try{let N=!0;const k="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(k);F.onsuccess=()=>{F.result.close(),N||self.indexedDB.deleteDatabase(k),D(!0)},F.onupgradeneeded=()=>{N=!1},F.onerror=()=>{var K;P((null===(K=F.error)||void 0===K?void 0:K.message)||"")}}catch(N){P(N)}})}function Nt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ht extends Error{constructor(P,N,k){super(N),this.code=P,this.customData=k,this.name="FirebaseError",Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qt.prototype.create)}}class Qt{constructor(P,N,k){this.service=P,this.serviceName=N,this.errors=k}create(P,...N){const k=N[0]||{},F=`${this.service}/${P}`,K=this.errors[P],ne=K?function bn(D,P){return D.replace(Xt,(N,k)=>{const F=P[k];return null!=F?String(F):`<${k}?>`})}(K,k):"Error";return new Ht(F,`${this.serviceName}: ${ne} (${F}).`,k)}}const Xt=/\{\$([^}]+)}/g;function Wr(D,P){return Object.prototype.hasOwnProperty.call(D,P)}function Zt(D){for(const P in D)if(Object.prototype.hasOwnProperty.call(D,P))return!1;return!0}function zt(D,P){if(D===P)return!0;const N=Object.keys(D),k=Object.keys(P);for(const F of N){if(!k.includes(F))return!1;const K=D[F],ne=P[F];if(mr(K)&&mr(ne)){if(!zt(K,ne))return!1}else if(K!==ne)return!1}for(const F of k)if(!N.includes(F))return!1;return!0}function mr(D){return null!==D&&"object"==typeof D}function Rr(D){const P=[];for(const[N,k]of Object.entries(D))Array.isArray(k)?k.forEach(F=>{P.push(encodeURIComponent(N)+"="+encodeURIComponent(F))}):P.push(encodeURIComponent(N)+"="+encodeURIComponent(k));return P.length?"&"+P.join("&"):""}function Ar(D){const P={};return D.replace(/^\?/,"").split("&").forEach(k=>{if(k){const[F,K]=k.split("=");P[decodeURIComponent(F)]=decodeURIComponent(K)}}),P}function Or(D){const P=D.indexOf("?");if(!P)return"";const N=D.indexOf("#",P);return D.substring(P,N>0?N:void 0)}function yn(D,P){const N=new Vt(D,P);return N.subscribe.bind(N)}class Vt{constructor(P,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{P(this)}).catch(k=>{this.error(k)})}next(P){this.forEachObserver(N=>{N.next(P)})}error(P){this.forEachObserver(N=>{N.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,N,k){let F;if(void 0===P&&void 0===N&&void 0===k)throw new Error("Missing Observer.");F=function Er(D,P){if("object"!=typeof D||null===D)return!1;for(const N of P)if(N in D&&"function"==typeof D[N])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:N,complete:k},void 0===F.next&&(F.next=Hr),void 0===F.error&&(F.error=Hr),void 0===F.complete&&(F.complete=Hr);const K=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),K}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,P)}sendOne(P,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{N(this.observers[P])}catch(k){typeof console<"u"&&console.error&&console.error(k)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hr(){}const En=1e3,Ir=2,yt=144e5,zr=.5;function ir(D,P=En,N=Ir){const k=P*Math.pow(N,D),F=Math.round(zr*k*(Math.random()-.5)*2);return Math.min(yt,k+F)}function U(D){return D&&D._delegate?D._delegate:D}},8414:(Ut,Je,X)=>{"use strict";var d=X(4650);let J=null;function W(){return J}class Se{}const Ce=new d.OlP("DocumentToken");let Be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Fe(){return(0,d.LFG)(oe)}()},providedIn:"platform"}),n})();const Le=new d.OlP("Location Initialized");let oe=(()=>{class n extends Be{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(t){const r=W().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=W().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){ie()?this._history.pushState(t,r,s):this._location.hash=s}replaceState(t,r,s){ie()?this._history.replaceState(t,r,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ce))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ce(){return new oe((0,d.LFG)(Ce))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function $e(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function et(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let nt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Ee)},providedIn:"root"}),n})();const Ne=new d.OlP("appBaseHref");let Ee=(()=>{class n extends nt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(Ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $e(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Qe(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const c=this.prepareExternalUrl(s+Qe(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,s,u){const c=this.prepareExternalUrl(s+Qe(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Be),d.LFG(Ne,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rt=(()=>{class n extends nt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=$e(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let c=this.prepareExternalUrl(s+Qe(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,s,u){let c=this.prepareExternalUrl(s+Qe(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Be),d.LFG(Ne,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),it=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function dt(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(et(A(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qe(r))}normalize(t){return n.stripTrailingSlash(function ze(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,A(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=$e,n.stripTrailingSlash=et,n.\u0275fac=function(t){return new(t||n)(d.LFG(nt))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function He(){return new it((0,d.LFG)(nt))}()},providedIn:"root"}),n})();function A(n){return n.replace(/\/index.html$/,"")}let lo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const Wo="server";function T(n){return n===Wo}let q=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new ae((0,d.LFG)(Ce),window)}),n})();class ae{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ve(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=re(this.window.history)||re(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function re(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ct extends Se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class At extends Ct{static makeCurrent(){!function ge(n){J||(J=n)}(new At)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function nn(){return sn=sn||document.querySelector("base"),sn?sn.getAttribute("href"):null}();return null==t?null:function Zn(n){en=en||document.createElement("a"),en.setAttribute("href",n);const e=en.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){sn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function to(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let en,sn=null;const yr=new d.OlP("TRANSITION_ID"),Kr=[{provide:d.ip1,useFactory:function cn(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=W(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[yr,Ce,d.zs3],multi:!0}];let qi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const fr=new d.OlP("EventManagerPlugins");let go=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const c=s[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fr),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Os{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=W().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let Qi=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const s=this.usageCount;let u=s.get(t)??0;return u+=r,u>0?s.set(t,u):s.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Xo=(()=>{class n extends Qi{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const s=this.doc.createElement("style");s.textContent=r,t.appendChild(s);const u=this.styleRef.get(r);u?u.push(s):this.styleRef.set(r,[s])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ba={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tu=/%COMP%/g,ku=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Dl(n,e){return e.flat(100).map(t=>t.replace(tu,n))}function Cc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ps=(()=>{class n{constructor(t,r,s,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new Sd(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const s=this.getOrCreateRenderer(t,r);return s instanceof Tl?s.applyToHost(t):s instanceof Jo&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const c=this.eventManager,y=this.sharedStylesHost,I=this.removeStylesOnCompDestory;switch(r.encapsulation){case d.ifc.Emulated:u=new Tl(c,y,r,this.appId,I);break;case d.ifc.ShadowDom:return new ri(c,y,t,r);default:u=new Jo(c,y,r,I)}u.onDestroy=()=>s.delete(r.id),s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(go),d.LFG(Xo),d.LFG(d.AFp),d.LFG(ku))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Sd{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ba[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ad(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ad(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=ba[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=ba[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,s&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Cc(r)):this.eventManager.addEventListener(e,t,Cc(r))}}function Ad(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ri extends Sd{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Dl(s.id,s.styles);for(const c of u){const y=document.createElement("style");y.textContent=c,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Jo extends Sd{constructor(e,t,r,s,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=Dl(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Tl extends Jo{constructor(e,t,r,s,u){const c=s+"-"+r.id;super(e,t,r,u,c),this.contentAttr=function ef(n){return"_ngcontent-%COMP%".replace(tu,n)}(c),this.hostAttr=function Ic(n){return"_nghost-%COMP%".replace(tu,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let xd=(()=>{class n extends Os{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Fu=["alt","control","meta","shift"],Md={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ei=(()=>{class n extends Os{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>W().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let c="",y=r.indexOf("code");if(y>-1&&(r.splice(y,1),c="code."),Fu.forEach(O=>{const V=r.indexOf(O);V>-1&&(r.splice(V,1),c+=O+".")}),c+=u,0!=r.length||0===u.length)return null;const I={};return I.domEventName=s,I.fullKey=c,I}static matchEventFullKeyCode(t,r){let s=Md[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Fu.forEach(c=>{c!==s&&(0,Sl[c])(t)&&(u+=c+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const nf=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function iu(){At.makeCurrent()},multi:!0},{provide:Ce,useFactory:function Tc(){return(0,d.RDi)(document),document},deps:[]}]),Ta=new d.OlP(""),Lu=[{provide:d.rWj,useClass:class kr{addToWindow(e){d.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const s=d.dqk.getAllAngularTestabilities();let u=s.length,c=!1;const y=function(I){c=c||I,u--,0==u&&r(c)};s.forEach(function(I){I.whenStable(y)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?W().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Sa=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Dc(){return new d.qLn},deps:[]},{provide:fr,useClass:xd,multi:!0,deps:[Ce,d.R0b,d.Lbi]},{provide:fr,useClass:Ei,multi:!0,deps:[Ce]},{provide:ps,useClass:ps,deps:[go,Xo,d.AFp,ku]},{provide:d.FYo,useExisting:ps},{provide:Qi,useExisting:Xo},{provide:Xo,useClass:Xo,deps:[Ce]},{provide:go,useClass:go,deps:[fr,d.R0b]},{provide:class ct{},useClass:qi,deps:[]},[]];let su=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:yr,useExisting:d.AFp},Kr]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ta,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Sa,...Lu],imports:[lo,d.hGG]}),n})(),rf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ce))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Aa(){return new rf((0,d.LFG)(Ce))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var cr=X(8996),Hs=X(7669);function qt(...n){const e=(0,Hs.yG)(n);return(0,cr.D)(n,e)}var zs=X(7579);class di extends zs.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Uu=(0,X(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var gs=X(9751);const{isArray:kc}=Array,{getPrototypeOf:Fd,prototype:Ps,keys:ra}=Object;function Fc(n){if(1===n.length){const e=n[0];if(kc(e))return{args:e,keys:null};if(function Ma(n){return n&&"object"==typeof n&&Fd(n)===Ps}(e)){const t=ra(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var au=X(4671),gn=X(4004);const{isArray:Lc}=Array;function ks(n){return(0,gn.U)(e=>function Ld(n,e){return Lc(e)?n(...e):n(e)}(n,e))}function Nl(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Xi=X(5403),Bu=X(9672);function Vc(...n){const e=(0,Hs.yG)(n),t=(0,Hs.jO)(n),{args:r,keys:s}=Fc(n);if(0===r.length)return(0,cr.D)([],e);const u=new gs.y(function Ra(n,e,t=au.y){return r=>{ju(e,()=>{const{length:s}=n,u=new Array(s);let c=s,y=s;for(let I=0;I<s;I++)ju(e,()=>{const O=(0,cr.D)(n[I],e);let V=!1;O.subscribe((0,Xi.x)(r,Q=>{u[I]=Q,V||(V=!0,y--),y||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,s?c=>Nl(s,c):au.y));return t?u.pipe(ks(t)):u}function ju(n,e,t){n?(0,Bu.f)(t,n,e):e()}var $u=X(8189);function Pl(...n){return function uf(){return(0,$u.J)(1)}()((0,cr.D)(n,(0,Hs.yG)(n)))}var Hu=X(8421);function Vd(n){return new gs.y(e=>{(0,Hu.Xf)(n()).subscribe(e)})}var Uc=X(9635),Bc=X(576);function zu(n,e){const t=(0,Bc.m)(n)?n:()=>n,r=s=>s.error(t());return new gs.y(e?s=>e.schedule(r,0,s):r)}var Ds=X(515),jc=X(727),as=X(4482);function Gu(){return(0,as.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Xi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class lf extends gs.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,as.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Xi.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jc.w0.EMPTY)}return e}refCount(){return Gu()(this)}}function Yr(n,e){return(0,as.e)((t,r)=>{let s=null,u=0,c=!1;const y=()=>c&&!s&&r.complete();t.subscribe((0,Xi.x)(r,I=>{s?.unsubscribe();let O=0;const V=u++;(0,Hu.Xf)(n(I,V)).subscribe(s=(0,Xi.x)(r,Q=>r.next(e?e(I,Q,V,O++):Q),()=>{s=null,y()}))},()=>{c=!0,y()}))})}function Oa(n){return n<=0?()=>Ds.E:(0,as.e)((e,t)=>{let r=0;e.subscribe((0,Xi.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function Na(...n){const e=(0,Hs.yG)(n);return(0,as.e)((t,r)=>{(e?Pl(n,t,e):Pl(n,t)).subscribe(r)})}function Ts(n,e){return(0,as.e)((t,r)=>{let s=0;t.subscribe((0,Xi.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var Ci=X(5577);function qu(n){return(0,as.e)((e,t)=>{let r=!1;e.subscribe((0,Xi.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function kl(n=uu){return(0,as.e)((e,t)=>{let r=!1;e.subscribe((0,Xi.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function uu(){return new Uu}function Gs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ts((s,u)=>n(s,u,r)):au.y,Oa(1),t?qu(e):kl(()=>new Uu))}function ia(n,e){return(0,Bc.m)(e)?(0,Ci.z)(n,e,1):(0,Ci.z)(n,1)}var Li=X(8505);function qs(n){return(0,as.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Xi.x)(t,void 0,void 0,c=>{u=(0,Hu.Xf)(n(c,qs(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Fl(n,e){return(0,as.e)(function ry(n,e,t,r,s){return(u,c)=>{let y=t,I=e,O=0;u.subscribe((0,Xi.x)(c,V=>{const Q=O++;I=y?n(I,V,Q):(y=!0,V),r&&c.next(I)},s&&(()=>{y&&c.next(I),c.complete()})))}}(n,e,arguments.length>=2,!0))}function $c(n){return n<=0?()=>Ds.E:(0,as.e)((e,t)=>{let r=[];e.subscribe((0,Xi.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function lu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ts((s,u)=>n(s,u,r)):au.y,$c(1),t?qu(e):kl(()=>new Uu))}function cu(n){return(0,as.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const vn="primary",sa=Symbol("RouteTitle");class ka{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function du(n){return new ka(n)}function oa(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const c=r[u],y=n[u];if(c.startsWith(":"))s[c.substring(1)]=y;else if(c!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function No(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!Hc(n[s],e[s]))return!1;return!0}function Hc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function jd(n){return Array.prototype.concat.apply([],n)}function zc(n){return n.length>0?n[n.length-1]:null}function E(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function S(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,cr.D)(Promise.resolve(n)):qt(n)}const j=!1,ee={exact:function St(n,e,t){if(!Fs(n.segments,e.segments)||!Cn(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!St(n.children[r],e.children[r],t))return!1;return!0},subset:Yt},ue={exact:function Oe(n,e){return No(n,e)},subset:function bt(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Hc(n[t],e[t]))},ignored:()=>!0};function fe(n,e,t){return ee[t.paths](n.root,e.root,t.matrixParams)&&ue[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Yt(n,e,t){return Sn(n,e,e.segments,t)}function Sn(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!Fs(s,t)||e.hasChildren()||!Cn(s,t,r))}if(n.segments.length===t.length){if(!Fs(n.segments,t)||!Cn(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!Yt(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Fs(n.segments,s)&&Cn(n.segments,s,r)&&n.children[vn])&&Sn(n.children[vn],e,u,r)}}function Cn(n,e,t){return e.every((r,s)=>ue[t](n[s].parameters,r.parameters))}class Qr{constructor(e=new dn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=du(this.queryParams)),this._queryParamMap}toString(){return Hd.serialize(this)}}class dn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,E(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vl(this)}}class Ws{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=du(this.parameters)),this._parameterMap}toString(){return Kp(this)}}function Fs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ji=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new Ll},providedIn:"root"}),n})();class Ll{parse(e){const t=new $(e);return new Qr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ul(e.root,!0)}`,r=function Yp(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${Zu(t)}=${Zu(s)}`).join("&"):`${Zu(t)}=${Zu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function cf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Hd=new Ll;function Vl(n){return n.segments.map(e=>Kp(e)).join("/")}function Ul(n,e){if(!n.hasChildren())return Vl(n);if(e){const t=n.children[vn]?Ul(n.children[vn],!1):"",r=[];return E(n.children,(s,u)=>{u!==vn&&r.push(`${u}:${Ul(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ss(n,e){let t=[];return E(n.children,(r,s)=>{s===vn&&(t=t.concat(e(r,s)))}),E(n.children,(r,s)=>{s!==vn&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===vn?[Ul(n.children[vn],!1)]:[`${s}:${Ul(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[vn]?`${Vl(n)}/${t[0]}`:`${Vl(n)}/(${t.join("//")})`}}function Wu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zu(n){return Wu(n).replace(/%3B/gi,";")}function hu(n){return Wu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bl(n){return decodeURIComponent(n)}function df(n){return Bl(n.replace(/\+/g,"%20"))}function Kp(n){return`${hu(n.path)}${function hf(n){return Object.keys(n).map(e=>`;${hu(e)}=${hu(n[e])}`).join("")}(n.parameters)}`}const iy=/^[^\/()?;=#]+/;function ff(n){const e=n.match(iy);return e?e[0]:""}const w=/^[^=?&#]+/,m=/^[^&#]+/;class ${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[vn]=new dn(e,t)),r}parseSegment(){const e=ff(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,j);return this.capture(e),new Ws(Bl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ff(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=ff(this.remaining);s&&(r=s,this.capture(r))}e[Bl(t)]=Bl(r)}parseQueryParam(e){const t=function f(n){const e=n.match(w);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function C(n){const e=n.match(m);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const s=df(t),u=df(r);if(e.hasOwnProperty(s)){let c=e[s];Array.isArray(c)||(c=[c],e[s]=c),c.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ff(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new d.vHH(4010,j);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=vn);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[vn]:new dn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,j)}}function Z(n){return n.segments.length>0?new dn([],{[vn]:n}):n}function pe(n){const e={};for(const r of Object.keys(n.children)){const u=pe(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Me(n){if(1===n.numberOfChildren&&n.children[vn]){const e=n.children[vn];return new dn(n.segments.concat(e.segments),e.children)}return n}(new dn(n.segments,e))}function gt(n){return n instanceof Qr}const Ot=!1;function Fa(n,e,t,r,s){if(0===t.length)return Po(e.root,e.root,e.root,r,s);const u=function Wc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new zd(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const y={};return E(u.outlets,(I,O)=>{y[O]="string"==typeof I?I.split("/"):I}),[...s,{outlets:y}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===c?(u.split("/").forEach((y,I)=>{0==I&&"."===y||(0==I&&""===y?t=!0:".."===y?e++:""!=y&&s.push(y))}),s):[...s,u]},[]);return new zd(t,e,r)}(t);return u.toRoot()?Po(e.root,e.root,new dn([],{}),r,s):function c(I){const O=function qd(n,e,t,r){if(n.isAbsolute)return new pu(e.root,!0,0);if(-1===r)return new pu(t,t===e.root,0);return function jl(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new d.vHH(4005,Ot&&"Invalid number of '../'");s=r.segments.length}return new pu(r,!1,s-u)}(t,r+(fu(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,I),V=O.processChildren?gu(O.segmentGroup,O.index,u.commands):$l(O.segmentGroup,O.index,u.commands);return Po(e.root,O.segmentGroup,V,r,s)}(n.snapshot?._lastPathIndex)}function fu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function qc(n){return"object"==typeof n&&null!=n&&n.outlets}function Po(n,e,t,r,s){let c,u={};r&&E(r,(I,O)=>{u[O]=Array.isArray(I)?I.map(V=>`${V}`):`${I}`}),c=n===e?t:pf(n,e,t);const y=Z(pe(c));return new Qr(y,u,s)}function pf(n,e,t){const r={};return E(n.children,(s,u)=>{r[u]=s===e?t:pf(s,e,t)}),new dn(n.segments,r)}class zd{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&fu(r[0]))throw new d.vHH(4003,Ot&&"Root segment cannot have matrix parameters");const s=r.find(qc);if(s&&s!==zc(r))throw new d.vHH(4004,Ot&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function $l(n,e,t){if(n||(n=new dn([],{})),0===n.segments.length&&n.hasChildren())return gu(n,e,t);const r=function sy(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const c=n.segments[s],y=t[r];if(qc(y))break;const I=`${y}`,O=r<t.length-1?t[r+1]:null;if(s>0&&void 0===I)break;if(I&&O&&"object"==typeof O&&void 0===O.outlets){if(!oy(I,O,c))return u;r+=2}else{if(!oy(I,{},c))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new dn(n.segments.slice(0,r.pathIndex),{});return u.children[vn]=new dn(n.segments.slice(r.pathIndex),n.children),gu(u,0,s)}return r.match&&0===s.length?new dn(n.segments,{}):r.match&&!n.hasChildren()?gf(n,e,t):r.match?gu(n,0,s):gf(n,e,t)}function gu(n,e,t){if(0===t.length)return new dn(n.segments,{});{const r=function Wd(n){return qc(n[0])?n[0].outlets:{[vn]:n}}(t),s={};if(!r[vn]&&n.children[vn]&&1===n.numberOfChildren&&0===n.children[vn].segments.length){const u=gu(n.children[vn],e,t);return new dn(n.segments,u.children)}return E(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[c]=$l(n.children[c],e,u))}),E(n.children,(u,c)=>{void 0===r[c]&&(s[c]=u)}),new dn(n.segments,s)}}function gf(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(qc(u)){const I=mf(u.outlets);return new dn(r,I)}if(0===s&&fu(t[0])){r.push(new Ws(n.segments[e].path,I0(t[0]))),s++;continue}const c=qc(u)?u.outlets[vn]:`${u}`,y=s<t.length-1?t[s+1]:null;c&&y&&fu(y)?(r.push(new Ws(c,I0(y))),s+=2):(r.push(new Ws(c,{})),s++)}return new dn(r,{})}function mf(n){const e={};return E(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=gf(new dn([],{}),0,t))}),e}function I0(n){const e={};return E(n,(t,r)=>e[r]=`${t}`),e}function oy(n,e,t){return n==t.path&&No(e,t.parameters)}const yf="imperative";class mu{constructor(e,t){this.id=e,this.url=t}}class Qp extends mu{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ku extends mu{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zd extends mu{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zc extends mu{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class vf extends mu{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kd extends mu{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pC extends mu{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gC extends mu{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pA extends mu{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mC extends mu{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ay{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yC{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class C0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uy{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ly{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let vC=(()=>{class n{createUrlTree(t,r,s,u,c,y){return Fa(t||r.root,s,u,c,y)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),wC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(e){return vC.\u0275fac(e)},providedIn:"root"}),n})();class S0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=cy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=cy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=yu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return yu(e,this._root).map(t=>t.value)}}function cy(n,e){if(n===e.value)return e;for(const t of e.children){const r=cy(n,t);if(r)return r}return null}function yu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=yu(n,t);if(r.length)return r.unshift(e),r}return[]}class ko{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Yd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class EC extends S0{constructor(e,t){super(e),this.snapshot=t,dy(this,e)}toString(){return this.snapshot.toString()}}function IC(n,e){const t=function gA(n,e){const c=new Jp([],{},{},"",{},vn,e,null,n.root,-1,{});return new x0("",new ko(c,[]))}(n,e),r=new di([new Ws("",{})]),s=new di({}),u=new di({}),c=new di({}),y=new di(""),I=new _f(r,s,c,y,u,vn,e,t.root);return I.snapshot=t.root,new EC(new ko(I,[]),t)}class _f{constructor(e,t,r,s,u,c,y,I){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=c,this.component=y,this.title=this.data?.pipe((0,gn.U)(O=>O[sa]))??qt(void 0),this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gn.U)(e=>du(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gn.U)(e=>du(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CC(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function A0(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Jp{get title(){return this.data?.[sa]}constructor(e,t,r,s,u,c,y,I,O,V,Q){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=c,this.component=y,this.routeConfig=I,this._urlSegment=O,this._lastPathIndex=V,this._resolve=Q}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=du(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=du(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class x0 extends S0{constructor(e,t){super(t),this.url=e,dy(this,t)}toString(){return M0(this._root)}}function dy(n,e){e.value._routerState=n,e.children.forEach(t=>dy(n,t))}function M0(n){const e=n.children.length>0?` { ${n.children.map(M0).join(", ")} } `:"";return`${n.value}${e}`}function wf(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,No(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),No(e.params,t.params)||n.params.next(t.params),function Bd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!No(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),No(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function La(n,e){const t=No(n.params,e.params)&&function Gc(n,e){return Fs(n,e)&&n.every((t,r)=>No(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||La(n.parent,e.parent))}function Qd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function R0(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return Qd(n,r,s);return Qd(n,r)})}(n,e,t);return new ko(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(y=>Qd(n,y)),c}}const r=function O0(n){return new _f(new di(n.url),new di(n.params),new di(n.queryParams),new di(n.fragment),new di(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>Qd(n,u));return new ko(r,s)}}const N0="ngNavigationCancelingError";function bC(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=gt(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=DC(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function DC(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[N0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function eg(n){return tg(n)&&gt(n.url)}function tg(n){return n&&n[N0]}class mA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ng,this.attachRef=null}}let ng=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new mA,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const If=!1;let hy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=vn,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(ng),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,If);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,If);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,If);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,If);this._activatedRoute=t;const s=this.location,c=t.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,I=new TC(t,y,s.injector);if(r&&function SC(n){return!!n.resolveComponentFactory}(r)){const O=r.resolveComponentFactory(c);this.activated=s.createComponent(O,s.length,I)}else this.activated=s.createComponent(c,{index:s.length,injector:I,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class TC{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===_f?this.route:e===ng?this.childContexts:this.parent.get(e,t)}}let fy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[hy],encapsulation:2}),n})();function py(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function rg(n){const e=n.children&&n.children.map(rg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==vn&&(t.component=fy),t}function aa(n){return n.outlet||vn}function k0(n,e){const t=n.filter(r=>aa(r)===e);return t.push(...n.filter(r=>aa(r)!==e)),t}function Cf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class F0{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=Yd(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,s[c],r),delete s[c]}),E(s,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const c=r.getContext(s.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Yd(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],s);if(r&&r.outlet){const c=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:y})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Yd(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=Yd(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new b0(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Xp(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(wf(s),s===u)if(s.component){const c=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const c=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const y=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),c.children.onOutletReAttached(y.contexts),c.attachRef=y.componentRef,c.route=y.route.value,c.outlet&&c.outlet.attach(y.componentRef,y.route.value),wf(y.route.value),this.activateChildRoutes(e,null,c.children)}else{const y=Cf(s.snapshot),I=y?.get(d._Vd)??null;c.attachRef=null,c.route=s,c.resolver=I,c.injector=y,c.outlet&&c.outlet.activateWith(s,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class RC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yy{constructor(e,t){this.component=e,this.route=t}}function bf(n,e,t){const r=n._root;return Xd(r,e?e._root:null,t,[r.value])}function Kc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function Xd(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=Yd(e);return n.children.forEach(c=>{(function L0(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const I=function _A(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Fs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fs(n.url,e.url)||!No(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!La(n,e)||!No(n.queryParams,e.queryParams);default:return!La(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);I?s.canActivateChecks.push(new RC(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Xd(n,e,u.component?y?y.children:null:t,r,s),I&&y&&y.outlet&&y.outlet.isActivated&&s.canDeactivateChecks.push(new yy(y.outlet.component,c))}else c&&Df(e,y,s),s.canActivateChecks.push(new RC(r)),Xd(n,null,u.component?y?y.children:null:t,r,s)})(c,u[c.value.outlet],t,r.concat([c.value]),s),delete u[c.value.outlet]}),E(u,(c,y)=>Df(c,t.getContext(y),s)),s}function Df(n,e,t){const r=Yd(n),s=n.value;E(r,(u,c)=>{Df(u,s.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new yy(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Jd(n){return"function"==typeof n}function Yu(n){return n instanceof Uu||"EmptyError"===n?.name}const ig=Symbol("INITIAL_VALUE");function Hl(){return Yr(n=>Vc(n.map(e=>e.pipe(Oa(1),Na(ig)))).pipe((0,gn.U)(e=>{for(const t of e)if(!0!==t){if(t===ig)return ig;if(!1===t||t instanceof Qr)return t}return!0}),Ts(e=>e!==ig),Oa(1)))}function by(n){return(0,Uc.z)((0,Li.b)(e=>{if(gt(e))throw bC(0,e)}),(0,gn.U)(e=>!0===e))}const Dy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function j0(n,e,t,r,s){const u=Ty(n,e,t);return u.matched?function eh(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?qt(s.map(c=>{const y=Kc(c,n);return S(function Ey(n){return n&&Jd(n.canMatch)}(y)?y.canMatch(e,t):n.runInContext(()=>y(e,t)))})).pipe(Hl(),by()):qt(!0)}(r=py(e,r),e,t).pipe((0,gn.U)(c=>!0===c?u:{...Dy})):qt(u)}function Ty(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Dy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||oa)(t,n,e);if(!s)return{...Dy};const u={};E(s.posParams,(y,I)=>{u[I]=y.path});const c=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:c,positionalParamSegments:s.posParams??{}}}function th(n,e,t,r){if(t.length>0&&function VC(n,e,t){return t.some(r=>Sy(n,e,r)&&aa(r)!==vn)}(n,t,r)){const u=new dn(e,function $0(n,e,t,r){const s={};s[vn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&aa(u)!==vn){const c=new dn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,s[aa(u)]=c}return s}(n,e,r,new dn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function H0(n,e,t){return t.some(r=>Sy(n,e,r))}(n,t,r)){const u=new dn(n.segments,function LC(n,e,t,r,s){const u={};for(const c of r)if(Sy(n,t,c)&&!s[aa(c)]){const y=new dn([],{});y._sourceSegment=n,y._segmentIndexShift=e.length,u[aa(c)]=y}return{...s,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new dn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Sy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function z0(n,e,t,r){return!!(aa(n)===r||r!==vn&&Sy(e,t,n))&&("**"===n.path||Ty(e,n,t).matched)}function nh(n,e,t){return 0===e.length&&!n.children[t]}const ag=!1;class Qu{constructor(e){this.segmentGroup=e||null}}class rh{constructor(e){this.urlTree=e}}function Tf(n){return zu(new Qu(n))}function Ay(n){return zu(new rh(n))}class G0{constructor(e,t,r,s,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0}apply(){const e=th(this.urlTree.root,[],[],this.config).segmentGroup,t=new dn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,vn).pipe((0,gn.U)(u=>this.createUrlTree(pe(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qs(u=>{if(u instanceof rh)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Qu?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,vn).pipe((0,gn.U)(s=>this.createUrlTree(pe(s),e.queryParams,e.fragment))).pipe(qs(s=>{throw s instanceof Qu?this.noMatchError(s):s}))}noMatchError(e){return new d.vHH(4002,ag)}createUrlTree(e,t,r){const s=Z(e);return new Qr(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,gn.U)(u=>new dn([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,cr.D)(s).pipe(ia(u=>{const c=r.children[u],y=k0(t,u);return this.expandSegmentGroup(e,y,c,u).pipe((0,gn.U)(I=>({segment:I,outlet:u})))}),Fl((u,c)=>(u[c.outlet]=c.segment,u),{}),lu())}expandSegment(e,t,r,s,u,c){return(0,cr.D)(r).pipe(ia(y=>this.expandSegmentAgainstRoute(e,t,r,y,s,u,c).pipe(qs(O=>{if(O instanceof Qu)return qt(null);throw O}))),Gs(y=>!!y),qs((y,I)=>{if(Yu(y))return nh(t,s,u)?qt(new dn([],{})):Tf(t);throw y}))}expandSegmentAgainstRoute(e,t,r,s,u,c,y){return z0(s,t,u,c)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,c):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c):Tf(t):Tf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ay(u):this.lineralizeSegments(r,u).pipe((0,Ci.z)(c=>{const y=new dn(c,{});return this.expandSegment(e,y,t,c,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c){const{matched:y,consumedSegments:I,remainingSegments:O,positionalParamSegments:V}=Ty(t,s,u);if(!y)return Tf(t);const Q=this.applyRedirectCommands(I,s.redirectTo,V);return s.redirectTo.startsWith("/")?Ay(Q):this.lineralizeSegments(s,Q).pipe((0,Ci.z)(le=>this.expandSegment(e,t,r,le.concat(O),c,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){return"**"===r.path?(e=py(r,e),r.loadChildren?(r._loadedRoutes?qt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,gn.U)(y=>(r._loadedRoutes=y.routes,r._loadedInjector=y.injector,new dn(s,{})))):qt(new dn(s,{}))):j0(t,r,s,e).pipe(Yr(({matched:c,consumedSegments:y,remainingSegments:I})=>c?this.getChildConfig(e=r._injector??e,r,s).pipe((0,Ci.z)(V=>{const Q=V.injector??e,le=V.routes,{segmentGroup:we,slicedSegments:Ze}=th(t,y,I,le),ht=new dn(we.segments,we.children);if(0===Ze.length&&ht.hasChildren())return this.expandChildren(Q,le,ht).pipe((0,gn.U)(_n=>new dn(y,_n)));if(0===le.length&&0===Ze.length)return qt(new dn(y,{}));const _t=aa(r)===u;return this.expandSegment(Q,ht,le,Ze,_t?vn:u,!0).pipe((0,gn.U)(Ln=>new dn(y.concat(Ln.segments),Ln.children)))})):Tf(t)))}getChildConfig(e,t,r){return t.children?qt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?qt({routes:t._loadedRoutes,injector:t._loadedInjector}):function FC(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?qt(!0):qt(s.map(c=>{const y=Kc(c,n);return S(function _y(n){return n&&Jd(n.canLoad)}(y)?y.canLoad(e,t):n.runInContext(()=>y(e,t)))})).pipe(Hl(),by())}(e,t,r).pipe((0,Ci.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,Li.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function BC(n){return zu(DC(ag,3))}())):qt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return qt(r);if(s.numberOfChildren>1||!s.children[vn])return e.redirectTo,zu(new d.vHH(4e3,ag));s=s.children[vn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new Qr(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return E(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const y=s.substring(1);r[u]=t[y]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let c={};return E(t.children,(y,I)=>{c[I]=this.createSegmentGroup(e,y,r,s)}),new dn(u,c)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new d.vHH(4001,ag);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}class xy{}class Sf{constructor(e,t,r,s,u,c,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=s,this.url=u,this.paramsInheritanceStrategy=c,this.urlSerializer=y}recognize(){const e=th(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,vn).pipe((0,gn.U)(t=>{if(null===t)return null;const r=new Jp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vn,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new ko(r,t),u=new x0(this.url,s);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=CC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s)}processChildren(e,t,r){return(0,cr.D)(Object.keys(r.children)).pipe(ia(s=>{const u=r.children[s],c=k0(t,s);return this.processSegmentGroup(e,c,u,s)}),Fl((s,u)=>s&&u?(s.push(...u),s):null),function Ud(n,e=!1){return(0,as.e)((t,r)=>{let s=0;t.subscribe((0,Xi.x)(r,u=>{const c=n(u,s++);(c||e)&&r.next(u),!c&&r.complete()}))})}(s=>null!==s),qu(null),lu(),(0,gn.U)(s=>{if(null===s)return null;const u=W0(s);return function HC(n){n.sort((e,t)=>e.value.outlet===vn?-1:t.value.outlet===vn?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,s,u){return(0,cr.D)(t).pipe(ia(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,s,u)),Gs(c=>!!c),qs(c=>{if(Yu(c))return nh(r,s,u)?qt([]):qt(null);throw c}))}processSegmentAgainstRoute(e,t,r,s,u){if(t.redirectTo||!z0(t,r,s,u))return qt(null);let c;if("**"===t.path){const y=s.length>0?zc(s).parameters:{},I=K0(r)+s.length;c=qt({snapshot:new Jp(s,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vu(t),aa(t),t.component??t._loadedComponent??null,t,Z0(r),I,Y0(t)),consumedSegments:[],remainingSegments:[]})}else c=j0(r,t,s,e).pipe((0,gn.U)(({matched:y,consumedSegments:I,remainingSegments:O,parameters:V})=>{if(!y)return null;const Q=K0(r)+I.length;return{snapshot:new Jp(I,V,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vu(t),aa(t),t.component??t._loadedComponent??null,t,Z0(r),Q,Y0(t)),consumedSegments:I,remainingSegments:O}}));return c.pipe(Yr(y=>{if(null===y)return qt(null);const{snapshot:I,consumedSegments:O,remainingSegments:V}=y;e=t._injector??e;const Q=t._loadedInjector??e,le=function zC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:we,slicedSegments:Ze}=th(r,O,V,le.filter(_t=>void 0===_t.redirectTo));if(0===Ze.length&&we.hasChildren())return this.processChildren(Q,le,we).pipe((0,gn.U)(_t=>null===_t?null:[new ko(I,_t)]));if(0===le.length&&0===Ze.length)return qt([new ko(I,[])]);const ht=aa(t)===u;return this.processSegment(Q,le,we,Ze,ht?vn:u).pipe((0,gn.U)(_t=>null===_t?null:[new ko(I,_t)]))}))}}function GC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function W0(n){const e=[],t=new Set;for(const r of n){if(!GC(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=W0(r.children);e.push(new ko(r.value,s))}return e.filter(r=>!t.has(r))}function Z0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function K0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function vu(n){return n.data||{}}function Y0(n){return n.resolve||{}}function Ry(n){return"string"==typeof n.title||null===n.title}function Oy(n){return Yr(e=>{const t=n(e);return t?(0,cr.D)(t).pipe((0,gn.U)(()=>e)):qt(e)})}const ih=new d.OlP("ROUTES");let Py=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return qt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=S(t.loadComponent()).pipe((0,gn.U)(J0),(0,Li.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),cu(()=>{this.componentLoaders.delete(t)})),s=new lf(r,()=>new zs.x).pipe(Gu());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return qt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,gn.U)(y=>{this.onLoadEndListener&&this.onLoadEndListener(r);let I,O,V=!1;Array.isArray(y)?O=y:(I=y.create(t).injector,O=jd(I.get(ih,[],d.XFs.Self|d.XFs.Optional)));return{routes:O.map(rg),injector:I}}),cu(()=>{this.childrenLoaders.delete(r)})),c=new lf(u,()=>new zs.x).pipe(Gu());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return S(t()).pipe((0,gn.U)(J0),(0,Ci.z)(r=>r instanceof d.YKP||Array.isArray(r)?qt(r):(0,cr.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function J0(n){return function Va(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let lg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new zs.x,this.configLoader=(0,d.f3M)(Py),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Ji),this.rootContexts=(0,d.f3M)(ng),this.navigationId=0,this.afterPreactivation=()=>qt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new yC(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new ay(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new di({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ts(r=>0!==r.id),(0,gn.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Yr(r=>{let s=!1,u=!1;return qt(r).pipe((0,Li.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yr(c=>{const y=t.browserUrlTree.toString(),I=!t.navigated||c.extractedUrl.toString()!==y||y!==t.currentUrlTree.toString();if(!I&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const V="";return this.events.next(new Zc(c.id,t.serializeUrl(r.rawUrl),V,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Ds.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ew(c.source)&&(t.browserUrlTree=c.extractedUrl),qt(c).pipe(Yr(V=>{const Q=this.transitions?.getValue();return this.events.next(new Qp(V.id,this.urlSerializer.serialize(V.extractedUrl),V.source,V.restoredState)),Q!==this.transitions?.getValue()?Ds.E:Promise.resolve(V)}),function q0(n,e,t,r){return Yr(s=>function jC(n,e,t,r,s){return new G0(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,gn.U)(u=>({...s,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Li.b)(V=>{this.currentNavigation={...this.currentNavigation,finalUrl:V.urlAfterRedirects},r.urlAfterRedirects=V.urlAfterRedirects}),function WC(n,e,t,r,s){return(0,Ci.z)(u=>function My(n,e,t,r,s,u,c="emptyOnly"){return new Sf(n,e,t,r,s,c,u).recognize().pipe(Yr(y=>null===y?function $C(n){return new gs.y(e=>e.error(n))}(new xy):qt(y)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,s).pipe((0,gn.U)(c=>({...u,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Li.b)(V=>{if(r.targetSnapshot=V.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!V.extras.skipLocationChange){const le=t.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl);t.setBrowserUrl(le,V)}t.browserUrlTree=V.urlAfterRedirects}const Q=new Kd(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(V.urlAfterRedirects),V.targetSnapshot);this.events.next(Q)}));if(I&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:V,extractedUrl:Q,source:le,restoredState:we,extras:Ze}=c,ht=new Qp(V,this.urlSerializer.serialize(Q),le,we);this.events.next(ht);const _t=IC(Q,this.rootComponentType).snapshot;return qt(r={...c,targetSnapshot:_t,urlAfterRedirects:Q,extras:{...Ze,skipLocationChange:!1,replaceUrl:!1}})}{const V="";return this.events.next(new Zc(c.id,t.serializeUrl(r.extractedUrl),V,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Ds.E}}),(0,Li.b)(c=>{const y=new pC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(y)}),(0,gn.U)(c=>r={...c,guards:bf(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function sg(n,e){return(0,Ci.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?qt({...t,guardsResult:!0}):function PC(n,e,t,r){return(0,cr.D)(n).pipe((0,Ci.z)(s=>function kC(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?qt(u.map(y=>{const I=Cf(e)??s,O=Kc(y,I);return S(function OC(n){return n&&Jd(n.canDeactivate)}(O)?O.canDeactivate(n,e,t,r):I.runInContext(()=>O(n,e,t,r))).pipe(Gs())})).pipe(Hl()):qt(!0)}(s.component,s.route,t,e,r)),Gs(s=>!0!==s,!0))}(c,r,s,n).pipe((0,Ci.z)(y=>y&&function V0(n){return"boolean"==typeof n}(y)?function Iy(n,e,t,r){return(0,cr.D)(e).pipe(ia(s=>Pl(function Yc(n,e){return null!==n&&e&&e(new C0(n)),qt(!0)}(s.route.parent,r),function og(n,e){return null!==n&&e&&e(new uy(n)),qt(!0)}(s.route,r),function Cy(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function vy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Vd(()=>qt(c.guards.map(I=>{const O=Cf(c.node)??t,V=Kc(I,O);return S(function wy(n){return n&&Jd(n.canActivateChild)}(V)?V.canActivateChild(r,n):O.runInContext(()=>V(r,n))).pipe(Gs())})).pipe(Hl())));return qt(u).pipe(Hl())}(n,s.path,t),function B0(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return qt(!0);const s=r.map(u=>Vd(()=>{const c=Cf(e)??t,y=Kc(u,c);return S(function wA(n){return n&&Jd(n.canActivate)}(y)?y.canActivate(e,n):c.runInContext(()=>y(e,n))).pipe(Gs())}));return qt(s).pipe(Hl())}(n,s.route,t))),Gs(s=>!0!==s,!0))}(r,u,n,e):qt(y)),(0,gn.U)(y=>({...t,guardsResult:y})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Li.b)(c=>{if(r.guardsResult=c.guardsResult,gt(c.guardsResult))throw bC(0,c.guardsResult);const y=new gC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(y)}),Ts(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Oy(c=>{if(c.guards.canActivateChecks.length)return qt(c).pipe((0,Li.b)(y=>{const I=new pA(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}),Yr(y=>{let I=!1;return qt(y).pipe(function EA(n,e){return(0,Ci.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return qt(t);let u=0;return(0,cr.D)(s).pipe(ia(c=>function IA(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!Ry(s)&&(u[sa]=s.title),function Q0(n,e,t,r){const s=function CA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return qt({});const u={};return(0,cr.D)(s).pipe((0,Ci.z)(c=>function X0(n,e,t,r){const s=Cf(e)??r,u=Kc(n,s);return S(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(Gs(),(0,Li.b)(y=>{u[c]=y}))),$c(1),function Pa(n){return(0,gn.U)(()=>n)}(u),qs(c=>Yu(c)?Ds.E:zu(c)))}(u,n,e,r).pipe((0,gn.U)(c=>(n._resolvedData=c,n.data=CC(n,t).resolve,s&&Ry(s)&&(n.data[sa]=s.title),null)))}(c.route,r,n,e)),(0,Li.b)(()=>u++),$c(1),(0,Ci.z)(c=>u===s.length?qt(t):Ds.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Li.b)({next:()=>I=!0,complete:()=>{I||(t.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Li.b)(y=>{const I=new mC(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}))}),Oy(c=>{const y=I=>{const O=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&O.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,Li.b)(V=>{I.component=V}),(0,gn.U)(()=>{})));for(const V of I.children)O.push(...y(V));return O};return Vc(y(c.targetSnapshot.root)).pipe(qu(),Oa(1))}),Oy(()=>this.afterPreactivation()),(0,gn.U)(c=>{const y=function Ef(n,e,t){const r=Qd(n,e._root,t?t._root:void 0);return new EC(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:y}}),(0,Li.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,gn.U)(r=>(new F0(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),Oa(1),(0,Li.b)({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ku(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),cu(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),qs(c=>{if(u=!0,tg(c)){eg(c)||(t.navigated=!0,t.restoreHistory(r,!0));const y=new Zd(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(y),eg(c)){const I=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),O={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ew(r.source)};t.scheduleNavigation(I,yf,null,O,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const y=new vf(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(y);try{r.resolve(t.errorHandler(c))}catch(I){r.reject(I)}}return Ds.E}))}))}cancelNavigationTransition(t,r,s){const u=new Zd(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ew(n){return n!==yf}let tw=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===vn);return r}getResolvedTitleForRoute(t){return t.data[sa]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(ZC)},providedIn:"root"}),n})(),ZC=(()=>{class n extends tw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(rf))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(YC)},providedIn:"root"}),n})();class KC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let YC=(()=>{class n extends KC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Un=new d.OlP("",{providedIn:"root",factory:()=>({})});let rw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(iw)},providedIn:"root"}),n})(),iw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XC(n){throw n}function JC(n,e,t){return e.parse("/")}const sw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(Un,{optional:!0})||{},this.errorHandler=this.options.errorHandler||XC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||JC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(rw),this.routeReuseStrategy=(0,d.f3M)(nw),this.urlCreationStrategy=(0,d.f3M)(wC),this.titleStrategy=(0,d.f3M)(tw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=jd((0,d.f3M)(ih,{optional:!0})??[]),this.navigationTransitions=(0,d.f3M)(lg),this.urlSerializer=(0,d.f3M)(Ji),this.location=(0,d.f3M)(it),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=IC(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},c=s?.navigationId?s:null;if(s){const I={...s};delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(u.state=I)}const y=this.parseUrl(t);this.scheduleNavigation(y,r,c,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(rg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:c,queryParamsHandling:y,preserveFragment:I}=r,O=I?this.currentUrlTree.fragment:c;let V=null;switch(y){case"merge":V={...this.currentUrlTree.queryParams,...u};break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=u||null}return null!==V&&(V=this.removeEmptyProps(V)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,t,V,O??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=gt(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,yf,null,r)}navigate(t,r={skipLocationChange:!1}){return function tb(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...sw}:!1===r?{...eb}:r,gt(t))return fe(this.currentUrlTree,t,s);const u=this.parseUrl(t);return fe(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,c){if(this.disposed)return Promise.resolve(!1);let y,I,O,V;return c?(y=c.resolve,I=c.reject,O=c.promise):O=new Promise((Q,le)=>{y=Q,I=le}),V="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:V,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:y,reject:I,promise:O,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),O.catch(Q=>Promise.reject(Q))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",c)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(s,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mf=(()=>{class n{constructor(t,r,s,u,c,y){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=c,this.locationStrategy=y,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new zs.x;const I=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===I||"area"===I,this.isAnchorElement?this.subscription=t.events.subscribe(O=>{O instanceof Ku&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,u,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||u||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,u=this.el.nativeElement;null!==r?s.setAttribute(u,t,r):s.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Zs),d.Y36(_f),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(nt))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&d.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&d.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})();class ky{}let Fy=(()=>{class n{constructor(t,r,s,u,c){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ts(t=>t instanceof Ku),ia(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,d.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,y=u._loadedInjector??c;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(c,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(y,u.children??u._loadedRoutes))}return(0,cr.D)(s).pipe((0,$u.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):qt(null);const u=s.pipe((0,Ci.z)(c=>null===c?qt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,cr.D)([u,c]).pipe((0,$u.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Zs),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(ky),d.LFG(Py))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rf=new d.OlP("");let aw=(()=>{class n{constructor(t,r,s,u,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ku&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ly&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ly(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();var ua=(()=>((ua=ua||{})[ua.COMPLETE=0]="COMPLETE",ua[ua.FAILED=1]="FAILED",ua[ua.REDIRECTING=2]="REDIRECTING",ua))();const Of=!1;function Qc(n,e){return{\u0275kind:n,\u0275providers:e}}const Vy=new d.OlP("",{providedIn:"root",factory:()=>!1});function Nf(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(Zs),s=n.get(uw);1===n.get(dg)&&r.initialNavigation(),n.get(lw,null,d.XFs.Optional)?.setUpPreloading(),n.get(Rf,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const uw=new d.OlP(Of?"bootstrap done indicator":"",{factory:()=>new zs.x}),dg=new d.OlP(Of?"initial navigation":"",{providedIn:"root",factory:()=>1});function sb(){let n=[];return n=Of?[{provide:d.Xts,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Zs);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function D0(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Qc(1,n)}const lw=new d.OlP(Of?"router preloader":"");function ob(n){return Qc(0,[{provide:lw,useExisting:Fy},{provide:ky,useExisting:n}])}const ah=!1,lb=new d.OlP(ah?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Uy=[it,{provide:Ji,useClass:Ll},Zs,ng,{provide:_f,useFactory:function Ly(n){return n.routerState.root},deps:[Zs]},Py,ah?{provide:Vy,useValue:!0}:[]];function cb(){return new d.PXZ("Router",Zs)}let dw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Uy,ah&&r?.enableTracing?sb().\u0275providers:[],{provide:ih,multi:!0,useValue:t},{provide:lb,useFactory:fw,deps:[[Zs,new d.FiY,new d.tp0]]},{provide:Un,useValue:r||{}},r?.useHash?{provide:nt,useClass:rt}:{provide:nt,useClass:Ee},{provide:Rf,useFactory:()=>{const n=(0,d.f3M)(q),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(Un),r=(0,d.f3M)(lg),s=(0,d.f3M)(Ji);return t.scrollOffset&&n.setOffset(t.scrollOffset),new aw(s,r,n,e,t)}},r?.preloadingStrategy?ob(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:cb},r?.initialNavigation?hb(r):[],[{provide:pw,useFactory:Nf},{provide:d.tb,multi:!0,useExisting:pw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ih,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(lb,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[fy]}),n})();function fw(n){if(ah&&n)throw new d.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function hb(n){return["disabled"===n.initialNavigation?Qc(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Zs);return()=>{e.setUpLocationChangeListener()}}},{provide:dg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Qc(2,[{provide:dg,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Le,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(Zs),u=e.get(uw);(function TA(n,e){n.events.pipe(Ts(t=>t instanceof Ku||t instanceof Zd||t instanceof vf||t instanceof Zc),(0,gn.U)(t=>t instanceof Ku||t instanceof Zc?ua.COMPLETE:t instanceof Zd&&(0===t.code||1===t.code)?ua.REDIRECTING:ua.FAILED),Ts(t=>t!==ua.REDIRECTING),Oa(1)).subscribe(()=>{e()})})(s,()=>{r(!0)}),e.get(lg).afterPreactivation=()=>(r(!0),u.closed?qt(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const pw=new d.OlP(ah?"Router Initializer":""),By=[];let kf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[dw.forRoot(By),dw]}),n})();var Xr=X(8259);const Ff=function(){return["/"]},gw=function(){return["/about"]},jy=function(){return["/skill"]},$y=function(){return["/my"]},Hy=function(){return["/content"]};let mw=(()=>{class n{constructor(){this.audioUrl="./assets/sound.mp3",this.isPlaying=!1,this.audioPlayer=new Audio(this.audioUrl),this.audioPlayer.addEventListener("ended",()=>{this.isPlaying=!1})}ngOnInit(){Xr("#mobile-link").click(function(){Xr(".jq-menu").toggleClass("active")})}toggleAudio(){this.isPlaying?this.audioPlayer.pause():this.audioPlayer.play(),this.isPlaying=!this.isPlaying}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-nav"]],decls:38,vars:14,consts:[["id","nav_bar"],["rel","index",1,"logo",3,"routerLink"],["src","./assets/S.jpg","alt",""],["src","./assets/webDev.jpg","alt",""],["id","mobile-link","href","javascript:void(0);"],[1,"fa","fa-bars"],[1,"en","jq-menu"],["rel","index",1,"home-link","active",3,"routerLink"],[1,"fa","fa-home"],["rel","about",1,"",3,"routerLink"],[1,"fa","fa-user"],["rel","skills",1,"",3,"routerLink"],[1,"fas","fa-tools"],["rel","gallery",1,"",3,"routerLink"],[1,"fa","fa-eye"],["rel","contact",1,"",3,"routerLink"],[1,"fa","fa-envelope"],["href","https://www.instagram.com/shubhamagrawal_1/","target","_blank"],[1,"fab","fa-instagram"],["href","https://www.linkedin.com/in/shubhamagrawal-dev/","target","_blank"],[1,"fab","fa-linkedin"],["href","https://github.com/Shubham14agrawal","target","_blank"],[1,"fab","fa-github"],["href","mailto:shubham14agrawal@gmail.com","target","_blank"],[1,"fab","fa-google"],[1,"audio-container"],[3,"src"],["audioPlayer",""],[1,"fa","fa-cloud"],[2,"display","inline-block",3,"click"],[1,"blast"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"a",1),d._UZ(2,"img",2)(3,"img",3),d.qZA(),d.TgZ(4,"a",4),d._UZ(5,"i",5),d.qZA(),d.TgZ(6,"nav",6)(7,"a",7),d._UZ(8,"i",8),d.qZA(),d.TgZ(9,"a",9),d._UZ(10,"i",10),d.qZA(),d.TgZ(11,"a",11),d._UZ(12,"i",12),d.qZA(),d.TgZ(13,"a",13),d._UZ(14,"i",14),d.qZA(),d.TgZ(15,"a",15),d._UZ(16,"i",16),d.qZA()(),d.TgZ(17,"ul")(18,"li")(19,"a",17),d._UZ(20,"i",18),d.qZA()(),d.TgZ(21,"li")(22,"a",19),d._UZ(23,"i",20),d.qZA()(),d.TgZ(24,"li")(25,"a",21),d._UZ(26,"i",22),d.qZA()(),d.TgZ(27,"li")(28,"a",23),d._UZ(29,"i",24),d.qZA()()()(),d.TgZ(30,"div",25),d._UZ(31,"audio",26,27)(33,"i",28),d._uU(34," Sound "),d.TgZ(35,"div",29),d.NdJ("click",function(){return r.toggleAudio()}),d.TgZ(36,"button",30),d._uU(37),d.qZA()()()),2&t&&(d.xp6(1),d.Q6J("routerLink",d.DdM(8,Ff)),d.xp6(6),d.Q6J("routerLink",d.DdM(9,Ff)),d.xp6(2),d.Q6J("routerLink",d.DdM(10,gw)),d.xp6(2),d.Q6J("routerLink",d.DdM(11,jy)),d.xp6(2),d.Q6J("routerLink",d.DdM(12,$y)),d.xp6(2),d.Q6J("routerLink",d.DdM(13,Hy)),d.xp6(16),d.Q6J("src",r.audioUrl,d.LSH),d.xp6(6),d.Oqu(r.isPlaying?"ON":"OFF"))},dependencies:[Mf],styles:['#nav_bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, #mobile-link[_ngcontent-%COMP%]:hover{color:#08fdd8}#nav_bar[_ngcontent-%COMP%]{background:#181818;width:60px;height:100%;position:absolute;top:0;z-index:3;min-height:500px}.logo[_ngcontent-%COMP%]{background:#070707;display:block;padding:1px 0}a[_ngcontent-%COMP%]{color:#444;text-decoration:none}#nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:block;text-align:center;position:absolute;height:210px;top:50%;margin-top:-120px;width:100%}#nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:22px;color:#4d4d4e;display:block;line-height:51px;height:51px;position:relative;text-decoration:none}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:1px auto;width:45px;height:auto;max-width:100%}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;margin-block-start:1em;margin-block-end:1em;margin-inline-start:0px;margin-inline-end:0px;padding-inline-start:40px}li[_ngcontent-%COMP%]{display:list-item;text-align:-webkit-match-parent}#nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .3s ease-out}#nav_bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:7px 0;display:block;font-size:15px;line-height:16px;color:#4d4d4e}#mobile-link[_ngcontent-%COMP%]{display:none}#nav_bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;bottom:20px;width:100%;display:block;padding:0;list-style:none;text-align:center;margin:0}#nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], #nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#08fdd8}#nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .fa-home[_ngcontent-%COMP%]:before{content:"HOME";font-size:9px;letter-spacing:2px}#nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .fa-tools[_ngcontent-%COMP%]:before{content:"SKILLS";font-size:9px;letter-spacing:2px}#nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .fa-envelope[_ngcontent-%COMP%]:before{content:"CONTANT";font-size:9px;letter-spacing:2px}#nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .fa-user[_ngcontent-%COMP%]:before{content:"ABOUT";font-size:9px;letter-spacing:2px}#nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .fa-eye[_ngcontent-%COMP%]:before{content:"WORKS";font-size:9px;letter-spacing:2px}#nav_bar[_ngcontent-%COMP%]   nav.jq-menu.active[_ngcontent-%COMP%]{left:0;opacity:1}@media (max-width: 960px){#nav_bar[_ngcontent-%COMP%]{width:100%;height:60px;position:absolute;top:0;left:0;z-index:3;min-height:0}.logo[_ngcontent-%COMP%]{float:left;padding:0;margin-right:20px}#nav_bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:right;height:60px;line-height:60px;margin:0 10px}#nav_bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:60px;padding:0}#nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left;margin-left:14%;line-height:60px;height:60px}#nav_bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:static;bottom:20px;width:auto;height:60px;line-height:60px;display:block;padding:0;list-style:none;text-align:center;margin:0;float:right}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:1px auto;width:51px;height:auto;max-width:100%}}@media (max-width: 750px){#nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:10%}}@media (max-width: 530px){#mobile-link[_ngcontent-%COMP%]{font-size:30px;color:#fff;float:right;margin:10px 20px 10px 10px;display:block}#nav_bar[_ngcontent-%COMP%]{position:fixed}#nav_bar[_ngcontent-%COMP%]   nav.show[_ngcontent-%COMP%]{left:0;opacity:1}#nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{width:100%;position:fixed;left:100%;opacity:0;margin-left:0;float:left;overflow:hidden;text-align:center;height:60px;top:60px;margin-top:0;background:#181818;transition:all .3s ease-out}#nav_bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none}#nav_bar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left;margin-left:0!important;line-height:60px;height:60px;width:20%}}.audio-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1000}.audio-toggle[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;padding:10px;background-color:#eee;border-radius:5px;cursor:pointer}']}),n})(),zy=(()=>{class n{constructor(t){this.router=t,this.title="portfol",this.loading=!0,this.loading=!0}ngAfterViewInit(){this.router.events.subscribe(t=>{t instanceof Qp?(this.loading=!0,Xr(".ring-loader-wrap").fadeIn("slow")):(t instanceof Ku||t instanceof Zd)&&(Xr(".ring-loader-wrap").fadeOut("slow"),this.loading=!1)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Zs))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"ring-loader-wrap"],[1,"ring-loader"]],template:function(t,r){1&t&&(d._UZ(0,"app-nav"),d.TgZ(1,"div",0)(2,"div",1),d._uU(3," LOADING "),d._UZ(4,"span"),d.qZA()(),d._UZ(5,"router-outlet"))},dependencies:[hy,mw]}),n})();const fb=function(){return["/content"]};let pb=(()=>{class n{constructor(){}ngOnInit(){Xr(document).ready(function(){Xr(".container").css("opacity","1"),Xr(".blast").each(function(t){var r=Xr(this);setTimeout(function(){r.toggleClass("animated rubberBand",!r.hasClass("animated rubberBand"))},270*t),setTimeout(function(){r.css("opacity","1")},270*t),setTimeout(function(){r.removeClass("animated rubberBand")},500*t)})})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],decls:58,vars:2,consts:[["id","page",1,"en","noselect"],[1,"container","home-page"],[1,"tags","top-tags"],[1,"text-zone"],["aria-label"," Hi, I\u2019m ack,web developer.",1,"blast-root"],["aria-hidden","true",1,"blast"],["rel","contact",1,"flat-button",3,"routerLink"],[1,"tags","bottom-tags"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"span",2),d._uU(3,"<html>"),d._UZ(4,"br"),d._uU(5,"\xa0\xa0\xa0<body>"),d.qZA(),d.TgZ(6,"div",3)(7,"h1",4)(8,"span",5),d._uU(9,"H"),d.qZA(),d.TgZ(10,"span",5),d._uU(11,"i"),d.qZA(),d.TgZ(12,"span",5),d._uU(13,","),d.qZA(),d._UZ(14,"br"),d.TgZ(15,"span",5),d._uU(16,"I"),d.qZA(),d.TgZ(17,"span",5),d._uU(18,"\u2019"),d.qZA(),d.TgZ(19,"span",5),d._uU(20,"m"),d.qZA(),d.TgZ(21,"span",5),d._uU(22,"."),d.qZA(),d.TgZ(23,"span",5),d._uU(24,"."),d.qZA(),d.TgZ(25,"span",5),d._uU(26,"."),d.qZA(),d.TgZ(27,"span",5),d._uU(28,"."),d.qZA(),d.TgZ(29,"span",5),d._uU(30,"."),d.qZA(),d.TgZ(31,"span",5),d._uU(32,"."),d.qZA(),d._UZ(33,"br"),d.TgZ(34,"span",5),d._uU(35,"S"),d.qZA(),d.TgZ(36,"span",5),d._uU(37,"h"),d.qZA(),d.TgZ(38,"span",5),d._uU(39,"u"),d.qZA(),d.TgZ(40,"span",5),d._uU(41,"b"),d.qZA(),d.TgZ(42,"span",5),d._uU(43,"h"),d.qZA(),d.TgZ(44,"span",5),d._uU(45,"a"),d.qZA(),d.TgZ(46,"span",5),d._uU(47,"m"),d.qZA(),d.TgZ(48,"span",5),d._uU(49,"."),d.qZA()(),d.TgZ(50,"h2"),d._uU(51,"FullStack Web Developer "),d.qZA(),d.TgZ(52,"a",6),d._uU(53," CONTACT ME "),d.qZA()(),d.TgZ(54,"span",7),d._uU(55," \xa0\xa0\xa0</body>"),d._UZ(56,"br"),d._uU(57," </html> "),d.qZA()()()),2&t&&(d.xp6(52),d.Q6J("routerLink",d.DdM(1,fb)))},dependencies:[Mf],styles:[".home-page[_ngcontent-%COMP%]   .text-zone[_ngcontent-%COMP%]{top:50%}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}"]}),n})(),yw=(()=>{class n{constructor(){}ngOnInit(){Xr(document).ready(function(){Xr(".container").css("opacity","1"),Xr(".blast").each(function(t){var r=Xr(this);setTimeout(function(){r.toggleClass("animated rubberBand",!r.hasClass("animated rubberBand"))},270*t),setTimeout(function(){r.css("opacity","1")},270*t),setTimeout(function(){r.removeClass("animated rubberBand")},500*t)})})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-about"]],decls:61,vars:0,consts:[[1,"tags","top-tags"],["id","page",1,"en","noselect",2,"margin-top","12%"],[1,"container","home-page"],[1,"text-zone"],[1,"blast-root"],[1,"blast"],[1,"extra-container"],["src","./assets/Shubham_Resume.pdf","width","600","height","100%",2,"border","none"],[1,"tags","bottom-tags"]],template:function(t,r){1&t&&(d.TgZ(0,"span",0),d._uU(1,"<html>"),d._UZ(2,"br"),d._uU(3,"\xa0\xa0\xa0<body>"),d.qZA(),d.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"h1",4)(8,"span",5),d._uU(9,"A"),d.qZA(),d.TgZ(10,"span",5),d._uU(11,"b"),d.qZA(),d.TgZ(12,"span",5),d._uU(13,"o"),d.qZA(),d.TgZ(14,"span",5),d._uU(15,"u"),d.qZA(),d.TgZ(16,"span",5),d._uU(17,"t"),d.qZA(),d.TgZ(18,"span",5),d._uU(19,"\xa0\xa0\xa0\xa0\xa0M"),d.qZA(),d.TgZ(20,"span",5),d._uU(21,"e"),d.qZA()(),d.TgZ(22,"p",4)(23,"span",5),d._uU(24,"Hi, I'm Shubham Agrawal, a Full Stack Software Engineer with over 5 years of experience in building high-quality web applications."),d.qZA()(),d.TgZ(25,"p",4)(26,"span",5),d._uU(27,"I specialize in C#, .NET, Angular, and SQL Server, developing scalable and efficient solutions that drive business success."),d.qZA()(),d.TgZ(28,"p",4)(29,"span",5),d._uU(30,"With a strong background in backend development, frontend engineering, and database management, I focus on delivering well-structured, high-performance applications."),d.qZA()(),d.TgZ(31,"p",4)(32,"span",5),d._uU(33,"I enjoy working on complex problem-solving, clean architecture, and optimizing system performance to ensure seamless user experiences."),d.qZA()(),d.TgZ(34,"h2",4)(35,"span",5),d._uU(36,"My Approach"),d.qZA()(),d.TgZ(37,"p",4)(38,"span",5),d._uU(39,"I believe that great software isn't just about writing code\u2014it's about understanding the problem, collaborating effectively, and continuously improving."),d.qZA()(),d.TgZ(40,"p",4)(41,"span",5),d._uU(42,"My work is driven by curiosity, attention to detail, and a passion for crafting elegant solutions."),d.qZA()(),d.TgZ(43,"h2",4)(44,"span",5),d._uU(45,"Beyond Work"),d.qZA()(),d.TgZ(46,"p",4)(47,"span",5),d._uU(48,"Outside of development, I enjoy staying up-to-date with the latest technology trends, exploring new frameworks, and refining my skills."),d.qZA()(),d.TgZ(49,"p",4)(50,"span",5),d._uU(51,"When I'm not coding, you might find me listening to music, gaming, or enjoying a good cup of coffee."),d.qZA()(),d.TgZ(52,"p",4)(53,"span",5),d._uU(54,"Let's connect and discuss technology, innovation, or anything exciting!"),d.qZA()()(),d.TgZ(55,"div",6),d._UZ(56,"iframe",7),d.qZA()()(),d.TgZ(57,"span",8),d._uU(58," \xa0\xa0\xa0</body>"),d._UZ(59,"br"),d._uU(60," </html> "),d.qZA())},styles:[".extra-container[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;margin-left:55%;margin-top:-10%}"]}),n})();X(4946);let vw=(()=>{class n{constructor(){}ngOnInit(){Xr(document).ready(function(){Xr(".container").css("opacity","1"),Xr(".blast").each(function(t){var r=Xr(this);setTimeout(function(){r.toggleClass("animated rubberBand",!r.hasClass("animated rubberBand"))},270*t),setTimeout(function(){r.css("opacity","1")},270*t),setTimeout(function(){r.removeClass("animated rubberBand")},500*t)})});try{TagCanvas.Start("myCanvas","tags",{textFont:"Arial, Helvetica, sans-serif",maxSpeed:.08,minSpeed:.01,textColour:"#08fdd8",depth:.97,minBrightness:.2,reverse:!0,shadowBlur:2,shuffleTags:!0,shadowOffset:[1,1],initial:[0,.1],clickToFront:600})}catch{const r=document.getElementById("myCanvasContainer");r&&(r.style.display="none")}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-skill"]],decls:197,vars:0,consts:[[1,"tags","top-tags"],["id","page",1,"en","noselect",2,"margin-top","12%"],[1,"container","home-page"],[1,"text-zone"],[1,"blast-root"],[1,"blast"],[1,"extra-container"],["id","myCanvasContainer"],["width","460","height","460","id","myCanvas"],["id","tags"],["href","https://en.wikipedia.org/wiki/HTML","target","_blank"],["href","https://en.wikipedia.org/wiki/Cascading_Style_Sheets","target","_blank"],["href","https://en.wikipedia.org/wiki/JavaScript","target","_blank"],["href","https://en.wikipedia.org/wiki/TypeScript","target","_blank"],["href","https://en.wikipedia.org/wiki/JSON","target","_blank"],["href","https://en.wikipedia.org/wiki/Angular_(web_framework)","target","_blank"],["href","https://en.wikipedia.org/wiki/Node.js","target","_blank"],["href","https://en.wikipedia.org/wiki/Bootstrap_(front-end_framework)","target","_blank"],["href","https://en.wikipedia.org/wiki/NoSQL","target","_blank"],["href","https://en.wikipedia.org/wiki/C_Sharp_(programming_language)","target","_blank"],["href","https://en.wikipedia.org/wiki/.NET_Core","target","_blank"],["href","https://en.wikipedia.org/wiki/ASP.NET_MVC","target","_blank"],["href","https://en.wikipedia.org/wiki/Representational_state_transfer","target","_blank"],["href","https://en.wikipedia.org/wiki/Microservices","target","_blank"],["href","https://en.wikipedia.org/wiki/IdentityServer","target","_blank"],["href","https://en.wikipedia.org/wiki/OAuth","target","_blank"],["href","https://en.wikipedia.org/wiki/JSON_Web_Token","target","_blank"],["href","https://en.wikipedia.org/wiki/Multithreading_(computer_architecture)","target","_blank"],["href","https://en.wikipedia.org/wiki/Performance_optimization","target","_blank"],["href","https://en.wikipedia.org/wiki/Component-based_software_engineering","target","_blank"],["href","https://en.wikipedia.org/wiki/Microsoft_SQL_Server","target","_blank"],["href","https://en.wikipedia.org/wiki/Entity_Framework","target","_blank"],["href","https://en.wikipedia.org/wiki/Azure_DevOps","target","_blank"],["href","https://en.wikipedia.org/wiki/Docker_(software)","target","_blank"],["href","https://en.wikipedia.org/wiki/Logging_(computing)","target","_blank"],["href","https://en.wikipedia.org/wiki/Monitoring_(software)","target","_blank"],["href","https://en.wikipedia.org/wiki/SOLID","target","_blank"],["href","https://en.wikipedia.org/wiki/Unit_testing","target","_blank"],["href","https://en.wikipedia.org/wiki/XUnit","target","_blank"],["href","https://en.wikipedia.org/wiki/NUnit","target","_blank"],["href","https://en.wikipedia.org/wiki/Moq","target","_blank"],["href","https://en.wikipedia.org/wiki/Git","target","_blank"],["href","https://en.wikipedia.org/wiki/Jira_(software)","target","_blank"],[1,"tags","bottom-tags"]],template:function(t,r){1&t&&(d.TgZ(0,"span",0),d._uU(1,"<html>"),d._UZ(2,"br"),d._uU(3,"\xa0\xa0\xa0<body>"),d.qZA(),d.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"h1",4)(8,"span",5),d._uU(9,"M"),d.qZA(),d.TgZ(10,"span",5),d._uU(11,"y"),d.qZA(),d.TgZ(12,"span",5),d._uU(13,"\xa0\xa0S"),d.qZA(),d.TgZ(14,"span",5),d._uU(15,"k"),d.qZA(),d.TgZ(16,"span",5),d._uU(17,"i"),d.qZA(),d.TgZ(18,"span",5),d._uU(19,"l"),d.qZA(),d.TgZ(20,"span",5),d._uU(21,"l"),d.qZA(),d.TgZ(22,"span",5),d._uU(23,"s"),d.qZA()(),d.TgZ(24,"p",4)(25,"span",5),d._uU(26,"I specialize in Full Stack Development, "),d.qZA(),d.TgZ(27,"span",5),d._uU(28,"\xa0working across backend, frontend, databases, "),d.qZA(),d.TgZ(29,"span",5),d._uU(30," and cloud to build high-performance applications."),d.qZA()(),d.TgZ(31,"h2",4)(32,"span",5),d._uU(33,"Backend"),d.qZA()(),d.TgZ(34,"p",4)(35,"span",5),d._uU(36,"C#, .NET Core, ASP.NET MVC"),d.qZA(),d._UZ(37,"br"),d.TgZ(38,"span",5),d._uU(39,"REST APIs & Microservices"),d.qZA(),d._UZ(40,"br"),d.TgZ(41,"span",5),d._uU(42,"Identity Server, OAuth, JWT"),d.qZA(),d._UZ(43,"br"),d.TgZ(44,"span",5),d._uU(45,"Multithreading, Performance Optimization"),d.qZA(),d._UZ(46,"br"),d.qZA(),d.TgZ(47,"h2",4)(48,"span",5),d._uU(49,"Frontend"),d.qZA()(),d.TgZ(50,"p",4)(51,"span",5),d._uU(52,"Angular, TypeScript, JavaScript"),d.qZA(),d._UZ(53,"br"),d.TgZ(54,"span",5),d._uU(55,"HTML5, CSS3, Bootstrap"),d.qZA(),d._UZ(56,"br"),d.TgZ(57,"span",5),d._uU(58,"Component-Based Architecture"),d.qZA(),d._UZ(59,"br"),d.qZA(),d.TgZ(60,"h2",4)(61,"span",5),d._uU(62,"Database & DevOps"),d.qZA()(),d.TgZ(63,"p",4)(64,"span",5),d._uU(65,"SQL Server, Entity Framework Core"),d.qZA(),d._UZ(66,"br"),d.TgZ(67,"span",5),d._uU(68,"Azure CI/CD, Docker"),d.qZA(),d._UZ(69,"br"),d.TgZ(70,"span",5),d._uU(71,"Logging & Monitoring"),d.qZA(),d._UZ(72,"br"),d.qZA(),d.TgZ(73,"h2",4)(74,"span",5),d._uU(75,"Best Practices & Tools"),d.qZA()(),d.TgZ(76,"p",4)(77,"span",5),d._uU(78,"Clean Code, SOLID Principles, Design Patterns"),d.qZA(),d._UZ(79,"br"),d.TgZ(80,"span",5),d._uU(81,"Unit Testing, xUnit, NUnit, Moq"),d.qZA(),d._UZ(82,"br"),d.TgZ(83,"span",5),d._uU(84,"Git, JIRA, Azure DevOps"),d.qZA(),d._UZ(85,"br"),d.qZA()(),d.TgZ(86,"div",6)(87,"div",7),d._UZ(88,"canvas",8),d.qZA(),d.TgZ(89,"div",9)(90,"ul")(91,"li")(92,"a",10),d._uU(93,"HTML 5"),d.qZA()(),d.TgZ(94,"li")(95,"a",11),d._uU(96,"CSS"),d.qZA()(),d.TgZ(97,"li")(98,"a",12),d._uU(99,"JavaScript"),d.qZA()(),d.TgZ(100,"li")(101,"a",13),d._uU(102,"TypeScript"),d.qZA()(),d.TgZ(103,"li")(104,"a",14),d._uU(105,"JSON"),d.qZA()(),d.TgZ(106,"li")(107,"a",15),d._uU(108,"Angular 7"),d.qZA()(),d.TgZ(109,"li")(110,"a",16),d._uU(111,"Node.js"),d.qZA()(),d.TgZ(112,"li")(113,"a",17),d._uU(114,"Bootstrap"),d.qZA()(),d.TgZ(115,"li")(116,"a",18),d._uU(117,"NoSQL"),d.qZA()(),d.TgZ(118,"li")(119,"a",19),d._uU(120,"C#"),d.qZA()(),d.TgZ(121,"li")(122,"a",20),d._uU(123,".NET Core"),d.qZA()(),d.TgZ(124,"li")(125,"a",21),d._uU(126,"ASP.NET MVC"),d.qZA()(),d.TgZ(127,"li")(128,"a",22),d._uU(129,"REST APIs"),d.qZA()(),d.TgZ(130,"li")(131,"a",23),d._uU(132,"Microservices"),d.qZA()(),d.TgZ(133,"li")(134,"a",24),d._uU(135,"Identity Server"),d.qZA()(),d.TgZ(136,"li")(137,"a",25),d._uU(138,"OAuth"),d.qZA()(),d.TgZ(139,"li")(140,"a",26),d._uU(141,"JWT"),d.qZA()(),d.TgZ(142,"li")(143,"a",27),d._uU(144,"Multithreading"),d.qZA()(),d.TgZ(145,"li")(146,"a",28),d._uU(147,"Performance Optimization"),d.qZA()(),d.TgZ(148,"li")(149,"a",29),d._uU(150,"Component-Based Architecture"),d.qZA()(),d.TgZ(151,"li")(152,"a",30),d._uU(153,"SQL Server"),d.qZA()(),d.TgZ(154,"li")(155,"a",31),d._uU(156,"Entity Framework Core"),d.qZA()(),d.TgZ(157,"li")(158,"a",32),d._uU(159,"Azure CI/CD"),d.qZA()(),d.TgZ(160,"li")(161,"a",33),d._uU(162,"Docker"),d.qZA()(),d.TgZ(163,"li")(164,"a",34),d._uU(165,"Logging"),d.qZA()(),d.TgZ(166,"li")(167,"a",35),d._uU(168,"Monitoring"),d.qZA()(),d.TgZ(169,"li")(170,"a",36),d._uU(171,"SOLID Principles"),d.qZA()(),d.TgZ(172,"li")(173,"a",37),d._uU(174,"Unit Testing"),d.qZA()(),d.TgZ(175,"li")(176,"a",38),d._uU(177,"xUnit"),d.qZA()(),d.TgZ(178,"li")(179,"a",39),d._uU(180,"NUnit"),d.qZA()(),d.TgZ(181,"li")(182,"a",40),d._uU(183,"Moq"),d.qZA()(),d.TgZ(184,"li")(185,"a",41),d._uU(186,"Git"),d.qZA()(),d.TgZ(187,"li")(188,"a",42),d._uU(189,"JIRA"),d.qZA()(),d.TgZ(190,"li")(191,"a",32),d._uU(192,"Azure DevOps"),d.qZA()()()()()()(),d.TgZ(193,"span",43),d._uU(194," \xa0\xa0\xa0</body>"),d._UZ(195,"br"),d._uU(196," </html> "),d.qZA())},styles:["#myCanvasContainer[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;margin-left:48%;margin-top:-6%}"]}),n})(),_w=(()=>{class n{constructor(){}ngOnInit(){Xr(document).ready(function(){Xr(".container").css("opacity","1"),Xr(".blast").each(function(t){var r=Xr(this);setTimeout(function(){r.toggleClass("animated rubberBand",!r.hasClass("animated rubberBand"))},270*t),setTimeout(function(){r.css("opacity","1")},270*t),setTimeout(function(){r.removeClass("animated rubberBand")},500*t)})})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-my"]],decls:60,vars:0,consts:[[1,"tags","top-tags"],["id","page",1,"en","noselect",2,"margin-top","12%"],[1,"container","home-page"],[1,"text-zone"],[1,"blast-root",2,"color","#08fdd8"],[1,"blast"],[1,"blast-root"],[1,"x"],[1,"container"],[1,"cube"],["href","https://github.com/Shubham14agrawal/TimeSheet","target","_blank",1,"wall","front"],["href","https://github.com/Shubham14agrawal/E-Application-MicroService","target","_blank",1,"wall","back"],["href","https://github.com/Shubham14agrawal/BookingSystem","target","_blank",1,"wall","top"],["href","https://github.com/Shubham14agrawal/DataScience","target","_blank",1,"wall","bottom"],["href","https://github.com/Shubham14agrawal/QuizFlutter","target","_blank",1,"wall","left"],["href","https://github.com/Shubham14agrawal/IdentityServer","target","_blank",1,"wall","right"],[1,"tags","bottom-tags"]],template:function(t,r){1&t&&(d.TgZ(0,"span",0),d._uU(1,"<html>"),d._UZ(2,"br"),d._uU(3,"\xa0\xa0\xa0<body>"),d.qZA(),d.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"h2",4)(8,"span",5),d._uU(9," Curious to see what I've built? Give the cube a spin and click on a face to dive into the projects. Each side tells a different story! "),d.qZA()(),d._UZ(10,"br"),d.TgZ(11,"h2",6)(12,"span",5),d._uU(13,"Scalable E-Commerce Application"),d.qZA()(),d.TgZ(14,"p",6)(15,"span",5),d._uU(16,"Developed a real-world, scalable e-commerce platform utilizing microservices architecture and Elasticsearch, capable of efficiently handling millions of users."),d.qZA()(),d.TgZ(17,"h2",6)(18,"span",5),d._uU(19,"Comprehensive Booking System"),d.qZA()(),d.TgZ(20,"p",6)(21,"span",5),d._uU(22,"Engineered a booking application comprising services for booking, inventory, and CSV management, showcasing optimal architecture with gRPC communication and AutoMapper integration."),d.qZA()(),d.TgZ(23,"h2",6)(24,"span",5),d._uU(25,"Identity and Access Management (IAM) System"),d.qZA()(),d.TgZ(26,"p",6)(27,"span",5),d._uU(28,"Implemented a robust security framework for authentication and authorization, ensuring secure access across applications."),d.qZA()(),d.TgZ(29,"h2",6)(30,"span",5),d._uU(31,"Heart Attack Prediction Model"),d.qZA()(),d.TgZ(32,"p",6)(33,"span",5),d._uU(34,"Developed a data science project that predicts heart attack risks based on various health parameters, aiding in proactive healthcare decisions."),d.qZA()(),d.TgZ(35,"h2",6)(36,"span",5),d._uU(37,"Cross-Platform Quiz Application"),d.qZA()(),d.TgZ(38,"p",6)(39,"span",5),d._uU(40,"Created a quiz app using Flutter, demonstrating the framework's capability to deploy seamlessly across Android, iOS, and web platforms."),d.qZA()(),d.TgZ(41,"h2",6)(42,"span",5),d._uU(43,"PWA Timetable Application"),d.qZA()(),d.TgZ(44,"p",6)(45,"span",5),d._uU(46,"Built a Progressive Web App (PWA) using Angular to manage timetables, offering offline access and enhanced user experience."),d.qZA()()(),d.TgZ(47,"div",7)(48,"div",8)(49,"div",9),d._UZ(50,"a",10)(51,"a",11)(52,"a",12)(53,"a",13)(54,"a",14)(55,"a",15),d.qZA()()()()(),d.TgZ(56,"span",16),d._uU(57,"\xa0\xa0\xa0</body>"),d._UZ(58,"br"),d._uU(59,"</html>"),d.qZA())},styles:[".x[_ngcontent-%COMP%]{padding-top:5%;position:relative;margin-left:58%;margin-top:-8%}.x[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{height:400px;width:400px;perspective:1200px}.x[_ngcontent-%COMP%]   .cube[_ngcontent-%COMP%]{position:relative;width:400px;height:400px;transform-style:preserve-3d;animation:_ngcontent-%COMP%_rotate 10s linear infinite}.x[_ngcontent-%COMP%]   .wall[_ngcontent-%COMP%]{position:absolute;height:400px;width:400px;background-size:cover;background-position:center;opacity:.95;cursor:pointer;border:2px solid rgba(255,255,255,.1);-webkit-backface-visibility:visible;backface-visibility:visible}.x[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{background-image:url(1.314a10082fecdfe6.png);transform:rotateY(0) translateZ(200px)}.x[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{background-image:url(2.a34951763057375f.jpeg);transform:rotateY(180deg) translateZ(200px)}.x[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{background-image:url(3.e1b0b3fc79878761.jpg);transform:rotateX(90deg) translateZ(200px)}.x[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{background-image:url(4.03e4067b7c64ecb0.png);transform:rotateX(-90deg) translateZ(200px)}.x[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background-image:url(5.057df53136747dd8.png);transform:rotateY(-90deg) translateZ(200px)}.x[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{background-image:url(6.512d8156b8324fe8.png);transform:rotateY(90deg) translateZ(200px)}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate3d(1,1,0,0)}25%{transform:rotate3d(1,1,0,90deg)}50%{transform:rotate3d(1,1,0,180deg)}75%{transform:rotate3d(1,1,0,270deg)}to{transform:rotate3d(1,1,0,360deg)}}"]}),n})();var gb=X(4986),qr=X(4976);function Ks(){return(0,as.e)((n,e)=>{let t,r=!1;n.subscribe((0,Xi.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function yb(n,e){return n===e}var $t,_u=X(2011),Ew=(X(9568),X(3942)),qe=X(5861),Xu=X(6881),fg=X(4859),Ju=X(1877),vr=X(2090),vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fo={},Gy=Gy||{},zn=vb||self;function pg(){}function gg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function yo(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Wy="closure_uid_"+(1e9*Math.random()>>>0),_b=0;function Iw(n,e,t){return n.call.apply(n.bind,arguments)}function wb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Ls(n,e,t){return(Ls=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Iw:wb).apply(null,arguments)}function mg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function es(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,u){for(var c=Array(arguments.length-2),y=2;y<arguments.length;y++)c[y-2]=arguments[y];return e.prototype[s].apply(r,c)}}function zl(){this.s=this.s,this.o=this.o}zl.prototype.s=!1,zl.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function qy(n){Object.prototype.hasOwnProperty.call(n,Wy)&&n[Wy]||(n[Wy]=++_b)}(this)},zl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lf=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function lh(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Vf(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(gg(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let c=0;c<u;c++)n[s+c]=r[c]}else n.push(r)}}function Ys(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ys.prototype.h=function(){this.defaultPrevented=!0};var Zy=function(){if(!zn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zn.addEventListener("test",pg,e),zn.removeEventListener("test",pg,e)}catch{}return n}();function Ky(n){return/^[\s\xa0]*$/.test(n)}var Yy=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function yg(n,e){return n<e?-1:n>e?1:0}function Uf(){var n=zn.navigator;return n&&(n=n.userAgent)?n:""}function Ua(n){return-1!=Uf().indexOf(n)}function Bf(n){return Bf[" "](n),n}function wu(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Bf[" "]=pg;var _g,n,vg=Ua("Opera"),el=Ua("Trident")||Ua("MSIE"),ch=Ua("Edge"),Qy=ch||el,Xy=Ua("Gecko")&&!(-1!=Uf().toLowerCase().indexOf("webkit")&&!Ua("Edge"))&&!(Ua("Trident")||Ua("MSIE"))&&!Ua("Edge"),Cw=-1!=Uf().toLowerCase().indexOf("webkit")&&!Ua("Edge");function bw(){var n=zn.document;return n?n.documentMode:void 0}e:{var Xc="",Jy=(n=Uf(),Xy?/rv:([^\);]+)(\)|;)/.exec(n):ch?/Edge\/([\d\.]+)/.exec(n):el?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Cw?/WebKit\/(\S+)/.exec(n):vg?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Jy&&(Xc=Jy?Jy[1]:""),el){var Dw=bw();if(null!=Dw&&Dw>parseFloat(Xc)){_g=String(Dw);break e}}_g=Xc}var Ib={},bb=zn.document&&el&&(bw()||parseInt(_g,10))||void 0;function jf(n,e){if(Ys.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Xy){e:{try{Bf(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Db[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jf.$.h.call(this)}}es(jf,Ys);var Db={2:"touch",3:"pen",4:"mouse"};jf.prototype.h=function(){jf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var dh="closure_listenable_"+(1e6*Math.random()|0),tv=0;function Tb(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++tv,this.fa=this.ia=!1}function hh(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function nv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Sw(n){const e={};for(const t in n)e[t]=n[t];return e}const Aw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xw(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<Aw.length;u++)t=Aw[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function wg(n){this.src=n,this.g={},this.h=0}function rv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=Lf(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(hh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function iv(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}wg.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=iv(n,e,r,s);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new Tb(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var Eg="closure_lm_"+(1e6*Math.random()|0),Ig={};function Mw(n,e,t,r,s){if(r&&r.once)return Ab(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Mw(n,e[u],t,r,s);return null}return t=Jc(t),n&&n[dh]?n.O(e,t,yo(r)?!!r.capture:!!r,s):Sb(n,e,t,!1,r,s)}function Sb(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var c=yo(s)?!!s.capture:!!s,y=av(n);if(y||(n[Eg]=y=new wg(n)),(t=y.add(e,t,r,c,u)).proxy)return t;if(r=function Rw(){const e=ov;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Zy||(s=c),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(Ow(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Ab(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Ab(n,e[u],t,r,s);return null}return t=Jc(t),n&&n[dh]?n.P(e,t,yo(r)?!!r.capture:!!r,s):Sb(n,e,t,!0,r,s)}function $f(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)$f(n,e[u],t,r,s);else r=yo(r)?!!r.capture:!!r,t=Jc(t),n&&n[dh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=iv(u=n.g[e],t,r,s))&&(hh(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=av(n))&&(e=n.g[e.toString()],n=-1,e&&(n=iv(e,t,r,s)),(t=-1<n?e[n]:null)&&sv(t))}function sv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[dh])rv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ow(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=av(e))?(rv(t,n),0==t.h&&(t.src=null,e[Eg]=null)):hh(n)}}}function Ow(n){return n in Ig?Ig[n]:Ig[n]="on"+n}function ov(n,e){if(n.fa)n=!0;else{e=new jf(e,this);var t=n.listener,r=n.la||n.src;n.ia&&sv(n),n=t.call(r,e)}return n}function av(n){return(n=n[Eg])instanceof wg?n:null}var la="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jc(n){return"function"==typeof n?n:(n[la]||(n[la]=function(e){return n.handleEvent(e)}),n[la])}function _r(){zl.call(this),this.i=new wg(this),this.S=this,this.J=null}function bi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ys(e,n);else if(e instanceof Ys)e.target=e.target||n;else{var s=e;xw(e=new Ys(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];s=ed(c,r,!0,e)&&s}if(s=ed(c=e.g=n,r,!0,e)&&s,s=ed(c,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=ed(c=e.g=t[u],r,!1,e)&&s}function ed(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.fa&&c.capture==t){var y=c.listener,I=c.la||c.src;c.ia&&rv(n.i,c),s=!1!==y.call(I,r)&&s}}return s&&!r.defaultPrevented}es(_r,zl),_r.prototype[dh]=!0,_r.prototype.removeEventListener=function(n,e,t,r){$f(this,n,e,t,r)},_r.prototype.N=function(){if(_r.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)hh(t[r]);delete n.g[e],n.h--}}this.J=null},_r.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},_r.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var vo=zn.JSON.stringify;function uv(){var n=rd;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Gl,td=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ph,n=>n.reset());class ph{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gh(n){zn.setTimeout(()=>{throw n},0)}function nd(n,e){Gl||function mh(){var n=zn.Promise.resolve(void 0);Gl=function(){n.then(Nw)}}(),ql||(Gl(),ql=!0),rd.add(n,e)}var ql=!1,rd=new class fh{constructor(){this.h=this.g=null}add(e,t){const r=td.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Nw(){for(var n;n=uv();){try{n.h.call(n.g)}catch(t){gh(t)}var e=td;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ql=!1}function Hf(n,e){_r.call(this),this.h=n||1,this.g=e||zn,this.j=Ls(this.qb,this),this.l=Date.now()}function Cg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function bg(n,e,t){if("function"==typeof n)t&&(n=Ls(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ls(n.handleEvent,n)}return 2147483647<Number(e)?-1:zn.setTimeout(n,e||0)}function lv(n){n.g=bg(()=>{n.g=null,n.i&&(n.i=!1,lv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}es(Hf,_r),($t=Hf.prototype).ga=!1,$t.T=null,$t.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bi(this,"tick"),this.ga&&(Cg(this),this.start()))}},$t.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$t.N=function(){Hf.$.N.call(this),Cg(this),delete this.g};class Pw extends zl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lv(this)}N(){super.N(),this.g&&(zn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yh(n){zl.call(this),this.h=n,this.g={}}es(yh,zl);var cv=[];function dv(n,e,t,r){Array.isArray(t)||(t&&(cv[0]=t.toString()),t=cv);for(var s=0;s<t.length;s++){var u=Mw(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function kw(n){nv(n.g,function(e,t){this.g.hasOwnProperty(t)&&sv(e)},n),n.g={}}function Dg(){this.g=!0}function vh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<s.length;c++)s[c]=""}}}return vo(t)}catch{return e}}(n,t)+(r?" "+r:"")})}yh.prototype.N=function(){yh.$.N.call(this),kw(this)},yh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dg.prototype.Ea=function(){this.g=!1},Dg.prototype.info=function(){};var id={},zf=null;function sd(){return zf=zf||new _r}function Tg(n){Ys.call(this,id.Ta,n)}function Gf(n){const e=sd();bi(e,new Tg(e))}function Sg(n,e){Ys.call(this,id.STAT_EVENT,n),this.stat=e}function As(n){const e=sd();bi(e,new Sg(e,n))}function pv(n,e){Ys.call(this,id.Ua,n),this.size=e}function qf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zn.setTimeout(function(){n()},e)}id.Ta="serverreachability",es(Tg,Ys),id.STAT_EVENT="statevent",es(Sg,Ys),id.Ua="timingevent",es(pv,Ys);var _h={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ag(){}function mv(){}Ag.prototype.h=null;var Og,Wf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mg(){Ys.call(this,"d")}function Rg(){Ys.call(this,"c")}function Ng(){}function Zf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new yh(this),this.P=Rb,this.V=new Hf(n=Qy?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Fw}function Fw(){this.i=null,this.g="",this.h=!1}es(Mg,Ys),es(Rg,Ys),es(Ng,Ag),Ng.prototype.g=function(){return new XMLHttpRequest},Ng.prototype.i=function(){return{}},Og=new Ng;var Rb=45e3,Pg={},wh={};function kg(n,e,t){n.L=1,n.v=Vg(Kl(e)),n.s=t,n.S=!0,yv(n,null)}function yv(n,e){n.G=Date.now(),Eh(n),n.A=Kl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),zw(t.i,"t",r),n.C=0,t=n.l.I,n.h=new Fw,n.g=Fv(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Pw(Ls(n.Pa,n,n.g),n.O)),dv(n.U,n.g,"readystatechange",n.nb),e=n.I?Sw(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Gf(),function xb(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var c="",y=u.split("&"),I=0;I<y.length;I++){var O=y[I].split("=");if(1<O.length){var V=O[0];O=O[1];var Q=V.split("_");c=2<=Q.length&&"type"==Q[1]?c+(V+"=")+O+"&":c+(V+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function vv(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function _v(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=Lw(n,t),s==wh){4==e&&(n.o=4,As(14),r=!1),vh(n.j,n.m,null,"[Incomplete Response]");break}if(s==Pg){n.o=4,As(15),vh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}vh(n.j,n.m,s,null),Ev(n,s)}vv(n)&&s!=wh&&s!=Pg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,As(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Pv(e),e.L=!0,As(11))):(vh(n.j,n.m,t,"[Invalid Chunked Response]"),_o(n),Wl(n))}function Lw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?wh:(t=Number(e.substring(t,r)),isNaN(t)?Pg:(r+=1)+t>e.length?wh:(e=e.substr(r,t),n.C=r+t,e))}function Eh(n){n.Y=Date.now()+n.P,wv(n,n.P)}function wv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=qf(Ls(n.lb,n),e)}function Kf(n){n.B&&(zn.clearTimeout(n.B),n.B=null)}function Wl(n){0==n.l.H||n.J||rE(n.l,n)}function _o(n){Kf(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Cg(n.V),kw(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function Ev(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||ca(t.h,n)))if(!n.K&&ca(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Wg(t),Gg(t)}Nv(t),As(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.M&&0==t.A&&!t.v&&(t.v=qf(Ls(t.ib,t),6e3));if(1>=Ww(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else ud(t,11)}else if((n.K||t.g==n)&&Wg(t),!Ky(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let O=s[e];if(t.V=O[0],O=O[1],2==t.H)if("c"==O[0]){t.J=O[1],t.oa=O[2];const V=O[3];null!=V&&(t.qa=V,t.j.info("VER="+t.qa));const Q=O[4];null!=Q&&(t.Ga=Q,t.j.info("SVER="+t.Ga));const le=O[5];null!=le&&"number"==typeof le&&0<le&&(t.K=r=1.5*le,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const we=n.g;if(we){const Ze=we.g?we.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ze){var u=r.h;u.g||-1==Ze.indexOf("spdy")&&-1==Ze.indexOf("quic")&&-1==Ze.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Lo(u,u.h),u.h=null))}if(r.F){const ht=we.g?we.g.getResponseHeader("X-HTTP-Session-Id"):null;ht&&(r.Da=ht,ii(r.G,r.F,ht))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=kv(r,r.I?r.oa:null,r.Y),c.K){da(r.h,c);var y=c,I=r.K;I&&y.setTimeout(I),y.B&&(Kf(y),Eh(y)),r.g=c}else tE(r);0<t.i.length&&qg(t)}else"stop"!=O[0]&&"close"!=O[0]||ud(t,7);else 3==t.H&&("stop"==O[0]||"close"==O[0]?"stop"==O[0]?ud(t,7):Ov(t):"noop"!=O[0]&&t.l&&t.l.Aa(O),t.A=0)}Gf()}catch{}}function Zl(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(gg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Iv(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(gg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Ob(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(gg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}($t=Zf.prototype).setTimeout=function(n){this.P=n},$t.nb=function(n){n=n.target;const e=this.M;e&&3==Cu(n)?e.l():this.Pa(n)},$t.Pa=function(n){try{if(n==this.g)e:{const V=Cu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>V)&&(3!=V||Qy||this.g&&(this.h.h||this.g.ja()||Mv(this.g)))){this.J||4!=V||7==e||Gf(),Kf(this);var t=this.g.da();this.aa=t;t:if(vv(this)){var r=Mv(this.g);n="";var s=r.length,u=4==Cu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_o(this),Wl(this);var c="";break t}this.h.i=new zn.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function Mb(n,e,t,r,s,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.W,V,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var y,I=this.g;if((y=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ky(y)){var O=y;break t}}O=null}if(!(t=O)){this.i=!1,this.o=3,As(12),_o(this),Wl(this);break e}vh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ev(this,t)}this.S?(_v(this,V,c),Qy&&this.i&&3==V&&(dv(this.U,this.V,"tick",this.mb),this.V.start())):(vh(this.j,this.m,c,null),Ev(this,c)),4==V&&_o(this),this.i&&!this.J&&(4==V?rE(this.l,this):(this.i=!1,Eh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,As(12)):(this.o=0,As(13)),_o(this),Wl(this)}}}catch{}},$t.mb=function(){if(this.g){var n=Cu(this.g),e=this.g.ja();this.C<e.length&&(Kf(this),_v(this,n,e),this.i&&4!=n&&Eh(this))}},$t.cancel=function(){this.J=!0,_o(this)},$t.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Gf(),As(17)),_o(this),this.o=2,Wl(this)):wv(this,this.Y-n)};var Fg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tl){this.h=void 0!==e?e:n.h,Cv(this,n.j),this.s=n.s,this.g=n.g,Lg(this,n.m),this.l=n.l,e=n.i;var t=new Eu;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Vw(this,t),this.o=n.o}else n&&(t=String(n).match(Fg))?(this.h=!!e,Cv(this,t[1]||"",!0),this.s=Di(t[2]||""),this.g=Di(t[3]||"",!0),Lg(this,t[4]),this.l=Di(t[5]||"",!0),Vw(this,t[6]||"",!0),this.o=Di(t[7]||"")):(this.h=!!e,this.i=new Eu(null,this.h))}function Kl(n){return new tl(n)}function Cv(n,e,t){n.j=t?Di(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Lg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Vw(n,e,t){e instanceof Eu?(n.i=e,function RA(n,e){e&&!n.j&&(Yl(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(Hw(this,r),zw(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ih(e,jw)),n.i=new Eu(e,n.h))}function ii(n,e,t){n.i.set(e,t)}function Vg(n){return ii(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Di(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ih(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Pb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Pb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ih(e,Uw,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ih(e,Uw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ih(t,"/"==t.charAt(0)?kb:Bw,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ih(t,$w)),n.join("")};var Uw=/[#\/\?@]/g,Bw=/[#\?:]/g,kb=/[#\?]/g,jw=/[#\?@]/g,$w=/#/g;function Eu(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Yl(n){n.g||(n.g=new Map,n.h=0,n.i&&function Nb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Hw(n,e){Yl(n),e=od(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function bv(n,e){return Yl(n),e=od(n,e),n.g.has(e)}function zw(n,e,t){Hw(n,e),0<t.length&&(n.i=null,n.g.set(od(n,e),lh(t)),n.h+=t.length)}function od(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Ug(n){this.l=n||Iu,n=zn.PerformanceNavigationTiming?0<(n=zn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zn.g&&zn.g.Ka&&zn.g.Ka()&&zn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($t=Eu.prototype).add=function(n,e){Yl(this),this.i=null,n=od(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$t.forEach=function(n,e){Yl(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},$t.sa=function(){Yl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},$t.Z=function(n){Yl(this);let e=[];if("string"==typeof n)bv(this,n)&&(e=e.concat(this.g.get(od(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},$t.set=function(n,e){return Yl(this),this.i=null,bv(this,n=od(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$t.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},$t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var s=u;""!==c[r]&&(s+="="+encodeURIComponent(String(c[r]))),n.push(s)}}return this.i=n.join("&")};var Iu=10;function qw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ww(n){return n.h?1:n.g?n.g.size:0}function ca(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Lo(n,e){n.g?n.g.add(e):n.h=e}function da(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Dv(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return lh(n.i)}function Bg(){}function Fb(){this.g=new Bg}function Lb(n,e,t){const r=t||"";try{Zl(n,function(s,u){let c=s;yo(s)&&(c=vo(s)),e.push(r+u+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function jg(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function ad(n){this.l=n.fc||null,this.j=n.ob||!1}function Ql(n,e){_r.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Tv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ug.prototype.cancel=function(){if(this.i=Dv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Bg.prototype.stringify=function(n){return zn.JSON.stringify(n,void 0)},Bg.prototype.parse=function(n){return zn.JSON.parse(n,void 0)},es(ad,Ag),ad.prototype.g=function(){return new Ql(this.l,this.j)},ad.prototype.i=function(n){return function(){return n}}({}),es(Ql,_r);var Tv=0;function Sv(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Yf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Qf(n)}function Qf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($t=Ql.prototype).open=function(n,e){if(this.readyState!=Tv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Qf(this)},$t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||zn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yf(this)),this.readyState=Tv},$t.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Qf(this)),this.g&&(this.readyState=3,Qf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof zn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sv(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},$t.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Yf(this):Qf(this),3==this.readyState&&Sv(this)}},$t.Za=function(n){this.g&&(this.response=this.responseText=n,Yf(this))},$t.Ya=function(n){this.g&&(this.response=n,Yf(this))},$t.ka=function(){this.g&&Yf(this)},$t.setRequestHeader=function(n,e){this.v.append(n,e)},$t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Zw=zn.JSON.parse;function Ti(n){_r.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xf,this.L=this.M=!1}es(Ti,_r);var Xf="",Ub=/^https?$/i,Kw=["POST","PUT"];function $g(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Hg(n),Jf(n)}function Hg(n){n.F||(n.F=!0,bi(n,"complete"),bi(n,"error"))}function Av(n){if(n.h&&typeof Gy<"u"&&(!n.C[1]||4!=Cu(n)||2!=n.da()))if(n.v&&4==Cu(n))bg(n.La,0,n);else if(bi(n,"readystatechange"),4==Cu(n)){n.h=!1;try{const y=n.da();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===y){var s=String(n.I).match(Fg)[1]||null;if(!s&&zn.self&&zn.self.location){var u=zn.self.location.protocol;s=u.substr(0,u.length-1)}r=!Ub.test(s?s.toLowerCase():"")}t=r}if(t)bi(n,"complete"),bi(n,"success");else{n.m=6;try{var c=2<Cu(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",Hg(n)}}finally{Jf(n)}}}function Jf(n,e){if(n.g){xv(n);const t=n.g,r=n.C[0]?pg:null;n.g=null,n.C=null,e||bi(n,"ready");try{t.onreadystatechange=r}catch{}}}function xv(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(zn.clearTimeout(n.A),n.A=null)}function Cu(n){return n.g?n.g.readyState:0}function Mv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Xf:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Rv(n){let e="";return nv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function zg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Rv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ii(n,e,t))}function Ch(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Qw(n){this.Ga=0,this.i=[],this.j=new Dg,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ch("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ch("baseRetryDelayMs",5e3,n),this.hb=Ch("retryDelaySeedMs",1e4,n),this.eb=Ch("forwardChannelMaxRetries",2,n),this.xa=Ch("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new Ug(n&&n.concurrentRequestLimit),this.Ja=new Fb,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Ov(n){if(Xw(n),3==n.H){var e=n.W++,t=Kl(n.G);ii(t,"SID",n.J),ii(t,"RID",e),ii(t,"TYPE","terminate"),ep(n,t),(e=new Zf(n,n.j,e,void 0)).L=2,e.v=Vg(Kl(t)),t=!1,zn.navigator&&zn.navigator.sendBeacon&&(t=zn.navigator.sendBeacon(e.v.toString(),"")),!t&&zn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Fv(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Eh(e)}sE(n)}function Gg(n){n.g&&(Pv(n),n.g.cancel(),n.g=null)}function Xw(n){Gg(n),n.u&&(zn.clearTimeout(n.u),n.u=null),Wg(n),n.h.cancel(),n.m&&("number"==typeof n.m&&zn.clearTimeout(n.m),n.m=null)}function qg(n){qw(n.h)||n.m||(n.m=!0,nd(n.Na,n),n.C=0)}function Jw(n,e){var t;t=e?e.m:n.W++;const r=Kl(n.G);ii(r,"SID",n.J),ii(r,"RID",t),ii(r,"AID",n.V),ep(n,r),n.o&&n.s&&zg(r,n.o,n.s),t=new Zf(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=eE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Lo(n.h,t),kg(t,r,e)}function ep(n,e){n.ma&&nv(n.ma,function(t,r){ii(e,r,t)}),n.l&&Zl({},function(t,r){ii(e,r,t)})}function eE(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Ls(n.l.Va,n.l,n):null;e:{var s=n.i;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=s[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let y=!0;for(let I=0;I<t;I++){let O=s[I].h;const V=s[I].g;if(O-=u,0>O)u=Math.max(0,s[I].h-100),y=!1;else try{Lb(V,c,"req"+O+"_")}catch{r&&r(V)}}if(y){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function tE(n){n.g||n.u||(n.ba=1,nd(n.Ma,n),n.A=0)}function Nv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=qf(Ls(n.Ma,n),iE(n,n.A)),n.A++,0))}function Pv(n){null!=n.B&&(zn.clearTimeout(n.B),n.B=null)}function nE(n){n.g=new Zf(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Kl(n.wa);ii(e,"RID","rpc"),ii(e,"SID",n.J),ii(e,"CI",n.M?"0":"1"),ii(e,"AID",n.V),ii(e,"TYPE","xmlhttp"),ep(n,e),n.o&&n.s&&zg(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=Vg(Kl(e)),t.s=null,t.S=!0,yv(t,n)}function Wg(n){null!=n.v&&(zn.clearTimeout(n.v),n.v=null)}function rE(n,e){var t=null;if(n.g==e){Wg(n),Pv(n),n.g=null;var r=2}else{if(!ca(n.h,e))return;t=e.F,da(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;bi(r=sd(),new pv(r,t)),qg(n)}else tE(n);else if(3==(s=e.o)||0==s&&0<n.ta||!(1==r&&function Bb(n,e){return!(Ww(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=qf(Ls(n.Na,n,e),iE(n,n.C)),n.C++,0)))}(n,e)||2==r&&Nv(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),s){case 1:ud(n,5);break;case 4:ud(n,10);break;case 3:ud(n,6);break;default:ud(n,2)}}function iE(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function ud(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Ls(n.pb,n);t||(t=new tl("//www.google.com/images/cleardot.gif"),zn.location&&"http"==zn.location.protocol||Cv(t,"https"),Vg(t)),function Vb(n,e){const t=new Dg;if(zn.Image){const r=new Image;r.onload=mg(jg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mg(jg,t,r,"TestLoadImage: error",!1,e),r.onabort=mg(jg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mg(jg,t,r,"TestLoadImage: timeout",!1,e),zn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else As(2);n.H=0,n.l&&n.l.za(e),sE(n),Xw(n)}function sE(n){if(n.H=0,n.pa=[],n.l){const e=Dv(n.h);(0!=e.length||0!=n.i.length)&&(Vf(n.pa,e),Vf(n.pa,n.i),n.h.i.length=0,lh(n.i),n.i.length=0),n.l.ya()}}function kv(n,e,t){var r=t instanceof tl?Kl(t):new tl(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Lg(r,r.m);else{var s=zn.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new tl(null,void 0);r&&Cv(u,r),e&&(u.g=e),s&&Lg(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&ii(r,t,e),ii(r,"VER",n.qa),ep(n,r),r}function Fv(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ti(t&&n.Ha&&!n.va?new ad({ob:!0}):n.va)).Oa(n.I),e}function Lv(){}function tp(){if(el&&!(10<=Number(bb)))throw Error("Environmental error: no available transport.")}function wo(n,e){_r.call(this),this.g=new Qw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ky(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ky(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ld(this)}function Vv(n){Mg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Uv(){Rg.call(this),this.status=1}function ld(n){this.g=n}function ha(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Zg(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],c=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;c=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(c<<7&4294967295|c>>>25))+((c=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((u=(e=t+((c=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((s=u+((c=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function dr(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}($t=Ti.prototype).Oa=function(n){this.M=n},$t.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Og.g(),this.C=function xg(n){return n.h||(n.h=n.i())}(this.u?this.u:Og),this.g.onreadystatechange=Ls(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void $g(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=zn.FormData&&n instanceof zn.FormData,!(0<=Lf(Kw,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xv(this),0<this.B&&((this.L=function Yw(n){return el&&function Cb(){return wu(Ib,9,function(){let n=0;const e=Yy(String(_g)).split("."),t=Yy("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var s=e[c]||"",u=t[c]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=yg(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||yg(0==s[2].length,0==u[2].length)||yg(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ls(this.ua,this)):this.A=bg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){$g(this,u)}},$t.ua=function(){typeof Gy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bi(this,"timeout"),this.abort(8))},$t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,bi(this,"complete"),bi(this,"abort"),Jf(this))},$t.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jf(this,!0)),Ti.$.N.call(this)},$t.La=function(){this.s||(this.G||this.v||this.l?Av(this):this.kb())},$t.kb=function(){Av(this)},$t.da=function(){try{return 2<Cu(this)?this.g.status:-1}catch{return-1}},$t.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$t.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Zw(e)}},$t.Ia=function(){return this.m},$t.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($t=Qw.prototype).qa=8,$t.H=1,$t.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Zf(this,this.j,n,void 0);let u=this.s;if(this.U&&(u?(u=Sw(u),xw(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eE(this,s,e),ii(t=Kl(this.G),"RID",n),ii(t,"CVER",22),this.F&&ii(t,"X-HTTP-Session-Id",this.F),ep(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(Rv(u)))+"&"+e:this.o&&zg(t,this.o,u)),Lo(this.h,s),this.bb&&ii(t,"TYPE","init"),this.P?(ii(t,"$req",e),ii(t,"SID","null"),s.ba=!0,kg(s,t,null)):kg(s,t,e),this.H=2}}else 3==this.H&&(n?Jw(this,n):0==this.i.length||qw(this.h)||Jw(this))},$t.Ma=function(){if(this.u=null,nE(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=qf(Ls(this.jb,this),n)}},$t.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,As(10),Gg(this),nE(this))},$t.ib=function(){null!=this.v&&(this.v=null,Gg(this),Nv(this),As(19))},$t.pb=function(n){n?(this.j.info("Successfully pinged google.com"),As(2)):(this.j.info("Failed to ping google.com"),As(1))},($t=Lv.prototype).Ba=function(){},$t.Aa=function(){},$t.za=function(){},$t.ya=function(){},$t.Va=function(){},tp.prototype.g=function(n,e){return new wo(n,e)},es(wo,_r),wo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;As(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=kv(n,null,n.Y),qg(n)},wo.prototype.close=function(){Ov(this.g)},wo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=vo(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&qg(e)},wo.prototype.N=function(){this.g.l=null,delete this.j,Ov(this.g),delete this.g,wo.$.N.call(this)},es(Vv,Mg),es(Uv,Rg),es(ld,Lv),ld.prototype.Ba=function(){bi(this.g,"a")},ld.prototype.Aa=function(n){bi(this.g,new Vv(n))},ld.prototype.za=function(n){bi(this.g,new Uv)},ld.prototype.ya=function(){bi(this.g,"b")},es(ha,function oE(){this.blockSize=-1}),ha.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ha.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)Zg(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){Zg(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){Zg(this,r),s=0;break}}this.h=s,this.i+=e},ha.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var jb={};function Bv(n){return-128<=n&&128>n?wu(jb,n,function(e){return new dr([0|e],0>e?-1:0)}):new dr([0|n],0>n?-1:0)}function Qs(n){if(isNaN(n)||!isFinite(n))return rp;if(0>n)return xs(Qs(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=np;return new dr(e,0)}var np=4294967296,rp=Bv(0),Kg=Bv(1),jv=Bv(16777216);function Xl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function rn(n){return-1==n.h}function xs(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new dr(t,~n.h).add(Kg)}function Yg(n,e){return n.add(xs(e))}function Qg(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function bu(n,e){this.g=n,this.h=e}function Xg(n,e){if(Xl(e))throw Error("division by zero");if(Xl(n))return new bu(rp,rp);if(rn(n))return e=Xg(xs(n),e),new bu(xs(e.g),xs(e.h));if(rn(e))return e=Xg(n,xs(e)),new bu(xs(e.g),e.h);if(30<n.g.length){if(rn(n)||rn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Kg,r=e;0>=r.X(n);)t=ip(t),r=ip(r);var s=nl(t,1),u=nl(r,1);for(r=nl(r,2),t=nl(t,2);!Xl(r);){var c=u.add(r);0>=c.X(n)&&(s=s.add(t),u=c),r=nl(r,1),t=nl(t,1)}return e=Yg(n,s.R(e)),new bu(s,e)}for(s=rp;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(u=Qs(t)).R(e);rn(c)||0<c.X(n);)c=(u=Qs(t-=r)).R(e);Xl(u)&&(u=Kg),s=s.add(u),n=Yg(n,c)}return new bu(s,n)}function ip(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new dr(t,n.h)}function nl(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new dr(s,n.h)}($t=dr.prototype).ea=function(){if(rn(this))return-xs(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:np+r)*e,e*=np}return n},$t.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Xl(this))return"0";if(rn(this))return"-"+xs(this).toString(n);for(var e=Qs(Math.pow(n,6)),t=this,r="";;){var s=Xg(t,e).g,u=((0<(t=Yg(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Xl(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},$t.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},$t.X=function(n){return rn(n=Yg(this,n))?-1:Xl(n)?0:1},$t.abs=function(){return rn(this)?xs(this):this},$t.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),c=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=c>>>16,t[s]=(c&=65535)<<16|(u&=65535)}return new dr(t,-2147483648&t[t.length-1]?-1:0)},$t.R=function(n){if(Xl(this)||Xl(n))return rp;if(rn(this))return rn(n)?xs(this).R(xs(n)):xs(xs(this).R(n));if(rn(n))return xs(this.R(xs(n)));if(0>this.X(jv)&&0>n.X(jv))return Qs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,c=65535&this.D(r),y=n.D(s)>>>16,I=65535&n.D(s);t[2*r+2*s]+=c*I,Qg(t,2*r+2*s),t[2*r+2*s+1]+=u*I,Qg(t,2*r+2*s+1),t[2*r+2*s+1]+=c*y,Qg(t,2*r+2*s+1),t[2*r+2*s+2]+=u*y,Qg(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new dr(t,0)},$t.gb=function(n){return Xg(this,n).h},$t.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new dr(t,this.h&n.h)},$t.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new dr(t,this.h|n.h)},$t.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new dr(t,this.h^n.h)},tp.prototype.createWebChannel=tp.prototype.g,wo.prototype.send=wo.prototype.u,wo.prototype.open=wo.prototype.m,wo.prototype.close=wo.prototype.close,_h.NO_ERROR=0,_h.TIMEOUT=8,_h.HTTP_ERROR=6,gv.COMPLETE="complete",mv.EventType=Wf,Wf.OPEN="a",Wf.CLOSE="b",Wf.ERROR="c",Wf.MESSAGE="d",_r.prototype.listen=_r.prototype.O,Ti.prototype.listenOnce=Ti.prototype.P,Ti.prototype.getLastError=Ti.prototype.Sa,Ti.prototype.getLastErrorCode=Ti.prototype.Ia,Ti.prototype.getStatus=Ti.prototype.da,Ti.prototype.getResponseJson=Ti.prototype.Wa,Ti.prototype.getResponseText=Ti.prototype.ja,Ti.prototype.send=Ti.prototype.ha,Ti.prototype.setWithCredentials=Ti.prototype.Oa,ha.prototype.digest=ha.prototype.l,ha.prototype.reset=ha.prototype.reset,ha.prototype.update=ha.prototype.j,dr.prototype.add=dr.prototype.add,dr.prototype.multiply=dr.prototype.R,dr.prototype.modulo=dr.prototype.gb,dr.prototype.compare=dr.prototype.X,dr.prototype.toNumber=dr.prototype.ea,dr.prototype.toString=dr.prototype.toString,dr.prototype.getBits=dr.prototype.D,dr.fromNumber=Qs,dr.fromString=function $b(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return xs($b(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Qs(Math.pow(e,8)),r=rp,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),c=parseInt(n.substring(s,s+u),e);8>u?(u=Qs(Math.pow(e,u)),r=r.R(u).add(Qs(c))):r=(r=r.R(t)).add(Qs(c))}return r};var Ui=Fo.createWebChannelTransport=function(){return new tp},OA=Fo.getStatEventTarget=function(){return sd()},Jg=Fo.ErrorCode=_h,aE=Fo.EventType=gv,Hb=Fo.Event=id,$v=Fo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uE=Fo.FetchXmlHttpFactory=ad,sp=Fo.WebChannel=mv,lE=Fo.XhrIo=Ti,zb=Fo.Md5=ha,bh=Fo.Integer=dr;const cE="@firebase/firestore";class Bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bi.UNAUTHENTICATED=new Bi(null),Bi.GOOGLE_CREDENTIALS=new Bi("google-credentials-uid"),Bi.FIRST_PARTY=new Bi("first-party-uid"),Bi.MOCK_USER=new Bi("mock-user");let Dh="9.21.0";const Jl=new Ju.Yd("@firebase/firestore");function Hv(){return Jl.logLevel}function pt(n,...e){if(Jl.logLevel<=Ju.in.DEBUG){const t=e.map(zv);Jl.debug(`Firestore (${Dh}): ${n}`,...t)}}function ji(n,...e){if(Jl.logLevel<=Ju.in.ERROR){const t=e.map(zv);Jl.error(`Firestore (${Dh}): ${n}`,...t)}}function Vo(n,...e){if(Jl.logLevel<=Ju.in.WARN){const t=e.map(zv);Jl.warn(`Firestore (${Dh}): ${n}`,...t)}}function zv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function jt(n="Unexpected state"){const e=`FIRESTORE (${Dh}) INTERNAL ASSERTION FAILED: `+n;throw ji(e),new Error(e)}function tn(n,e){n||jt()}function Lt(n,e){return n}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends vr.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Gv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bi.UNAUTHENTICATED))}shutdown(){}}class dE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wb{constructor(e){this.t=e,this.currentUser=Bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=O=>this.i!==s?(s=this.i,t(O)):Promise.resolve();let c=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ts,e.enqueueRetryable(()=>u(this.currentUser))};const y=()=>{const O=c;e.enqueueRetryable((0,qe.Z)(function*(){yield O.promise,yield u(r.currentUser)}))},I=O=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=O,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(O=>I(O)),setTimeout(()=>{if(!this.auth){const O=this.t.getImmediate({optional:!0});O?I(O):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ts)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tn("string"==typeof r.accessToken),new Gv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tn(null===e||"string"==typeof e),new Bi(e)}}class Zb{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Bi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class NA{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Zb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PA{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.T;return this.T=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?s(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tn("string"==typeof t.token),this.T=t.token,new Kb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hE(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class op{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=hE(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Hn(n,e){return n<e?-1:n>e?1:0}function Th(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function qv(n){return n+"\0"}class jr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new lt(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new lt(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new lt(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new jr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Hn(this.nanoseconds,e.nanoseconds):Hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class hn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new hn(e)}static min(){return new hn(new jr(0,0))}static max(){return new hn(new jr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ap{constructor(e,t,r){void 0===t?t=0:t>e.length&&jt(),void 0===r?r=e.length-t:r>e.length-t&&jt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ap.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ap?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),c=t.get(s);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pr extends ap{construct(e,t,r){return new pr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new pr(t)}static emptyPath(){return new pr([])}}const Yb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wi extends ap{construct(e,t,r){return new Wi(e,t,r)}static isValidIdentifier(e){return Yb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wi(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new lt(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const y=e[s];if("\\"===y){if(s+1===e.length)throw new lt(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[s+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new lt(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=I,s+=2}else"`"===y?(c=!c,s++):"."!==y||c?(r+=y,s++):(u(),s++)}if(u(),c)throw new lt(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wi(t)}static emptyPath(){return new Wi([])}}class kt{constructor(e){this.path=e}static fromPath(e){return new kt(pr.fromString(e))}static fromName(e){return new kt(pr.fromString(e).popFirst(5))}static empty(){return new kt(pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new pr(e.slice()))}}class up{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function Wv(n){return n.fields.find(e=>2===e.kind)}function cd(n){return n.fields.filter(e=>2!==e.kind)}up.UNKNOWN_ID=-1;class tm{constructor(e,t){this.fieldPath=e,this.kind=t}}class cp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cp(0,Eo.min())}}function Zv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=hn.fromTimestamp(1e9===r?new jr(t+1,0):new jr(t,r));return new Eo(s,kt.empty(),e)}function pE(n){return new Eo(n.readTime,n.key,-1)}class Eo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Eo(hn.min(),kt.empty(),-1)}static max(){return new Eo(hn.max(),kt.empty(),-1)}}function Kv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=kt.comparator(n.documentKey,e.documentKey),0!==t?t:Hn(n.largestBatchId,e.largestBatchId))}const nm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function rl(n){return rm.apply(this,arguments)}function rm(){return rm=(0,qe.Z)(function*(n){if(n.code!==Pe.FAILED_PRECONDITION||n.message!==nm)throw n;pt("LocalStore","Unexpectedly lost primary lease")}),rm.apply(this,arguments)}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.reject(t)}static resolve(e){return new Te((t,r)=>{t(e)})}static reject(e){return new Te((t,r)=>{r(e)})}static waitFor(e){return new Te((t,r)=>{let s=0,u=0,c=!1;e.forEach(y=>{++s,y.next(()=>{++u,c&&u===s&&t()},I=>r(I))}),c=!0,u===s&&t()})}static or(e){let t=Te.resolve(!1);for(const r of e)t=t.next(s=>s?Te.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new Te((r,s)=>{const u=e.length,c=new Array(u);let y=0;for(let I=0;I<u;I++){const O=I;t(e[O]).next(V=>{c[O]=V,++y,y===u&&r(c)},V=>s(V))}})}static doWhile(e,t){return new Te((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}class im{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new ts,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new dp(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const s=Qv(r.target.error);this.R.reject(new dp(e,s))}}static open(e,t,r,s){try{return new im(t,e.transaction(s,r))}catch(u){throw new dp(t,u)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(pt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Qb(t)}}class Ba{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Ba.S((0,vr.z$)())&&ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return pt("SimpleDb","Removing database:",e),dd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,vr.hl)())return!1;if(Ba.C())return!0;const e=(0,vr.z$)(),t=Ba.S(e),r=0<t&&t<10,s=Ba.N(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,qe.Z)(function*(){return t.db||(pt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{s(new dp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const y=c.target.error;s("VersionError"===y.name?new lt(Pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new lt(Pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new dp(e,y))},u.onupgradeneeded=c=>{pt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.$(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{pt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,qe.Z)(function*(){const c="readonly"===t;let y=0;for(;;){++y;try{u.db=yield u.O(e);const I=im.open(u.db,e,c?"readonly":"readwrite",r),O=s(I).next(V=>(I.P(),V)).catch(V=>(I.abort(V),Te.reject(V))).toPromise();return O.catch(()=>{}),yield I.v,O}catch(I){const O=I,V="FirebaseError"!==O.name&&y<3;if(pt("SimpleDb","Transaction failed with error:",O.message,"Retrying:",V),u.close(),!V)return Promise.reject(O)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Yv{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return dd(this.L.delete())}}class dp extends lt{constructor(e,t){super(Pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function il(n){return"IndexedDbTransactionError"===n.name}class Qb{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(pt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(pt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),dd(r)}add(e){return pt("SimpleDb","ADD",this.store.name,e,e),dd(this.store.add(e))}get(e){return dd(this.store.get(e)).next(t=>(void 0===t&&(t=null),pt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return pt("SimpleDb","DELETE",this.store.name,e),dd(this.store.delete(e))}count(){return pt("SimpleDb","COUNT",this.store.name),dd(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.W(s,(c,y)=>{u.push(y)}).next(()=>u)}{const s=this.store.getAll(r.range);return new Te((u,c)=>{s.onerror=y=>{c(y.target.error)},s.onsuccess=y=>{u(y.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Te((s,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{s(c.target.result)}})}J(e,t){pt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const s=this.cursor(r);return this.W(s,(u,c,y)=>y.delete())}X(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.W(s,t)}Z(e){const t=this.cursor({});return new Te((r,s)=>{t.onerror=u=>{const c=Qv(u.target.error);s(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(y=>{y?c.continue():r()}):r()}})}W(e,t){const r=[];return new Te((s,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const y=c.target.result;if(!y)return void s();const I=new Yv(y),O=t(y.primaryKey,y.value,I);if(O instanceof Te){const V=O.catch(Q=>(I.done(),Te.reject(Q)));r.push(V)}I.isDone?s():null===I.K?y.continue():y.continue(I.K)}}).next(()=>Te.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function dd(n){return new Te((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=Qv(r.target.error);t(s)}})}let mE=!1;function Qv(n){const e=Ba.S((0,vr.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mE||(mE=!0,setTimeout(()=>{throw r},0)),r}}return n}class Xb{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;pt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,qe.Z)(function*(){t.task=null;try{pt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){il(r)?pt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield rl(r)}yield t.et(6e4)}))}}class Jb{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,qe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let s=t,u=!0;return Te.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return pt("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,s).next(y=>{s-=y,r.add(c)});u=!1})).next(()=>t-s)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(s,u)).next(y=>(pt("IndexBackiller",`Updating offset: ${y}`),this.localStore.indexManager.updateCollectionGroup(e,t,y))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((s,u)=>{const c=pE(u);Kv(c,r)>0&&(r=c)}),new Eo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Uo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function hp(n){return null==n}function Sh(n){return 0===n&&1/n==-1/0}function Xv(n){return"number"==typeof n&&Number.isInteger(n)&&!Sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Vs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Jv(e)),e=eD(n.get(t),e);return Jv(e)}function eD(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Jv(n){return n+"\x01\x01"}function Du(n){const e=n.length;if(tn(e>=2),2===e)return tn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pr.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&jt(),n.charAt(c+1)){case"\x01":const y=n.substring(u,c);let I;0===s.length?I=y:(s+=y,I=s,s=""),r.push(I);break;case"\x10":s+=n.substring(u,c),s+="\0";break;case"\x11":s+=n.substring(u,c+1);break;default:jt()}u=c+2}return new pr(r)}const yE=["userId","batchId"];function sm(n,e){return[n,Vs(e)]}function om(n,e,t){return[n,Vs(e),t]}const e_={},vE=["prefixPath","collectionGroup","readTime","documentId"],t_=["prefixPath","collectionGroup","documentId"],tD=["collectionGroup","readTime","prefixPath","documentId"],nD=["canonicalId","targetId"],n_=["targetId","path"],rD=["path","targetId"],_E=["collectionId","parent"],Ah=["indexId","uid"],wE=["uid","sequenceNumber"],iD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kA=["indexId","uid","orderedDocumentKey"],EE=["userId","collectionPath","documentId"],r_=["userId","collectionPath","largestBatchId"],sD=["userId","collectionGroup","largestBatchId"],am=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oD=[...am,"documentOverlays"],i_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],um=i_,IE=[...um,"indexConfiguration","indexState","indexEntries"];class lm extends gE{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function us(n,e){const t=Lt(n);return Ba.M(t.at,e)}function s_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ec(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Jr{constructor(e,t){this.comparator=e,this.root=t||ys.EMPTY}insert(e,t){return new Jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ys.BLACK,null,null))}remove(e){return new Jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ys.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cm(this.root,e,this.comparator,!0)}}class cm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ys{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??ys.RED,this.left=s??ys.EMPTY,this.right=u??ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new ys(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return ys.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw jt();const e=this.left.check();if(e!==this.right.check())throw jt();return e+(this.isRed()?0:1)}}ys.EMPTY=null,ys.RED=!0,ys.BLACK=!1,ys.EMPTY=new class{constructor(){this.size=0}get key(){throw jt()}get value(){throw jt()}get color(){throw jt()}get left(){throw jt()}get right(){throw jt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new ys(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hi{constructor(e){this.comparator=e,this.data=new Jr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(e){return new o_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof hi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hi(this.comparator);return t.data=e,t}}class o_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xh(n){return n.hasNext()?n.getNext():void 0}class Io{constructor(e){this.fields=e,e.sort(Wi.comparator)}static empty(){return new Io([])}unionWith(e){let t=new hi(Wi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Io(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Th(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class aD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ls{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new aD("Invalid base64 string: "+s):s}}(e);return new ls(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new ls(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const bE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tc(n){if(tn(!!n),"string"==typeof n){let e=0;const t=bE.exec(n);if(tn(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$i(n.seconds),nanos:$i(n.nanos)}}function $i(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sl(n){return"string"==typeof n?ls.fromBase64String(n):ls.fromUint8Array(n)}function dm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function hm(n){const e=n.mapValue.fields.__previous_value__;return dm(e)?hm(e):e}function fp(n){const e=tc(n.mapValue.fields.__local_write_time__.timestampValue);return new jr(e.seconds,e.nanos)}class lD{constructor(e,t,r,s,u,c,y,I){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=y,this.useFetchStreams=I}}class nc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}const rc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ic={nullValue:"NULL_VALUE"};function ol(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dm(n)?4:fm(n)?9007199254740991:10:jt()}function ja(n,e){if(n===e)return!0;const t=ol(n);if(t!==ol(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fp(n).isEqual(fp(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=tc(r.timestampValue),c=tc(s.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,sl(n.bytesValue).isEqual(sl(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return $i(r.geoPointValue.latitude)===$i(s.geoPointValue.latitude)&&$i(r.geoPointValue.longitude)===$i(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return $i(r.integerValue)===$i(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=$i(r.doubleValue),c=$i(s.doubleValue);return u===c?Sh(u)===Sh(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Th(n.arrayValue.values||[],e.arrayValue.values||[],ja);case 10:return function(r,s){const u=r.mapValue.fields||{},c=s.mapValue.fields||{};if(s_(u)!==s_(c))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(void 0===c[y]||!ja(u[y],c[y])))return!1;return!0}(n,e);default:return jt()}var s}function Mh(n,e){return void 0!==(n.values||[]).find(t=>ja(t,e))}function al(n,e){if(n===e)return 0;const t=ol(n),r=ol(e);if(t!==r)return Hn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Hn(n.booleanValue,e.booleanValue);case 2:return function(s,u){const c=$i(s.integerValue||s.doubleValue),y=$i(u.integerValue||u.doubleValue);return c<y?-1:c>y?1:c===y?0:isNaN(c)?isNaN(y)?0:-1:1}(n,e);case 3:return a_(n.timestampValue,e.timestampValue);case 4:return a_(fp(n),fp(e));case 5:return Hn(n.stringValue,e.stringValue);case 6:return function(s,u){const c=sl(s),y=sl(u);return c.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const c=s.split("/"),y=u.split("/");for(let I=0;I<c.length&&I<y.length;I++){const O=Hn(c[I],y[I]);if(0!==O)return O}return Hn(c.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const c=Hn($i(s.latitude),$i(u.latitude));return 0!==c?c:Hn($i(s.longitude),$i(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const c=s.values||[],y=u.values||[];for(let I=0;I<c.length&&I<y.length;++I){const O=al(c[I],y[I]);if(O)return O}return Hn(c.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===rc.mapValue&&u===rc.mapValue)return 0;if(s===rc.mapValue)return 1;if(u===rc.mapValue)return-1;const c=s.fields||{},y=Object.keys(c),I=u.fields||{},O=Object.keys(I);y.sort(),O.sort();for(let V=0;V<y.length&&V<O.length;++V){const Q=Hn(y[V],O[V]);if(0!==Q)return Q;const le=al(c[y[V]],I[O[V]]);if(0!==le)return le}return Hn(y.length,O.length)}(n.mapValue,e.mapValue);default:throw jt()}}function a_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Hn(n,e);const t=tc(n),r=tc(e),s=Hn(t.seconds,r.seconds);return 0!==s?s:Hn(t.nanos,r.nanos)}function Rh(n){return u_(n)}function u_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=tc(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sl(n.bytesValue).toBase64():"referenceValue"in n?kt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const c of r.values||[])u?u=!1:s+=",",s+=u_(c);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const y of s)c?c=!1:u+=",",u+=`${y}:${u_(r.fields[y])}`;return u+"}"}(n.mapValue):jt();var e}function hd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function c_(n){return!!n&&"integerValue"in n}function pp(n){return!!n&&"arrayValue"in n}function DE(n){return!!n&&"nullValue"in n}function TE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sc(n){return!!n&&"mapValue"in n}function gp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ec(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fm(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Tu(n){return"nullValue"in n?ic:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?hd(nc.empty(),kt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:jt()}function cD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?hd(nc.empty(),kt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?rc:jt()}function pm(n,e){const t=al(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Oh(n,e){const t=al(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ms{constructor(e){this.value=e}static empty(){return new Ms({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gp(t)}setAll(e){let t=Wi.emptyPath(),r={},s=[];e.forEach((c,y)=>{if(!t.isImmediateParentOf(y)){const I=this.getFieldsMap(t);this.applyChanges(I,r,s),r={},s=[],t=y.popLast()}c?r[y.lastSegment()]=gp(c):s.push(y.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());sc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ja(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];sc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ec(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new Ms(gp(this.value))}}function SE(n){const e=[];return ec(n.fields,(t,r)=>{const s=new Wi([t]);if(sc(r)){const u=SE(r.mapValue).fields;if(0===u.length)e.push(s);else for(const c of u)e.push(s.child(c))}else e.push(s)}),new Io(e)}class si{constructor(e,t,r,s,u,c,y){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=c,this.documentState=y}static newInvalidDocument(e){return new si(e,0,hn.min(),hn.min(),hn.min(),Ms.empty(),0)}static newFoundDocument(e,t,r,s){return new si(e,1,t,hn.min(),r,s,0)}static newNoDocument(e,t){return new si(e,2,t,hn.min(),hn.min(),Ms.empty(),0)}static newUnknownDocument(e,t){return new si(e,3,t,hn.min(),hn.min(),Ms.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(hn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ms.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=hn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $a{constructor(e,t){this.position=e,this.inclusive=t}}function mp(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],c=n.position[s];if(r=u.field.isKeyField()?kt.comparator(kt.fromName(c.referenceValue),t.key):al(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function AE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ja(n.position[t],e.position[t]))return!1;return!0}class Nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function xE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class d_{}class nr extends d_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new dD(e,t,r):"array-contains"===t?new hD(e,r):"in"===t?new p_(e,r):"not-in"===t?new PE(e,r):"array-contains-any"===t?new fD(e,r):new nr(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new NE(e,r):new h_(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(al(t,this.value)):null!==t&&ol(this.value)===ol(t)&&this.matchesComparison(al(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Fr extends d_{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Fr(e,t)}matches(e){return oc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function oc(n){return"and"===n.op}function yp(n){return"or"===n.op}function gm(n){return mm(n)&&oc(n)}function mm(n){for(const e of n.filters)if(e instanceof Fr)return!1;return!0}function vp(n){if(n instanceof nr)return n.field.canonicalString()+n.op.toString()+Rh(n.value);if(gm(n))return n.filters.map(e=>vp(e)).join(",");{const e=n.filters.map(t=>vp(t)).join(",");return`${n.op}(${e})`}}function ME(n,e){return n instanceof nr?(t=n,(r=e)instanceof nr&&t.op===r.op&&t.field.isEqual(r.field)&&ja(t.value,r.value)):n instanceof Fr?function(t,r){return r instanceof Fr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,c)=>s&&ME(u,r.filters[c]),!0)}(n,e):void jt();var t,r}function RE(n,e){const t=n.filters.concat(e);return Fr.create(t,n.op)}function OE(n){return n instanceof nr?`${(e=n).field.canonicalString()} ${e.op} ${Rh(e.value)}`:n instanceof Fr?function(e){return e.op.toString()+" {"+e.getFilters().map(OE).join(" ,")+"}"}(n):"Filter";var e}class dD extends nr{constructor(e,t,r){super(e,t,r),this.key=kt.fromName(r.referenceValue)}matches(e){const t=kt.comparator(e.key,this.key);return this.matchesComparison(t)}}class NE extends nr{constructor(e,t){super(e,"in",t),this.keys=f_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class h_ extends nr{constructor(e,t){super(e,"not-in",t),this.keys=f_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function f_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>kt.fromName(r.referenceValue))}class hD extends nr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pp(t)&&Mh(t.arrayValue,this.value)}}class p_ extends nr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Mh(this.value.arrayValue,t)}}class PE extends nr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Mh(this.value.arrayValue,t)}}class fD extends nr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Mh(this.value.arrayValue,r))}}class kE{constructor(e,t=null,r=[],s=[],u=null,c=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=c,this.endAt=y,this.ft=null}}function ym(n,e=null,t=[],r=[],s=null,u=null,c=null){return new kE(n,e,t,r,s,u,c)}function fd(n){const e=Lt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>vp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),hp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Rh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Rh(r)).join(",")),e.ft=t}return e.ft}function Ph(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xE(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ME(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!AE(n.startAt,e.startAt)&&AE(n.endAt,e.endAt)}function vm(n){return kt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function vs(n,e){return n.filters.filter(t=>t instanceof nr&&t.field.isEqual(e))}function pd(n,e,t){let r=ic,s=!0;for(const u of vs(n,e)){let c=ic,y=!0;switch(u.op){case"<":case"<=":c=Tu(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,y=!1;break;case"!=":case"not-in":c=ic}pm({value:r,inclusive:s},{value:c,inclusive:y})<0&&(r=c,s=y)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];pm({value:r,inclusive:s},{value:c,inclusive:t.inclusive})<0&&(r=c,s=t.inclusive);break}return{value:r,inclusive:s}}function FE(n,e,t){let r=rc,s=!0;for(const u of vs(n,e)){let c=rc,y=!0;switch(u.op){case">=":case">":c=cD(u.value),y=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,y=!1;break;case"!=":case"not-in":c=rc}Oh({value:r,inclusive:s},{value:c,inclusive:y})>0&&(r=c,s=y)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];Oh({value:r,inclusive:s},{value:c,inclusive:t.inclusive})>0&&(r=c,s=t.inclusive);break}return{value:r,inclusive:s}}class ul{constructor(e,t=null,r=[],s=[],u=null,c="F",y=null,I=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=c,this.startAt=y,this.endAt=I,this.dt=null,this._t=null}}function pD(n,e,t,r,s,u,c,y){return new ul(n,e,t,r,s,u,c,y)}function _p(n){return new ul(n)}function g_(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wp(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ac(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function m_(n){return null!==n.collectionGroup}function ll(n){const e=Lt(n);if(null===e.dt){e.dt=[];const t=ac(e),r=wp(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Nh(t)),e.dt.push(new Nh(Wi.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Nh(Wi.keyField(),u))}}}return e.dt}function Xs(n){const e=Lt(n);if(!e._t)if("F"===e.limitType)e._t=ym(e.path,e.collectionGroup,ll(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of ll(e))t.push(new Nh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new $a(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new $a(e.startAt.position,e.startAt.inclusive):null;e._t=ym(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function _m(n,e){e.getFirstInequalityField(),ac(n);const t=n.filters.concat([e]);return new ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wm(n,e,t){return new ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ep(n,e){return Ph(Xs(n),Xs(e))&&n.limitType===e.limitType}function LE(n){return`${fd(Xs(n))}|lt:${n.limitType}`}function Ip(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>OE(r)).join(", ")}]`),hp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Rh(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Rh(r)).join(",")),`Target(${t})`}(Xs(n))}; limitType=${n.limitType})`}function kh(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):kt.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of ll(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,c){const y=mp(s,u,c);return s.inclusive?y<=0:y<0}(t.startAt,ll(t),r)||t.endAt&&!function(s,u,c){const y=mp(s,u,c);return s.inclusive?y>=0:y>0}(t.endAt,ll(t),r)));var t,r}function y_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Cp(n){return(e,t)=>{let r=!1;for(const s of ll(n)){const u=v_(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function v_(n,e,t){const r=n.field.isKeyField()?kt.comparator(e.key,t.key):function(s,u,c){const y=u.data.field(s),I=c.data.field(s);return null!==y&&null!==I?al(y,I):jt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return jt()}}class uc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ec(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return CE(this.inner)}size(){return this.innerSize}}const VE=new Jr(kt.comparator);function Co(){return VE}const __=new Jr(kt.comparator);function Su(...n){let e=__;for(const t of n)e=e.insert(t.key,t);return e}function UE(n){let e=__;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ha(){return Im()}function Em(){return Im()}function Im(){return new uc(n=>n.toString(),(n,e)=>n.isEqual(e))}const gD=new Jr(kt.comparator),FA=new hi(kt.comparator);function Yn(...n){let e=FA;for(const t of n)e=e.add(t);return e}const mD=new hi(Hn);function w_(){return mD}function E_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function I_(n){return{integerValue:""+n}}function BE(n,e){return Xv(e)?I_(e):E_(n,e)}class bp{constructor(){this._=void 0}}function jE(n,e,t){return n instanceof gd?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&dm(s)&&(s=hm(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof md?C_(n,e):n instanceof lc?b_(n,e):function(r,s){const u=$E(r,s),c=HE(u)+HE(r.wt);return c_(u)&&c_(r.wt)?I_(c):E_(r.serializer,c)}(n,e)}function yD(n,e,t){return n instanceof md?C_(n,e):n instanceof lc?b_(n,e):t}function $E(n,e){return n instanceof yd?c_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class gd extends bp{}class md extends bp{constructor(e){super(),this.elements=e}}function C_(n,e){const t=zE(e);for(const r of n.elements)t.some(s=>ja(s,r))||t.push(r);return{arrayValue:{values:t}}}class lc extends bp{constructor(e){super(),this.elements=e}}function b_(n,e){let t=zE(e);for(const r of n.elements)t=t.filter(s=>!ja(s,r));return{arrayValue:{values:t}}}class yd extends bp{constructor(e,t){super(),this.serializer=e,this.wt=t}}function HE(n){return $i(n.integerValue||n.doubleValue)}function zE(n){return pp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Cm{constructor(e,t){this.field=e,this.transform=t}}class LA{constructor(e,t){this.version=e,this.transformResults=t}}class Si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function D_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class T_{}function vD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ap(n.key,Si.none()):new Tp(n.key,n.data,Si.none());{const t=n.data,r=Ms.empty();let s=new hi(Wi.comparator);for(let u of e.fields)if(!s.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),s=s.add(u)}return new Au(n.key,r,new Io(s.toArray()),Si.none())}}function VA(n,e,t){n instanceof Tp?function(r,s,u){const c=r.value.clone(),y=S_(r.fieldTransforms,s,u.transformResults);c.setAll(y),s.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Au?function(r,s,u){if(!D_(r.precondition,s))return void s.convertToUnknownDocument(u.version);const c=S_(r.fieldTransforms,s,u.transformResults),y=s.data;y.setAll(Sp(r)),y.setAll(c),s.convertToFoundDocument(u.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bm(n,e,t,r){return n instanceof Tp?function(s,u,c,y){if(!D_(s.precondition,u))return c;const I=s.value.clone(),O=A_(s.fieldTransforms,y,u);return I.setAll(O),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null}(n,e,t,r):n instanceof Au?function(s,u,c,y){if(!D_(s.precondition,u))return c;const I=A_(s.fieldTransforms,y,u),O=u.data;return O.setAll(Sp(s)),O.setAll(I),u.convertToFoundDocument(u.version,O).setHasLocalMutations(),null===c?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(V=>V.field))}(n,e,t,r):(c=t,D_(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function UA(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=$E(r.transform,s||null);null!=u&&(null===t&&(t=Ms.empty()),t.set(r.field,u))}return t||null}function Dp(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Th(t,r,(s,u)=>function GE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof md&&r instanceof md||t instanceof lc&&r instanceof lc?Th(t.elements,r.elements,ja):t instanceof yd&&r instanceof yd?ja(t.wt,r.wt):t instanceof gd&&r instanceof gd);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Tp extends T_{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Au extends T_{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Sp(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function S_(n,e,t){const r=new Map;tn(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],c=u.transform,y=e.data.field(u.field);r.set(u.field,yD(c,y,t[s]))}return r}function A_(n,e,t){const r=new Map;for(const s of n){const u=s.transform,c=t.data.field(s.field);r.set(s.field,jE(u,c,e))}return r}class Ap extends T_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xp extends T_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dm{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&VA(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=bm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=bm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Em();return this.mutations.forEach(s=>{const u=e.get(s.key),c=u.overlayedDocument;let y=this.applyToLocalView(c,u.mutatedFields);y=t.has(s.key)?null:y;const I=vD(c,y);null!==I&&r.set(s.key,I),c.isValidDocument()||c.convertToNoDocument(hn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yn())}isEqual(e){return this.batchId===e.batchId&&Th(this.mutations,e.mutations,(t,r)=>Dp(t,r))&&Th(this.baseMutations,e.baseMutations,(t,r)=>Dp(t,r))}}class x_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){tn(e.mutations.length===r.length);let s=gD;const u=e.mutations;for(let c=0;c<u.length;c++)s=s.insert(u[c].key,r[c].version);return new x_(e,t,r,s)}}class qE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _D{constructor(e,t){this.count=e,this.unchangedNames=t}}var ns,or;function WE(n){switch(n){default:return jt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function wD(n){if(void 0===n)return ji("GRPC error has no .code"),Pe.UNKNOWN;switch(n){case ns.OK:return Pe.OK;case ns.CANCELLED:return Pe.CANCELLED;case ns.UNKNOWN:return Pe.UNKNOWN;case ns.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case ns.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case ns.INTERNAL:return Pe.INTERNAL;case ns.UNAVAILABLE:return Pe.UNAVAILABLE;case ns.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case ns.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case ns.NOT_FOUND:return Pe.NOT_FOUND;case ns.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case ns.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case ns.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case ns.ABORTED:return Pe.ABORTED;case ns.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case ns.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case ns.DATA_LOSS:return Pe.DATA_LOSS;default:return jt()}}(or=ns||(ns={}))[or.OK=0]="OK",or[or.CANCELLED=1]="CANCELLED",or[or.UNKNOWN=2]="UNKNOWN",or[or.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",or[or.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",or[or.NOT_FOUND=5]="NOT_FOUND",or[or.ALREADY_EXISTS=6]="ALREADY_EXISTS",or[or.PERMISSION_DENIED=7]="PERMISSION_DENIED",or[or.UNAUTHENTICATED=16]="UNAUTHENTICATED",or[or.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",or[or.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",or[or.ABORTED=10]="ABORTED",or[or.OUT_OF_RANGE=11]="OUT_OF_RANGE",or[or.UNIMPLEMENTED=12]="UNIMPLEMENTED",or[or.INTERNAL=13]="INTERNAL",or[or.UNAVAILABLE=14]="UNAVAILABLE",or[or.DATA_LOSS=15]="DATA_LOSS";class ZE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return M_}static getOrCreateInstance(){return null===M_&&(M_=new ZE),M_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let M_=null;function KE(){return new TextEncoder}const ED=new bh([4294967295,4294967295],0);function YE(n){const e=KE().encode(n),t=new zb;return t.update(e),new Uint8Array(t.digest())}function ID(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new bh([t,r],0),new bh([s,u],0)]}class R_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Fh(`Invalid padding: ${t}`);if(r<0)throw new Fh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Fh(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Fh(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=bh.fromNumber(this.yt)}Tt(e,t,r){let s=e.add(t.multiply(bh.fromNumber(r)));return 1===s.compare(ED)&&(s=new bh([s.getBits(0),s.getBits(1)],0)),s.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=YE(e),[r,s]=ID(t);for(let u=0;u<this.hashCount;u++){const c=this.Tt(r,s,u);if(!this.Et(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new R_(u,s,t);return r.forEach(y=>c.insert(y)),c}insert(e){if(0===this.yt)return;const t=YE(e),[r,s]=ID(t);for(let u=0;u<this.hashCount;u++){const c=this.Tt(r,s,u);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lh{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Tm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Lh(hn.min(),s,new Jr(Hn),Co(),Yn())}}class Tm{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Tm(r,t,Yn(),Yn(),Yn())}}class bo{constructor(e,t,r,s){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=s}}class QE{constructor(e,t){this.targetId=e,this.bt=t}}class Sm{constructor(e,t,r=ls.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class XE{constructor(){this.Vt=0,this.St=JE(),this.Dt=ls.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Yn(),t=Yn(),r=Yn();return this.St.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:jt()}}),new Tm(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=JE()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class jA{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Co(),this.jt=Bo(),this.zt=new Jr(Hn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:jt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,s)=>{this.Zt(s)&&t(s)})}ee(e){var t;const r=e.targetId,s=e.bt.count,u=this.ne(r);if(u){const c=u.target;if(vm(c))if(0===s){const y=new kt(c.path);this.Jt(r,y,si.newNoDocument(y,hn.min()))}else tn(1===s);else{const y=this.se(r);if(y!==s){const I=this.ie(e,y);0!==I&&(this.te(r),this.zt=this.zt.insert(r,2===I?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ZE.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(O,V,Q){var le,we,Ze,ht,_t,mn;const Ln={localCacheCount:V,existenceFilterCount:Q.count},_n=Q.unchangedNames;return _n&&(Ln.bloomFilter={applied:0===O,hashCount:null!==(le=_n?.hashCount)&&void 0!==le?le:0,bitmapLength:null!==(ht=null===(Ze=null===(we=_n?.bits)||void 0===we?void 0:we.bitmap)||void 0===Ze?void 0:Ze.length)&&void 0!==ht?ht:0,padding:null!==(mn=null===(_t=_n?.bits)||void 0===_t?void 0:_t.padding)&&void 0!==mn?mn:0}),Ln}(I,y,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:s}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:c=0},hashCount:y=0}=r;let I,O;try{I=sl(u).toUint8Array()}catch(V){if(V instanceof aD)return Vo("Decoding the base64 bloom filter in existence filter failed ("+V.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw V}try{O=new R_(I,c,y)}catch(V){return Vo(V instanceof Fh?"BloomFilter error: ":"Applying bloom filter failed: ",V),1}return 0===O.yt?1:s!==t-this.re(e.targetId,O)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const c=this.Kt.oe(),y=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.At(y)||(this.Jt(e,u,null),s++)}),s}ue(e){const t=new Map;this.Gt.forEach((u,c)=>{const y=this.ne(c);if(y){if(u.current&&vm(y.target)){const I=new kt(y.target.path);null!==this.Qt.get(I)||this.ce(c,I)||this.Jt(c,I,si.newNoDocument(I,e))}u.kt&&(t.set(c,u.Ot()),u.$t())}});let r=Yn();this.jt.forEach((u,c)=>{let y=!0;c.forEachWhile(I=>{const O=this.ne(I);return!O||"TargetPurposeLimboResolution"===O.purpose||(y=!1,!1)}),y&&(r=r.add(u))}),this.Qt.forEach((u,c)=>c.setReadTime(e));const s=new Lh(e,t,this.zt,this.Qt,r);return this.Qt=Co(),this.jt=Bo(),this.zt=new Jr(Hn),s}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const s=this.Xt(e);this.ce(e,t)?s.Ft(t,1):s.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new XE,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new hi(Hn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||pt("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new XE),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function Bo(){return new Jr(kt.comparator)}function JE(){return new Jr(kt.comparator)}const O_={asc:"ASCENDING",desc:"DESCENDING"},CD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bD={and:"AND",or:"OR"};class N_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Am(n,e){return n.useProto3Json||hp(e)?e:{value:e}}function vd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tI(n,e){return vd(n,e.toTimestamp())}function Hi(n){return tn(!!n),hn.fromTimestamp(function(e){const t=tc(e);return new jr(t.seconds,t.nanos)}(n))}function P_(n,e){return(t=n,new pr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function k_(n){const e=pr.fromString(n);return tn(Op(e)),e}function Mp(n,e){return P_(n.databaseId,e.path)}function fa(n,e){const t=k_(e);if(t.get(1)!==n.databaseId.projectId)throw new lt(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new lt(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new kt(xm(t))}function za(n,e){return P_(n.databaseId,e)}function cl(n){const e=k_(n);return 4===e.length?pr.emptyPath():xm(e)}function Vh(n){return new pr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xm(n){return tn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function F_(n,e,t){return{name:Mp(n,e),fields:t.value.mapValue.fields}}function nI(n,e,t){const r=fa(n,e.name),s=Hi(e.updateTime),u=e.createTime?Hi(e.createTime):hn.min(),c=new Ms({mapValue:{fields:e.fields}}),y=si.newFoundDocument(r,s,u,c);return t&&y.setHasCommittedMutations(),t?y.setHasCommittedMutations():y}function Rp(n,e){let t;if(e instanceof Tp)t={update:F_(n,e.key,e.value)};else if(e instanceof Ap)t={delete:Mp(n,e.key)};else if(e instanceof Au)t={update:F_(n,e.key,e.data),updateMask:sI(e.fieldMask)};else{if(!(e instanceof xp))return jt();t={verify:Mp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const c=u.transform;if(c instanceof gd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof md)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof lc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof yd)return{fieldPath:u.field.canonicalString(),increment:c.wt};throw jt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:tI(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:jt()),t;var s}function L_(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Si.updateTime(Hi(s.updateTime)):void 0!==s.exists?Si.exists(s.exists):Si.none():Si.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,c){let y=null;"setToServerValue"in c?(tn("REQUEST_TIME"===c.setToServerValue),y=new gd):"appendMissingElements"in c?y=new md(c.appendMissingElements.values||[]):"removeAllFromArray"in c?y=new lc(c.removeAllFromArray.values||[]):"increment"in c?y=new yd(u,c.increment):jt();const I=Wi.fromServerFormat(c.fieldPath);return new Cm(I,y)}(n,s)):[];var s;if(e.update){const s=fa(n,e.update.name),u=new Ms({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Io((e.updateMask.fieldPaths||[]).map(O=>Wi.fromServerFormat(O)));return new Au(s,u,c,t,r)}return new Tp(s,u,t,r)}if(e.delete){const s=fa(n,e.delete);return new Ap(s,t)}if(e.verify){const s=fa(n,e.verify);return new xp(s,t)}return jt()}function V_(n,e){return{documents:[za(n,e.path)]}}function rI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=za(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=za(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(I){if(0!==I.length)return $_(Fr.create(I,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(I){if(0!==I.length)return I.map(O=>{return{field:dl((V=O).field),direction:HA(V.dir)};var V})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=Am(n,e.limit);var y,I;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(y=e.startAt).inclusive,values:y.position}),e.endAt&&(t.structuredQuery.endAt={before:!(I=e.endAt).inclusive,values:I.position}),t}function U_(n){let e=cl(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){tn(1===r);const V=t.from[0];V.allDescendants?s=V.collectionId:e=e.child(V.collectionId)}let u=[];t.where&&(u=function(V){const Q=B_(V);return Q instanceof Fr&&gm(Q)?Q.getFilters():[Q]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(V=>{return new Nh(_d((Q=V).field),function(le){switch(le){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction));var Q}));let y=null;t.limit&&(y=function(V){let Q;return Q="object"==typeof V?V.value:V,hp(Q)?null:Q}(t.limit));let I=null;var V;t.startAt&&(I=new $a((V=t.startAt).values||[],!!V.before));let O=null;return t.endAt&&(O=function(V){return new $a(V.values||[],!V.before)}(t.endAt)),pD(e,s,c,u,y,"F",I,O)}function B_(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_d(e.unaryFilter.field);return nr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=_d(e.unaryFilter.field);return nr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_d(e.unaryFilter.field);return nr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=_d(e.unaryFilter.field);return nr.create(u,"!=",{nullValue:"NULL_VALUE"});default:return jt()}}(n):void 0!==n.fieldFilter?nr.create(_d((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Fr.create(e.compositeFilter.filters.map(t=>B_(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return jt()}}(e.compositeFilter.op))}(n):jt();var e}function HA(n){return O_[n]}function j_(n){return CD[n]}function iI(n){return bD[n]}function dl(n){return{fieldPath:n.canonicalString()}}function _d(n){return Wi.fromServerFormat(n.fieldPath)}function $_(n){return n instanceof nr?function(e){if("=="===e.op){if(TE(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NAN"}};if(DE(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(TE(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NOT_NAN"}};if(DE(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(e.field),op:j_(e.op),value:e.value}}}(n):n instanceof Fr?function(e){const t=e.getFilters().map(r=>$_(r));return 1===t.length?t[0]:{compositeFilter:{op:iI(e.op),filters:t}}}(n):jt()}function sI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Op(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class pa{constructor(e,t,r,s,u=hn.min(),c=hn.min(),y=ls.EMPTY_BYTE_STRING,I=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=y,this.expectedCount=I}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H_{constructor(e){this.le=e}}function oI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Mm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Mp(s=n.le,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:vd(s,u.version.toTimestamp()),createTime:vd(s,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Uh(e.version)};else{if(!e.isUnknownDocument())return jt();r.unknownDocument={path:t.path.toArray(),version:Uh(e.version)}}var s,u;return r}function Mm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Uh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bh(n){const e=new jr(n.seconds,n.nanoseconds);return hn.fromTimestamp(e)}function cc(n,e){const t=(e.baseMutations||[]).map(u=>L_(n.le,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>L_(n.le,u)),s=jr.fromMillis(e.localWriteTimeMs);return new Dm(e.batchId,s,t,r)}function Np(n){const e=Bh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Bh(n.lastLimboFreeSnapshotVersion):hn.min();let r;var s;return void 0!==n.query.documents?(tn(1===(s=n.query).documents.length),r=Xs(_p(cl(s.documents[0])))):r=Xs(U_(n.query)),new pa(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ls.fromBase64String(n.resumeToken))}function aI(n,e){const t=Uh(e.snapshotVersion),r=Uh(e.lastLimboFreeSnapshotVersion);let s;s=vm(e.target)?V_(n.le,e.target):rI(n.le,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fd(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function z_(n){const e=U_({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wm(e,e.limit,"L"):e}function uI(n,e){return new qE(e.largestBatchId,L_(n.le,e.overlayMutation))}function xD(n,e){const t=e.path.lastSegment();return[n,Vs(e.path.popLast()),t]}function MD(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Uh(r.readTime),documentKey:Vs(r.documentKey.path),largestBatchId:r.largestBatchId}}class zA{getBundleMetadata(e,t){return RD(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Bh(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return RD(e).put({bundleId:(r=t).id,createTime:Uh(Hi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return lI(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:z_(s.bundledQuery),readTime:Bh(s.readTime)};var s})}saveNamedQuery(e,t){return lI(e).put({name:(r=t).name,readTime:Uh(Hi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function RD(n){return us(n,"bundles")}function lI(n){return us(n,"namedQueries")}class wd{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new wd(e,t.uid||"")}getOverlay(e,t){return Pp(e).get(xD(this.userId,t)).next(r=>r?uI(this.serializer,r):null)}getOverlays(e,t){const r=Ha();return Te.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((u,c)=>{const y=new qE(t,c);s.push(this.de(e,y))}),Te.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(c=>s.add(Vs(c.getCollectionPath())));const u=[];return s.forEach(c=>{const y=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(Pp(e).J("collectionPathOverlayIndex",y))}),Te.waitFor(u)}getOverlaysForCollection(e,t,r){const s=Ha(),u=Vs(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Pp(e).j("collectionPathOverlayIndex",c).next(y=>{for(const I of y){const O=uI(this.serializer,I);s.set(O.getKey(),O)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=Ha();let c;const y=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pp(e).X({index:"collectionGroupOverlayIndex",range:y},(I,O,V)=>{const Q=uI(this.serializer,O);u.size()<s||Q.largestBatchId===c?(u.set(Q.getKey(),Q),c=Q.largestBatchId):V.done()}).next(()=>u)}de(e,t){return Pp(e).put(function(r,s,u){const[c,y,I]=xD(s,u.mutation.key);return{userId:s,collectionPath:y,documentId:I,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Rp(r.le,u.mutation)}}(this.serializer,this.userId,t))}}function Pp(n){return us(n,"documentOverlays")}class Ed{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye($i(e.integerValue));else if("doubleValue"in e){const r=$i(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),Sh(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(sl(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?fm(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):jt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const s of Object.keys(r))this.Ie(s,t),this.we(r[s],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const s of r)this.we(s,t)}Ae(e,t){this.ge(t,37),kt.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function cI(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function dc(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=cI(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Ed.be=new Ed;class dI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Se(r.value),r=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xe(r.value),r=t.next();this.Ne()}ke(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Se(r);else if(r<2048)this.Se(960|r>>>6),this.Se(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Se(480|r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r);else{const s=t.codePointAt(0);this.Se(240|s>>>18),this.Se(128|63&s>>>12),this.Se(128|63&s>>>6),this.Se(128|63&s)}}this.De()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xe(r);else if(r<2048)this.xe(960|r>>>6),this.xe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.xe(480|r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r);else{const s=t.codePointAt(0);this.xe(240|s>>>18),this.xe(128|63&s>>>12),this.xe(128|63&s>>>6),this.xe(128|63&s)}}this.Ne()}Oe(e){const t=this.$e(e),r=dc(t);this.Fe(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Be(e){const t=this.$e(e),r=dc(t);this.Fe(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class G_{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class q_{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class kp{constructor(){this.Qe=new dI,this.je=new G_(this.Qe),this.ze=new q_(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class hl{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new hl(this.indexId,this.documentKey,this.arrayValue,r)}}function xu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Fp(n.arrayValue,e.arrayValue),0!==t?t:(t=Fp(n.directionalValue,e.directionalValue),0!==t?t:kt.comparator(n.documentKey,e.documentKey)))}function Fp(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class GA{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xe=r:this.Ye.push(r)}}Ze(e){tn(e.collectionGroup===this.collectionId);const t=Wv(e);if(void 0!==t&&!this.tn(t))return!1;const r=cd(e);let s=0,u=0;for(;s<r.length&&this.tn(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.Xe){const c=r[s];if(!this.en(this.Xe,c)||!this.nn(this.Je[u++],c))return!1;++s}for(;s<r.length;++s)if(u>=this.Je.length||!this.nn(this.Je[u++],r[s]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function OD(n){var e,t;if(tn(n instanceof nr||n instanceof Fr),n instanceof nr){if(n instanceof p_){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>nr.create(n.field,"==",u)))||[];return Fr.create(s,"or")}return n}const r=n.filters.map(s=>OD(s));return Fr.create(r,n.op)}function qA(n){if(0===n.getFilters().length)return[];const e=W_(OD(n));return tn(fI(e)),hI(e)||Rm(e)?[e]:e.getFilters()}function hI(n){return n instanceof nr}function Rm(n){return n instanceof Fr&&gm(n)}function fI(n){return hI(n)||Rm(n)||function(e){if(e instanceof Fr&&yp(e)){for(const t of e.getFilters())if(!hI(t)&&!Rm(t))return!1;return!0}return!1}(n)}function W_(n){if(tn(n instanceof nr||n instanceof Fr),n instanceof nr)return n;if(1===n.filters.length)return W_(n.filters[0]);const e=n.filters.map(r=>W_(r));let t=Fr.create(e,n.op);return t=Lp(t),fI(t)?t:(tn(t instanceof Fr),tn(oc(t)),tn(t.filters.length>1),t.filters.reduce((r,s)=>Z_(r,s)))}function Z_(n,e){let t;return tn(n instanceof nr||n instanceof Fr),tn(e instanceof nr||e instanceof Fr),t=n instanceof nr?e instanceof nr?Fr.create([n,e],"and"):pI(n,e):e instanceof nr?pI(e,n):function(r,s){if(tn(r.filters.length>0&&s.filters.length>0),oc(r)&&oc(s))return RE(r,s.getFilters());const u=yp(r)?r:s,c=yp(r)?s:r,y=u.filters.map(I=>Z_(I,c));return Fr.create(y,"or")}(n,e),Lp(t)}function pI(n,e){if(oc(e))return RE(e,n.getFilters());{const t=e.filters.map(r=>Z_(n,r));return Fr.create(t,"or")}}function Lp(n){if(tn(n instanceof nr||n instanceof Fr),n instanceof nr)return n;const e=n.getFilters();if(1===e.length)return Lp(e[0]);if(mm(n))return n;const t=e.map(s=>Lp(s)),r=[];return t.forEach(s=>{s instanceof nr?r.push(s):s instanceof Fr&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:Fr.create(r,n.op)}class gI{constructor(){this.sn=new Om}addToCollectionParentIndex(e,t){return this.sn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(Eo.min())}updateCollectionGroup(e,t,r){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class Om{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new hi(pr.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new hi(pr.comparator)).toArray()}}const Nm=new Uint8Array(0);class ND{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new Om,this.on=new uc(r=>fd(r),(r,s)=>Ph(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const u={collectionId:r,parent:Vs(s)};return K_(e).put(u)}return Te.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[qv(t),""],!1,!0);return K_(e).j(s).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(Du(c.parent))}return r})}addFieldIndex(e,t){const r=Y_(e),s={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(y=>[y.fieldPath.canonicalString(),y.kind])};var c;delete s.indexId;const u=r.add(s);if(t.indexState){const c=jh(e);return u.next(y=>{c.put(MD(y,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Y_(e),s=jh(e),u=Id(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Id(e);let s=!0;const u=new Map;return Te.forEach(this.un(t),c=>this.cn(e,c).next(y=>{s&&(s=!!y),u.set(c,y)})).next(()=>{if(s){let c=Yn();const y=[];return Te.forEach(u,(I,O)=>{var V;pt("IndexedDbIndexManager",`Using index ${V=I,`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map(_n=>`${_n.fieldPath}:${_n.kind}`).join(",")}`} to execute ${fd(t)}`);const Q=function(_n,tr){const rr=Wv(tr);if(void 0===rr)return null;for(const Tr of vs(_n,rr.fieldPath))switch(Tr.op){case"array-contains-any":return Tr.value.arrayValue.values||[];case"array-contains":return[Tr.value]}return null}(O,I),le=function(_n,tr){const rr=new Map;for(const Tr of cd(tr))for(const zo of vs(_n,Tr.fieldPath))switch(zo.op){case"==":case"in":rr.set(Tr.fieldPath.canonicalString(),zo.value);break;case"not-in":case"!=":return rr.set(Tr.fieldPath.canonicalString(),zo.value),Array.from(rr.values())}return null}(O,I),we=function(_n,tr){const rr=[];let Tr=!0;for(const zo of cd(tr)){const Jh=0===zo.kind?pd(_n,zo.fieldPath,_n.startAt):FE(_n,zo.fieldPath,_n.startAt);rr.push(Jh.value),Tr&&(Tr=Jh.inclusive)}return new $a(rr,Tr)}(O,I),Ze=function(_n,tr){const rr=[];let Tr=!0;for(const zo of cd(tr)){const Jh=0===zo.kind?FE(_n,zo.fieldPath,_n.endAt):pd(_n,zo.fieldPath,_n.endAt);rr.push(Jh.value),Tr&&(Tr=Jh.inclusive)}return new $a(rr,Tr)}(O,I),ht=this.an(I,O,we),_t=this.an(I,O,Ze),mn=this.hn(I,O,le),Ln=this.ln(I.indexId,Q,ht,we.inclusive,_t,Ze.inclusive,mn);return Te.forEach(Ln,_n=>r.H(_n,t.limit).next(tr=>{tr.forEach(rr=>{const Tr=kt.fromSegments(rr.documentKey);c.has(Tr)||(c=c.add(Tr),y.push(Tr))})}))}).next(()=>y)}return Te.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:qA(Fr.create(e.filters,"and")).map(r=>ym(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,r,s,u,c,y){const I=(null!=t?t.length:1)*Math.max(r.length,u.length),O=I/(null!=t?t.length:1),V=[];for(let Q=0;Q<I;++Q){const le=t?this.fn(t[Q/O]):Nm,we=this.dn(e,le,r[Q%O],s),Ze=this._n(e,le,u[Q%O],c),ht=y.map(_t=>this.dn(e,le,_t,!0));V.push(...this.createRange(we,Ze,ht))}return V}dn(e,t,r,s){const u=new hl(e,kt.empty(),t,r);return s?u:u.He()}_n(e,t,r,s){const u=new hl(e,kt.empty(),t,r);return s?u.He():u}cn(e,t){const r=new GA(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let c=null;for(const y of u)r.Ze(y)&&(!c||y.fields.length>c.fields.length)&&(c=y);return c})}getIndexType(e,t){let r=2;const s=this.un(t);return Te.forEach(s,u=>this.cn(e,u).next(c=>{c?0!==r&&c.fields.length<function(y){let I=new hi(Wi.comparator),O=!1;for(const V of y.filters)for(const Q of V.getFlattenedFilters())Q.field.isKeyField()||("array-contains"===Q.op||"array-contains-any"===Q.op?O=!0:I=I.add(Q.field));for(const V of y.orderBy)V.field.isKeyField()||(I=I.add(V.field));return I.size+(O?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&s.length>1&&2===r?1:r)}wn(e,t){const r=new kp;for(const s of cd(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const c=r.We(s.kind);Ed.be._e(u,c)}return r.Ge()}fn(e){const t=new kp;return Ed.be._e(e,t.We(0)),t.Ge()}mn(e,t){const r=new kp;return Ed.be._e(hd(this.databaseId,t),r.We(function(s){const u=cd(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Ge()}hn(e,t,r){if(null===r)return[];let s=[];s.push(new kp);let u=0;for(const c of cd(e)){const y=r[u++];for(const I of s)if(this.gn(t,c.fieldPath)&&pp(y))s=this.yn(s,c,y);else{const O=I.We(c.kind);Ed.be._e(y,O)}}return this.pn(s)}an(e,t,r){return this.hn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ge();return t}yn(e,t,r){const s=[...e],u=[];for(const c of r.arrayValue.values||[])for(const y of s){const I=new kp;I.seed(y.Ge()),Ed.be._e(c,I.We(t.kind)),u.push(I)}return u}gn(e,t){return!!e.filters.find(r=>r instanceof nr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Y_(e),s=jh(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const c=[];return Te.forEach(u,y=>s.get([y.indexId,this.uid]).next(I=>{c.push(function(O,V){const Q=V?new cp(V.sequenceNumber,new Eo(Bh(V.readTime),new kt(Du(V.documentKey)),V.largestBatchId)):cp.empty(),le=O.fields.map(([we,Ze])=>new tm(Wi.fromServerFormat(we),Ze));return new up(O.indexId,O.collectionGroup,le,Q)}(y,I))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:Hn(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=Y_(e),u=jh(e);return this.In(e).next(c=>s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(y=>Te.forEach(y,I=>u.put(MD(I.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return Te.forEach(t,(s,u)=>{const c=r.get(s.collectionGroup);return(c?Te.resolve(c):this.getFieldIndexes(e,s.collectionGroup)).next(y=>(r.set(s.collectionGroup,y),Te.forEach(y,I=>this.Tn(e,s,I).next(O=>{const V=this.En(u,I);return O.isEqual(V)?Te.resolve():this.An(e,u,I,O,V)}))))})}Rn(e,t,r,s){return Id(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,s){return Id(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}Tn(e,t,r){const s=Id(e);let u=new hi(xu);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(c,y)=>{u=u.add(new hl(r.indexId,t,y.arrayValue,y.directionalValue))}).next(()=>u)}En(e,t){let r=new hi(xu);const s=this.wn(t,e);if(null==s)return r;const u=Wv(t);if(null!=u){const c=e.data.field(u.fieldPath);if(pp(c))for(const y of c.arrayValue.values||[])r=r.add(new hl(t.indexId,e.key,this.fn(y),s))}else r=r.add(new hl(t.indexId,e.key,Nm,s));return r}An(e,t,r,s,u){pt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(y,I,O,V,Q){const le=y.getIterator(),we=I.getIterator();let Ze=xh(le),ht=xh(we);for(;Ze||ht;){let _t=!1,mn=!1;if(Ze&&ht){const Ln=O(Ze,ht);Ln<0?mn=!0:Ln>0&&(_t=!0)}else null!=Ze?mn=!0:_t=!0;_t?(V(ht),ht=xh(we)):mn?(Q(Ze),Ze=xh(le)):(Ze=xh(le),ht=xh(we))}}(s,u,xu,y=>{c.push(this.Rn(e,t,r,y))},y=>{c.push(this.vn(e,t,r,y))}),Te.waitFor(c)}In(e){let t=1;return jh(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,y)=>xu(c,y)).filter((c,y,I)=>!y||0!==xu(c,I[y-1]));const s=[];s.push(e);for(const c of r){const y=xu(c,e),I=xu(c,t);if(0===y)s[0]=e.He();else if(y>0&&I<0)s.push(c),s.push(c.He());else if(I>0)break}s.push(t);const u=[];for(let c=0;c<s.length;c+=2){if(this.Pn(s[c],s[c+1]))return[];u.push(IDBKeyRange.bound([s[c].indexId,this.uid,s[c].arrayValue,s[c].directionalValue,Nm,[]],[s[c+1].indexId,this.uid,s[c+1].arrayValue,s[c+1].directionalValue,Nm,[]]))}return u}Pn(e,t){return xu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Pm)}getMinOffset(e,t){return Te.mapArray(this.un(t),r=>this.cn(e,r).next(s=>s||jt())).next(Pm)}}function K_(n){return us(n,"collectionParents")}function Id(n){return us(n,"indexEntries")}function Y_(n){return us(n,"indexConfiguration")}function jh(n){return us(n,"indexState")}function Pm(n){tn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;Kv(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Eo(e.readTime,e.documentKey,t)}const mI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Us{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Us(e,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PD(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let y=0;const I=r.X({range:c},(V,Q,le)=>(y++,le.delete()));u.push(I.next(()=>{tn(1===y)}));const O=[];for(const V of t.mutations){const Q=om(e,V.key.path,t.batchId);u.push(s.delete(Q)),O.push(V.key)}return Te.waitFor(u).next(()=>O)}function Q_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw jt();e=n.noDocument}return JSON.stringify(e).length}Us.DEFAULT_COLLECTION_PERCENTILE=10,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Us.DEFAULT=new Us(41943040,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Us.DISABLED=new Us(-1,0,0);class km{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.bn={}}static fe(e,t,r,s){tn(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new km(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hc(e).X({index:"userMutationsIndex",range:r},(s,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=Vp(e),c=hc(e);return c.add({}).next(y=>{tn("number"==typeof y);const I=new Dm(y,t,r,s),O=function(le,we,Ze){const ht=Ze.baseMutations.map(mn=>Rp(le.le,mn)),_t=Ze.mutations.map(mn=>Rp(le.le,mn));return{userId:we,batchId:Ze.batchId,localWriteTimeMs:Ze.localWriteTime.toMillis(),baseMutations:ht,mutations:_t}}(this.serializer,this.userId,I),V=[];let Q=new hi((le,we)=>Hn(le.canonicalString(),we.canonicalString()));for(const le of s){const we=om(this.userId,le.key.path,y);Q=Q.add(le.key.path.popLast()),V.push(c.put(O)),V.push(u.put(we,e_))}return Q.forEach(le=>{V.push(this.indexManager.addToCollectionParentIndex(e,le))}),e.addOnCommittedListener(()=>{this.bn[y]=I.keys()}),Te.waitFor(V).next(()=>I)})}lookupMutationBatch(e,t){return hc(e).get(t).next(r=>r?(tn(r.userId===this.userId),cc(this.serializer,r)):null)}Vn(e,t){return this.bn[t]?Te.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.bn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return hc(e).X({index:"userMutationsIndex",range:s},(c,y,I)=>{y.userId===this.userId&&(tn(y.batchId>=r),u=cc(this.serializer,y)),I.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return hc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(s,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hc(e).j("userMutationsIndex",t).next(r=>r.map(s=>cc(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=sm(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return Vp(e).X({range:s},(c,y,I)=>{const[O,V,Q]=c,le=Du(V);if(O===this.userId&&t.path.isEqual(le))return hc(e).get(Q).next(we=>{if(!we)throw jt();tn(we.userId===this.userId),u.push(cc(this.serializer,we))});I.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hi(Hn);const s=[];return t.forEach(u=>{const c=sm(this.userId,u.path),y=IDBKeyRange.lowerBound(c),I=Vp(e).X({range:y},(O,V,Q)=>{const[le,we,Ze]=O,ht=Du(we);le===this.userId&&u.path.isEqual(ht)?r=r.add(Ze):Q.done()});s.push(I)}),Te.waitFor(s).next(()=>this.Sn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=sm(this.userId,r),c=IDBKeyRange.lowerBound(u);let y=new hi(Hn);return Vp(e).X({range:c},(I,O,V)=>{const[Q,le,we]=I,Ze=Du(le);Q===this.userId&&r.isPrefixOf(Ze)?Ze.length===s&&(y=y.add(we)):V.done()}).next(()=>this.Sn(e,y))}Sn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(hc(e).get(u).next(c=>{if(null===c)throw jt();tn(c.userId===this.userId),r.push(cc(this.serializer,c))}))}),Te.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return PD(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),Te.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Te.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return Vp(e).X({range:r},(u,c,y)=>{if(u[0]===this.userId){const I=Du(u[1]);s.push(I)}else y.done()}).next(()=>{tn(0===s.length)})})}containsKey(e,t){return yI(e,this.userId,t)}Cn(e){return kD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yI(n,e,t){const r=sm(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Vp(n).X({range:u,Y:!0},(y,I,O)=>{const[V,Q,le]=y;V===e&&Q===s&&(c=!0),O.done()}).next(()=>c)}function hc(n){return us(n,"mutations")}function Vp(n){return us(n,"documentMutations")}function kD(n){return us(n,"mutationQueues")}class $h{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new $h(0)}static kn(){return new $h(-1)}}class WA{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const r=new $h(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>hn.fromTimestamp(new jr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Mn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.On(e,s)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(r=>(r.targetCount+=1,this.Fn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Hh(e).delete(t.targetId)).next(()=>this.Mn(e)).next(r=>(tn(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return Hh(e).X((c,y)=>{const I=Np(y);I.sequenceNumber<=t&&null===r.get(I.targetId)&&(s++,u.push(this.removeTargetData(e,I)))}).next(()=>Te.waitFor(u)).next(()=>s)}forEachTarget(e,t){return Hh(e).X((r,s)=>{const u=Np(s);t(u)})}Mn(e){return FD(e).get("targetGlobalKey").next(t=>(tn(null!==t),t))}On(e,t){return FD(e).put("targetGlobalKey",t)}$n(e,t){return Hh(e).put(aI(this.serializer,t))}Fn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=fd(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Hh(e).X({range:s,index:"queryTargetsIndex"},(c,y,I)=>{const O=Np(y);Ph(t,O.target)&&(u=O,I.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=Cd(e);return t.forEach(c=>{const y=Vs(c.path);s.push(u.put({targetId:r,path:y})),s.push(this.referenceDelegate.addReference(e,r,c))}),Te.waitFor(s)}removeMatchingKeys(e,t,r){const s=Cd(e);return Te.forEach(t,u=>{const c=Vs(u.path);return Te.waitFor([s.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Cd(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Cd(e);let u=Yn();return s.X({range:r,Y:!0},(c,y,I)=>{const O=Du(c[1]),V=new kt(O);u=u.add(V)}).next(()=>u)}containsKey(e,t){const r=Vs(t.path),s=IDBKeyRange.bound([r],[qv(r)],!1,!0);let u=0;return Cd(e).X({index:"documentTargetsIndex",Y:!0,range:s},([c,y],I,O)=>{0!==c&&(u++,O.done())}).next(()=>u>0)}he(e,t){return Hh(e).get(t).next(r=>r?Np(r):null)}}function Hh(n){return us(n,"targets")}function FD(n){return us(n,"targetGlobal")}function Cd(n){return us(n,"targetDocuments")}function LD([n,e],[t,r]){const s=Hn(n,t);return 0===s?Hn(e,r):s}class ZA{constructor(e){this.Bn=e,this.buffer=new hi(LD),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();LD(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class VD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;pt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,qe.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){il(r)?pt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield rl(r)}yield t.Gn(3e5)}))}}class KA{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Te.resolve(Uo.ct);const r=new ZA(t);return this.Qn.forEachTarget(e,s=>r.Un(s.sequenceNumber)).next(()=>this.Qn.zn(e,s=>r.Un(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Qn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(mI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mI):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let r,s,u,c,y,I,O;const V=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Q=>(Q>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Q}`),s=this.params.maximumSequenceNumbersToCollect):s=Q,c=Date.now(),this.nthSequenceNumber(e,s))).next(Q=>(r=Q,y=Date.now(),this.removeTargets(e,r,t))).next(Q=>(u=Q,I=Date.now(),this.removeOrphanedDocuments(e,r))).next(Q=>(O=Date.now(),Hv()<=Ju.in.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-V}ms\n\tDetermined least recently used ${s} in `+(y-c)+`ms\n\tRemoved ${u} targets in `+(I-y)+`ms\n\tRemoved ${Q} documents in `+(O-I)+`ms\nTotal Duration: ${O-V}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:Q})))}}class o{constructor(e,t){this.db=e,this.garbageCollector=function i(n,e){return new KA(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Hn(e){let t=0;return this.zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(r,s)=>t(s))}addReference(e,t,r){return a(e,r)}removeReference(e,t,r){return a(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return a(e,t)}Yn(e,t){return function(r,s){let u=!1;return kD(r).Z(c=>yI(r,c,s).next(y=>(y&&(u=!0),Te.resolve(!y)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Jn(e,(c,y)=>{if(y<=t){const I=this.Yn(e,c).next(O=>{if(!O)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,hn.min()),Cd(e).delete([0,Vs(c.path)])))});s.push(I)}}).next(()=>Te.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return a(e,t)}Jn(e,t){const r=Cd(e);let s,u=Uo.ct;return r.X({index:"documentTargetsIndex"},([c,y],{path:I,sequenceNumber:O})=>{0===c?(u!==Uo.ct&&t(new kt(Du(s)),u),u=O,s=I):u=Uo.ct}).next(()=>{u!==Uo.ct&&t(new kt(Du(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function a(n,e){return Cd(n).put((r=n.currentSequenceNumber,{targetId:0,path:Vs(e.path),sequenceNumber:r}));var r}class l{constructor(){this.changes=new uc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,si.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class h{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return x(e).put(r)}removeEntry(e,t,r){return x(e).delete(function(s,u){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Mm(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Xn(e,r)))}getEntry(e,t){let r=si.newInvalidDocument(t);return x(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(B(t))},(s,u)=>{r=this.Zn(t,u)}).next(()=>r)}ts(e,t){let r={size:0,document:si.newInvalidDocument(t)};return x(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(B(t))},(s,u)=>{r={document:this.Zn(t,u),size:Q_(u)}}).next(()=>r)}getEntries(e,t){let r=Co();return this.es(e,t,(s,u)=>{const c=this.Zn(s,u);r=r.insert(s,c)}).next(()=>r)}ns(e,t){let r=Co(),s=new Jr(kt.comparator);return this.es(e,t,(u,c)=>{const y=this.Zn(u,c);r=r.insert(u,y),s=s.insert(u,Q_(c))}).next(()=>({documents:r,ss:s}))}es(e,t,r){if(t.isEmpty())return Te.resolve();let s=new hi(te);t.forEach(I=>s=s.add(I));const u=IDBKeyRange.bound(B(s.first()),B(s.last())),c=s.getIterator();let y=c.getNext();return x(e).X({index:"documentKeyIndex",range:u},(I,O,V)=>{const Q=kt.fromSegments([...O.prefixPath,O.collectionGroup,O.documentId]);for(;y&&te(y,Q)<0;)r(y,null),y=c.getNext();y&&y.isEqual(Q)&&(r(y,O),y=c.hasNext()?c.getNext():null),y?V.G(B(y)):V.done()}).next(()=>{for(;y;)r(y,null),y=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,s){const u=t.path,c=[u.popLast().toArray(),u.lastSegment(),Mm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],y=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return x(e).j(IDBKeyRange.bound(c,y,!0)).next(I=>{let O=Co();for(const V of I){const Q=this.Zn(kt.fromSegments(V.prefixPath.concat(V.collectionGroup,V.documentId)),V);Q.isFoundDocument()&&(kh(t,Q)||s.has(Q.key))&&(O=O.insert(Q.key,Q))}return O})}getAllFromCollectionGroup(e,t,r,s){let u=Co();const c=G(t,r),y=G(t,Eo.max());return x(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,y,!0)},(I,O,V)=>{const Q=this.Zn(kt.fromSegments(O.prefixPath.concat(O.collectionGroup,O.documentId)),O);u=u.insert(Q.key,Q),u.size===s&&V.done()}).next(()=>u)}newChangeBuffer(e){return new v(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return b(e).get("remoteDocumentGlobalKey").next(t=>(tn(!!t),t))}Xn(e,t){return b(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const r=function AD(n,e){let t;if(e.document)t=nI(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=kt.fromSegments(e.noDocument.path),s=Bh(e.noDocument.readTime);t=si.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return jt();{const r=kt.fromSegments(e.unknownDocument.path),s=Bh(e.unknownDocument.version);t=si.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new jr(r[0],r[1]);return hn.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(hn.min()))return r}return si.newInvalidDocument(e)}}function p(n){return new h(n)}class v extends l{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new uc(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new hi((u,c)=>Hn(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const y=this.os.get(u);if(t.push(this.rs.removeEntry(e,u,y.readTime)),c.isValidDocument()){const I=oI(this.rs.serializer,c);s=s.add(u.path.popLast());const O=Q_(I);r+=O-y.size,t.push(this.rs.addEntry(e,u,I))}else if(r-=y.size,this.trackRemovals){const I=oI(this.rs.serializer,c.convertToNoDocument(hn.min()));t.push(this.rs.addEntry(e,u,I))}}),s.forEach(u=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.rs.updateMetadata(e,r)),Te.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(r=>(this.os.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:r,ss:s})=>(s.forEach((u,c)=>{this.os.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function b(n){return us(n,"remoteDocumentGlobal")}function x(n){return us(n,"remoteDocumentsV14")}function B(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function G(n,e){const t=e.documentKey.path.toArray();return[n,Mm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function te(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=Hn(t[u],r[u]),s)return s;return s=Hn(t.length,r.length),s||(s=Hn(t[t.length-2],r[r.length-2]),s||Hn(t[t.length-1],r[r.length-1]))}class de{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ie{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&bm(r.mutation,s,Io.empty(),jr.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Yn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Yn()){const s=Ha();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let c=Su();return u.forEach((y,I)=>{c=c.insert(y,I.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Ha();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Yn()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((c,y)=>{t.set(c,y)})})}computeViews(e,t,r,s){let u=Co();const c=Im(),y=Im();return t.forEach((I,O)=>{const V=r.get(O.key);s.has(O.key)&&(void 0===V||V.mutation instanceof Au)?u=u.insert(O.key,O):void 0!==V?(c.set(O.key,V.mutation.getFieldMask()),bm(V.mutation,O,V.mutation.getFieldMask(),jr.now())):c.set(O.key,Io.empty())}),this.recalculateAndSaveOverlays(e,u).next(I=>(I.forEach((O,V)=>c.set(O,V)),t.forEach((O,V)=>{var Q;return y.set(O,new de(V,null!==(Q=c.get(O))&&void 0!==Q?Q:null))}),y))}recalculateAndSaveOverlays(e,t){const r=Im();let s=new Jr((c,y)=>c-y),u=Yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const y of c)y.keys().forEach(I=>{const O=t.get(I);if(null===O)return;let V=r.get(I)||Io.empty();V=y.applyToLocalView(O,V),r.set(I,V);const Q=(s.get(y.batchId)||Yn()).add(I);s=s.insert(y.batchId,Q)})}).next(()=>{const c=[],y=s.getReverseIterator();for(;y.hasNext();){const I=y.getNext(),O=I.key,V=I.value,Q=Em();V.forEach(le=>{if(!u.has(le)){const we=vD(t.get(le),r.get(le));null!==we&&Q.set(le,we),u=u.add(le)}}),c.push(this.documentOverlayCache.saveOverlays(e,O,Q))}return Te.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return kt.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):m_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const c=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):Te.resolve(Ha());let y=-1,I=u;return c.next(O=>Te.forEach(O,(V,Q)=>(y<Q.largestBatchId&&(y=Q.largestBatchId),u.get(V)?Te.resolve():this.remoteDocumentCache.getEntry(e,V).next(le=>{I=I.insert(V,le)}))).next(()=>this.populateOverlays(e,O,u)).next(()=>this.computeViews(e,I,O,Yn())).next(V=>({batchId:y,changes:UE(V)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new kt(t)).next(r=>{let s=Su();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=Su();return this.indexManager.getCollectionParents(e,s).next(c=>Te.forEach(c,y=>{const I=(O=t,V=y.child(s),new ul(V,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt));var O,V;return this.getDocumentsMatchingCollectionQuery(e,I,r).next(O=>{O.forEach((V,Q)=>{u=u.insert(V,Q)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((y,I)=>{const O=I.getKey();null===u.get(O)&&(u=u.insert(O,si.newInvalidDocument(O)))});let c=Su();return u.forEach((y,I)=>{const O=s.get(y);void 0!==O&&bm(O.mutation,I,Io.empty(),jr.now()),kh(t,I)&&(c=c.insert(y,I))}),c})}}class We{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Te.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:Hi(r.createTime)}),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:z_(r.bundledQuery),readTime:Hi(r.readTime)}),Te.resolve();var r}}class Et{constructor(){this.overlays=new Jr(kt.comparator),this.hs=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ha();return Te.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.de(e,t,u)}),Te.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.hs.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.hs.delete(r)),Te.resolve()}getOverlaysForCollection(e,t,r){const s=Ha(),u=t.length+1,c=new kt(t.child("")),y=this.overlays.getIteratorFrom(c);for(;y.hasNext();){const I=y.getNext().value,O=I.getKey();if(!t.isPrefixOf(O.path))break;O.path.length===u&&I.largestBatchId>r&&s.set(I.getKey(),I)}return Te.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new Jr((O,V)=>O-V);const c=this.overlays.getIterator();for(;c.hasNext();){const O=c.getNext().value;if(O.getKey().getCollectionGroup()===t&&O.largestBatchId>r){let V=u.get(O.largestBatchId);null===V&&(V=Ha(),u=u.insert(O.largestBatchId,V)),V.set(O.getKey(),O)}}const y=Ha(),I=u.getIterator();for(;I.hasNext()&&(I.getNext().value.forEach((O,V)=>y.set(O,V)),!(y.size()>=s)););return Te.resolve(y)}de(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const c=this.hs.get(s.largestBatchId).delete(r.key);this.hs.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new qE(t,r));let u=this.hs.get(t);void 0===u&&(u=Yn(),this.hs.set(t,u)),this.hs.set(t,u.add(r.key))}}class Ft{constructor(){this.ls=new hi(xt.fs),this.ds=new hi(xt._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new xt(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new xt(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new kt(new pr([])),r=new xt(t,e),s=new xt(t,e+1),u=[];return this.ds.forEachInRange([r,s],c=>{this.gs(c),u.push(c.key)}),u}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new kt(new pr([])),r=new xt(t,e),s=new xt(t,e+1);let u=Yn();return this.ds.forEachInRange([r,s],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new xt(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class xt{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return kt.comparator(e.key,t.key)||Hn(e.Es,t.Es)}static _s(e,t){return Hn(e.Es,t.Es)||kt.comparator(e.key,t.key)}}class Rn{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new hi(xt.fs)}checkEmpty(e){return Te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.As;this.As++;const c=new Dm(u,t,r,s);this.mutationQueue.push(c);for(const y of s)this.Rs=this.Rs.add(new xt(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Te.resolve(c)}lookupMutationBatch(e,t){return Te.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Ps(t+1),u=s<0?0:s;return Te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xt(t,0),s=new xt(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],c=>{const y=this.vs(c.Es);u.push(y)}),Te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hi(Hn);return t.forEach(s=>{const u=new xt(s,0),c=new xt(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,c],y=>{r=r.add(y.Es)})}),Te.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;kt.isDocumentKey(u)||(u=u.child(""));const c=new xt(new kt(u),0);let y=new hi(Hn);return this.Rs.forEachWhile(I=>{const O=I.key.path;return!!r.isPrefixOf(O)&&(O.length===s&&(y=y.add(I.Es)),!0)},c),Te.resolve(this.bs(y))}bs(e){const t=[];return e.forEach(r=>{const s=this.vs(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){tn(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Te.forEach(t.mutations,s=>{const u=new xt(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new xt(t,0),s=this.Rs.firstAfterOrEqual(r);return Te.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return Te.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ft{constructor(e){this.Ss=e,this.docs=new Jr(kt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,c=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Te.resolve(r?r.document.mutableCopy():si.newInvalidDocument(t))}getEntries(e,t){let r=Co();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():si.newInvalidDocument(s))}),Te.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=Co();const c=t.path,y=new kt(c.child("")),I=this.docs.getIteratorFrom(y);for(;I.hasNext();){const{key:O,value:{document:V}}=I.getNext();if(!c.isPrefixOf(O.path))break;O.path.length>c.length+1||Kv(pE(V),r)<=0||(s.has(V.key)||kh(t,V))&&(u=u.insert(V.key,V.mutableCopy()))}return Te.resolve(u)}getAllFromCollectionGroup(e,t,r,s){jt()}Ds(e,t){return Te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Gn(this)}getSize(e){return Te.resolve(this.size)}}class Gn extends l{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.rs.addEntry(e,s)):this.rs.removeEntry(r)}),Te.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class fi{constructor(e){this.persistence=e,this.Cs=new uc(t=>fd(t),Ph),this.lastRemoteSnapshotVersion=hn.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Ft,this.targetCount=0,this.ks=$h.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,s)=>t(s)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),Te.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new $h(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.$n(t),Te.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.Cs.forEach((c,y)=>{y.sequenceNumber<=t&&null===r.get(y.targetId)&&(this.Cs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),s++)}),Te.waitFor(u).next(()=>s)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return Te.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),Te.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(c=>{u.push(s.markPotentiallyOrphaned(e,c))}),Te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return Te.resolve(r)}containsKey(e,t){return Te.resolve(this.Ns.containsKey(t))}}class Ai{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Uo(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new fi(this),this.indexManager=new gI,this.remoteDocumentCache=new ft(r=>this.referenceDelegate.Bs(r)),this.serializer=new H_(t),this.Ls=new We(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Et,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new Rn(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){pt("MemoryPersistence","Starting transaction:",e);const s=new YA(this.Os.next());return this.referenceDelegate.qs(),r(s).next(u=>this.referenceDelegate.Us(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Ks(e,t){return Te.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class YA extends gE{constructor(e){super(),this.currentSequenceNumber=e}}class vI{constructor(e){this.persistence=e,this.Gs=new Ft,this.Qs=null}static js(e){return new vI(e)}get zs(){if(this.Qs)return this.Qs;throw jt()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),Te.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(s=>this.zs.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.zs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.zs,r=>{const s=kt.fromPath(r);return this.Ws(e,s).next(u=>{u||t.removeEntry(s,hn.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Te.or([()=>Te.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class gR{constructor(e){this.serializer=e}$(e,t,r,s){const u=new im("createOrUpgrade",t);var y;r<1&&s>=1&&(e.createObjectStore("owner"),(y=e).createObjectStore("mutationQueues",{keyPath:"userId"}),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yE,{unique:!0}),y.createObjectStore("documentMutations"),QA(e),function(y){y.createObjectStore("remoteDocuments")}(e));let c=Te.resolve();return r<3&&s>=3&&(0!==r&&(function(y){y.deleteObjectStore("targetDocuments"),y.deleteObjectStore("targets"),y.deleteObjectStore("targetGlobal")}(e),QA(e)),c=c.next(()=>function(y){const I=y.store("targetGlobal"),O={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:hn.min().toTimestamp(),targetCount:0};return I.put("targetGlobalKey",O)}(u))),r<4&&s>=4&&(0!==r&&(c=c.next(()=>function(y,I){return I.store("mutations").j().next(O=>{y.deleteObjectStore("mutations"),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yE,{unique:!0});const V=I.store("mutations"),Q=O.map(le=>V.put(le));return Te.waitFor(Q)})}(e,u))),c=c.next(()=>{!function(y){y.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(c=c.next(()=>this.Js(u))),r<6&&s>=6&&(c=c.next(()=>(function(y){y.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(u)))),r<7&&s>=7&&(c=c.next(()=>this.Xs(u))),r<8&&s>=8&&(c=c.next(()=>this.Zs(e,u))),r<9&&s>=9&&(c=c.next(()=>{!function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(c=c.next(()=>this.ti(u))),r<11&&s>=11&&(c=c.next(()=>{(function(y){y.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(y){y.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(c=c.next(()=>{!function(y){const I=y.createObjectStore("documentOverlays",{keyPath:EE});I.createIndex("collectionPathOverlayIndex",r_,{unique:!1}),I.createIndex("collectionGroupOverlayIndex",sD,{unique:!1})}(e)})),r<13&&s>=13&&(c=c.next(()=>function(y){const I=y.createObjectStore("remoteDocumentsV14",{keyPath:vE});I.createIndex("documentKeyIndex",t_),I.createIndex("collectionGroupIndex",tD)}(e)).next(()=>this.ei(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(c=c.next(()=>this.ni(e,u))),r<15&&s>=15&&(c=c.next(()=>function(y){y.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),y.createObjectStore("indexState",{keyPath:Ah}).createIndex("sequenceNumberIndex",wE,{unique:!1}),y.createObjectStore("indexEntries",{keyPath:iD}).createIndex("documentKeyIndex",kA,{unique:!1})}(e))),c}Ys(e){let t=0;return e.store("remoteDocuments").X((r,s)=>{t+=Q_(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Js(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(s=>Te.forEach(s,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(y=>Te.forEach(y,I=>{tn(I.userId===u.userId);const O=cc(this.serializer,I);return PD(e,u.userId,O).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.X((c,y)=>{const I=new pr(c),O=[0,Vs(I)];u.push(t.get(O).next(V=>V?Te.resolve():t.put({targetId:0,path:Vs(I),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>Te.waitFor(u))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:_E});const r=t.store("collectionParents"),s=new Om,u=c=>{if(s.add(c)){const y=c.lastSegment(),I=c.popLast();return r.put({collectionId:y,parent:Vs(I)})}};return t.store("remoteDocuments").X({Y:!0},(c,y)=>{const I=new pr(c);return u(I.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,y,I],O)=>{const V=Du(y);return u(V.popLast())}))}ti(e){const t=e.store("targets");return t.X((r,s)=>{const u=Np(s),c=aI(this.serializer,u);return t.put(c)})}ei(e,t){const r=t.store("remoteDocuments"),s=[];return r.X((u,c)=>{const y=t.store("remoteDocumentsV14"),I=(O=c,O.document?new kt(pr.fromString(O.document.name).popFirst(5)):O.noDocument?kt.fromSegments(O.noDocument.path):O.unknownDocument?kt.fromSegments(O.unknownDocument.path):jt()).path.toArray();var O;const V={prefixPath:I.slice(0,I.length-2),collectionGroup:I[I.length-2],documentId:I[I.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};s.push(y.put(V))}).next(()=>Te.waitFor(s))}ni(e,t){const r=t.store("mutations"),s=p(this.serializer),u=new Ai(vI.js,this.serializer.le);return r.j().next(c=>{const y=new Map;return c.forEach(I=>{var O;let V=null!==(O=y.get(I.userId))&&void 0!==O?O:Yn();cc(this.serializer,I).keys().forEach(Q=>V=V.add(Q)),y.set(I.userId,V)}),Te.forEach(y,(I,O)=>{const V=new Bi(O),Q=wd.fe(this.serializer,V),le=u.getIndexManager(V),we=km.fe(V,this.serializer,le,u.referenceDelegate);return new Ie(s,we,Q,le).recalculateAndSaveOverlaysForDocumentKeys(new lm(t,Uo.ct),I).next()})})}}function QA(n){n.createObjectStore("targetDocuments",{keyPath:n_}).createIndex("documentTargetsIndex",rD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nD,{unique:!0}),n.createObjectStore("targetGlobal")}const UD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class BD{constructor(e,t,r,s,u,c,y,I,O,V,Q=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=u,this.window=c,this.document=y,this.ii=O,this.ri=V,this.oi=Q,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=le=>Promise.resolve(),!BD.D())throw new lt(Pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new o(this,s),this.fi=t+"main",this.serializer=new H_(I),this.di=new Ba(this.fi,this.oi,new gR(this.serializer)),this.Fs=new WA(this.referenceDelegate,this.serializer),this.remoteDocumentCache=p(this.serializer),this.Ls=new zA,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===V&&ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new lt(Pe.FAILED_PRECONDITION,UD);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Uo(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var r=(0,qe.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,qe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,qe.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(il(e))return pt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return X_(e).get("owner").next(t=>Te.resolve(this.Ri(t)))}vi(e){return wI(e).delete(this.clientId)}Pi(){var e=this;return(0,qe.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=us(r,"clientMetadata");return s.j().next(u=>{const c=e.Vi(u,18e5),y=u.filter(I=>-1===c.indexOf(I));return Te.forEach(y,I=>s.delete(I.clientId)).next(()=>y)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Si(r.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?Te.resolve(!0):X_(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new lt(Pe.FAILED_PRECONDITION,UD);return!1}}return!(!this.networkEnabled||!this.inForeground)||wI(e).j().next(r=>void 0===this.Vi(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&pt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,qe.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new lm(t,Uo.ct);return e.Ei(r).next(()=>e.vi(r))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(r=>this.bi(r.updateTimeMs,t)&&!this.Di(r.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>wI(e).j().next(t=>this.Vi(t,18e5).map(r=>r.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return km.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ND(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return wd.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,r){pt("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=15===(c=this.oi)?IE:14===c?um:13===c?i_:12===c?oD:11===c?am:void jt();var c;let y;return this.di.runTransaction(e,s,u,I=>(y=new lm(I,this.Os?this.Os.next():Uo.ct),"readwrite-primary"===t?this.Ii(y).next(O=>!!O||this.Ti(y)).next(O=>{if(!O)throw ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new lt(Pe.FAILED_PRECONDITION,nm);return r(y)}).next(O=>this.Ai(y).next(()=>O)):this.Oi(y).next(()=>r(y)))).then(I=>(y.raiseOnCommittedEvent(),I))}Oi(e){return X_(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new lt(Pe.FAILED_PRECONDITION,UD)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return X_(e).put("owner",t)}static D(){return Ba.D()}Ei(e){const t=X_(e);return t.get("owner").next(r=>this.Ri(r)?(pt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Te.resolve())}bi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ji(`Detected an update time that is in the future: ${e} > ${r}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,vr.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return pt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ji("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){ji("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function X_(n){return us(n,"owner")}function wI(n){return us(n,"clientMetadata")}function jD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class $D{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=s}static Bi(e,t){let r=Yn(),s=Yn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new $D(e,t.fromCache,r,s)}}class XA{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ui(e,t).next(u=>u||this.Ki(e,t,s,r)).next(u=>u||this.Gi(e,t))}Ui(e,t){if(g_(t))return Te.resolve(null);let r=Xs(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=wm(t,null,"F"),r=Xs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=Yn(...u);return this.qi.getDocuments(e,c).next(y=>this.indexManager.getMinOffset(e,r).next(I=>{const O=this.Qi(t,y);return this.ji(t,O,c,I.readTime)?this.Ui(e,wm(t,null,"F")):this.zi(e,O,t,I)}))})))}Ki(e,t,r,s){return g_(t)||s.isEqual(hn.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(u=>{const c=this.Qi(t,u);return this.ji(t,c,r,s)?this.Gi(e,t):(Hv()<=Ju.in.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ip(t)),this.zi(e,c,t,Zv(s,-1)))})}Qi(e,t){let r=new hi(Cp(e));return t.forEach((s,u)=>{kh(e,u)&&(r=r.add(u))}),r}ji(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Gi(e,t){return Hv()<=Ju.in.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Ip(t)),this.qi.getDocumentsMatchingQuery(e,t,Eo.min())}zi(e,t,r,s){return this.qi.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class mR{constructor(e,t,r,s){this.persistence=e,this.Wi=t,this.serializer=s,this.Hi=new Jr(Hn),this.Ji=new uc(u=>fd(u),Ph),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ie(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function JA(n,e,t,r){return new mR(n,e,t,r)}function ex(n,e){return HD.apply(this,arguments)}function HD(){return HD=(0,qe.Z)(function*(n,e){const t=Lt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],y=[];let I=Yn();for(const O of s){c.push(O.batchId);for(const V of O.mutations)I=I.add(V.key)}for(const O of u){y.push(O.batchId);for(const V of O.mutations)I=I.add(V.key)}return t.localDocuments.getDocuments(r,I).next(O=>({tr:O,removedBatchIds:c,addedBatchIds:y}))})})}),HD.apply(this,arguments)}function tx(n){const e=Lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function nx(n,e,t){let r=Yn(),s=Yn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=Co();return t.forEach((y,I)=>{const O=u.get(y);I.isFoundDocument()!==O.isFoundDocument()&&(s=s.add(y)),I.isNoDocument()&&I.version.isEqual(hn.min())?(e.removeEntry(y,I.readTime),c=c.insert(y,I)):!O.isValidDocument()||I.version.compareTo(O.version)>0||0===I.version.compareTo(O.version)&&O.hasPendingWrites?(e.addEntry(I),c=c.insert(y,I)):pt("LocalStore","Ignoring outdated watch update for ",y,". Current version:",O.version," Watch version:",I.version)}),{er:c,nr:s}})}function _R(n,e){const t=Lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fm(n,e){const t=Lt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Fs.getTargetData(r,e).next(u=>u?(s=u,Te.resolve(s)):t.Fs.allocateTargetId(r).next(c=>(s=new pa(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Hi.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}function Lm(n,e,t){return zD.apply(this,arguments)}function zD(){return zD=(0,qe.Z)(function*(n,e,t){const r=Lt(n),s=r.Hi.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!il(c))throw c;pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(s.target)}),zD.apply(this,arguments)}function EI(n,e,t){const r=Lt(n);let s=hn.min(),u=Yn();return r.persistence.runTransaction("Execute query","readonly",c=>function(y,I,O){const V=Lt(y),Q=V.Ji.get(O);return void 0!==Q?Te.resolve(V.Hi.get(Q)):V.Fs.getTargetData(I,O)}(r,c,Xs(e)).next(y=>{if(y)return s=y.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(c,y.targetId).next(I=>{u=I})}).next(()=>r.Wi.getDocumentsMatchingQuery(c,e,t?s:hn.min(),t?u:Yn())).next(y=>(sx(r,y_(e),y),{documents:y,sr:u})))}function rx(n,e){const t=Lt(n),r=Lt(t.Fs),s=t.Hi.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.he(u,e).next(c=>c?c.target:null))}function ix(n,e){const t=Lt(n),r=t.Yi.get(e)||hn.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Xi.getAllFromCollectionGroup(s,e,Zv(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(sx(t,e,s),s))}function sx(n,e,t){let r=n.Yi.get(e)||hn.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Yi.set(e,r)}function GD(){return GD=(0,qe.Z)(function*(n,e,t,r){const s=Lt(n);let u=Yn(),c=Co();for(const O of t){const V=e.ir(O.metadata.name);O.document&&(u=u.add(V));const Q=e.rr(O);Q.setReadTime(e.ur(O.metadata.readTime)),c=c.insert(V,Q)}const y=s.Xi.newChangeBuffer({trackRemovals:!0}),I=yield Fm(s,(O=r,Xs(_p(pr.fromString(`__bundle__/docs/${O}`)))));var O;return s.persistence.runTransaction("Apply bundle documents","readwrite",O=>nx(O,y,c).next(V=>(y.apply(O),V)).next(V=>s.Fs.removeMatchingKeysForTargetId(O,I.targetId).next(()=>s.Fs.addMatchingKeys(O,u,I.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(O,V.er,V.nr)).next(()=>V.er)))}),GD.apply(this,arguments)}function ER(n,e){return qD.apply(this,arguments)}function qD(){return qD=(0,qe.Z)(function*(n,e,t=Yn()){const r=yield Fm(n,Xs(z_(e.bundledQuery))),s=Lt(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const c=Hi(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return s.Ls.saveNamedQuery(u,e);const y=r.withResumeToken(ls.EMPTY_BYTE_STRING,c);return s.Hi=s.Hi.insert(y.targetId,y),s.Fs.updateTargetData(u,y).next(()=>s.Fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Fs.addMatchingKeys(u,t,r.targetId)).next(()=>s.Ls.saveNamedQuery(u,e))})}),qD.apply(this,arguments)}function ox(n,e){return`firestore_clients_${n}_${e}`}function ax(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function WD(n,e){return`firestore_targets_${n}_${e}`}class II{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static cr(e,t,r){const s=JSON.parse(r);let u,c="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(u=new lt(s.error.code,s.error.message))),c?new II(e,t,s.state,u):(ji("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class J_{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static cr(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new lt(r.error.code,r.error.message))),u?new J_(e,r.state,s):(ji("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class CI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=w_();for(let c=0;s&&c<r.activeTargetIds.length;++c)s=Xv(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return s?new CI(e,u):(ji("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ZD{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ZD(t.clientId,t.onlineState):(ji("SharedClientState",`Failed to parse online state: ${e}`),null)}}class KD{constructor(){this.activeTargetIds=w_()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YD{constructor(e,t,r,s,u){this.window=e,this.si=t,this.persistenceKey=r,this.dr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Jr(Hn),this.started=!1,this.gr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.yr=ox(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new KD),this.Ir=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(y){return`firestore_bundle_loaded_v2_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,qe.Z)(function*(){const t=yield e.syncEngine.Mi();for(const s of t){if(s===e.dr)continue;const u=e.getItem(ox(e.persistenceKey,s));if(u){const c=CI.cr(s,u);c&&(e.mr=e.mr.insert(c.clientId,c))}}e.vr();const r=e.storage.getItem(e.Ar);if(r){const s=e.Pr(r);s&&e.br(s)}for(const s of e.gr)e.wr(s);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,r){this.Sr(e,t,r),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(WD(this.persistenceKey,e));if(r){const s=J_.cr(e,r);s&&(t=s.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(WD(this.persistenceKey,e))}updateQueryState(e,t,r){this.Nr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Dr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pt("SharedClientState","READ",e,t),t}setItem(e,t){pt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){pt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(pt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.yr)return void ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,qe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ir.test(r.key)){if(null==r.newValue){const s=t.Or(r.key);return t.$r(s,null)}{const s=t.Fr(r.key,r.newValue);if(s)return t.$r(s.clientId,s)}}else if(t.Tr.test(r.key)){if(null!==r.newValue){const s=t.Br(r.key,r.newValue);if(s)return t.Lr(s)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const s=t.qr(r.key,r.newValue);if(s)return t.Ur(s)}}else if(r.key===t.Ar){if(null!==r.newValue){const s=t.Pr(r.newValue);if(s)return t.br(s)}}else if(r.key===t.pr){const s=function(u){let c=Uo.ct;if(null!=u)try{const y=JSON.parse(u);tn("number"==typeof y),c=y}catch(y){ji("SharedClientState","Failed to read sequence number from WebStorage",y)}return c}(r.newValue);s!==Uo.ct&&t.sequenceNumberHandler(s)}else if(r.key===t.Rr){const s=t.Kr(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Gr(u)))}}else t.gr.push(r)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,r){const s=new II(this.currentUser,e,t,r),u=ax(this.persistenceKey,this.currentUser,e);this.setItem(u,s.ar())}Dr(e){const t=ax(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,r){const s=WD(this.persistenceKey,e),u=new J_(e,t,r);this.setItem(s,u.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const r=this.Or(e);return CI.cr(r,t)}Br(e,t){const r=this.Tr.exec(e),s=Number(r[1]);return II.cr(new Bi(void 0!==r[2]?r[2]:null),s,t)}qr(e,t){const r=this.Er.exec(e),s=Number(r[1]);return J_.cr(s,t)}Pr(e){return ZD.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,qe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);pt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const r=t?this.mr.insert(e,t):this.mr.remove(e),s=this.Vr(this.mr),u=this.Vr(r),c=[],y=[];return u.forEach(I=>{s.has(I)||c.push(I)}),s.forEach(I=>{u.has(I)||y.push(I)}),this.syncEngine.zr(c,y).then(()=>{this.mr=r})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=w_();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class ux{constructor(){this.Wr=new KD,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new KD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IR{Jr(e){}shutdown(){}}class lx{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bI=null;function QD(){return null===bI?bI=268435456+Math.round(2147483648*Math.random()):bI++,"0x"+bI.toString(16)}const CR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bR{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Do="WebChannelConnection";class DR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,s,u){const c=QD(),y=this.Io(e,t);pt("RestConnection",`Sending RPC '${e}' ${c}:`,y,r);const I={};return this.To(I,s,u),this.Eo(e,y,I,r).then(O=>(pt("RestConnection",`Received RPC '${e}' ${c}: `,O),O),O=>{throw Vo("RestConnection",`RPC '${e}' ${c} failed with error: `,O,"url: ",y,"request:",r),O})}Ao(e,t,r,s,u,c){return this.po(e,t,r,s,u)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Dh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}Io(e,t){return`${this.wo}/v1/${t}:${CR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,s){const u=QD();return new Promise((c,y)=>{const I=new lE;I.setWithCredentials(!0),I.listenOnce(aE.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case Jg.NO_ERROR:const V=I.getResponseJson();pt(Do,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(V)),c(V);break;case Jg.TIMEOUT:pt(Do,`RPC '${e}' ${u} timed out`),y(new lt(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case Jg.HTTP_ERROR:const Q=I.getStatus();if(pt(Do,`RPC '${e}' ${u} failed with status:`,Q,"response text:",I.getResponseText()),Q>0){let le=I.getResponseJson();Array.isArray(le)&&(le=le[0]);const we=le?.error;if(we&&we.status&&we.message){const Ze=function(ht){const _t=ht.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(_t)>=0?_t:Pe.UNKNOWN}(we.status);y(new lt(Ze,we.message))}else y(new lt(Pe.UNKNOWN,"Server responded with status "+I.getStatus()))}else y(new lt(Pe.UNAVAILABLE,"Connection failed."));break;default:jt()}}finally{pt(Do,`RPC '${e}' ${u} completed.`)}});const O=JSON.stringify(s);pt(Do,`RPC '${e}' ${u} sending request:`,s),I.send(t,"POST",O,r,15)})}Ro(e,t,r){const s=QD(),u=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Ui(),y=OA(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(I.xmlHttpFactory=new uE({})),this.To(I.initMessageHeaders,t,r),I.encodeInitMessageHeaders=!0;const O=u.join("");pt(Do,`Creating RPC '${e}' stream ${s}: ${O}`,I);const V=c.createWebChannel(O,I);let Q=!1,le=!1;const we=new bR({io:ht=>{le?pt(Do,`Not sending because RPC '${e}' stream ${s} is closed:`,ht):(Q||(pt(Do,`Opening RPC '${e}' stream ${s} transport.`),V.open(),Q=!0),pt(Do,`RPC '${e}' stream ${s} sending:`,ht),V.send(ht))},ro:()=>V.close()}),Ze=(ht,_t,mn)=>{ht.listen(_t,Ln=>{try{mn(Ln)}catch(_n){setTimeout(()=>{throw _n},0)}})};return Ze(V,sp.EventType.OPEN,()=>{le||pt(Do,`RPC '${e}' stream ${s} transport opened.`)}),Ze(V,sp.EventType.CLOSE,()=>{le||(le=!0,pt(Do,`RPC '${e}' stream ${s} transport closed`),we.fo())}),Ze(V,sp.EventType.ERROR,ht=>{le||(le=!0,Vo(Do,`RPC '${e}' stream ${s} transport errored:`,ht),we.fo(new lt(Pe.UNAVAILABLE,"The operation could not be completed")))}),Ze(V,sp.EventType.MESSAGE,ht=>{var _t;if(!le){const mn=ht.data[0];tn(!!mn);const _n=mn.error||(null===(_t=mn[0])||void 0===_t?void 0:_t.error);if(_n){pt(Do,`RPC '${e}' stream ${s} received error:`,_n);const tr=_n.status;let rr=function(zo){const Jh=ns[zo];if(void 0!==Jh)return wD(Jh)}(tr),Tr=_n.message;void 0===rr&&(rr=Pe.INTERNAL,Tr="Unknown error status: "+tr+" with message "+_n.message),le=!0,we.fo(new lt(rr,Tr)),V.close()}else pt(Do,`RPC '${e}' stream ${s} received:`,mn),we._o(mn)}}),Ze(y,Hb.STAT_EVENT,ht=>{ht.stat===$v.PROXY?pt(Do,`RPC '${e}' stream ${s} detected buffering proxy`):ht.stat===$v.NOPROXY&&pt(Do,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{we.lo()},0),we}}function cx(){return typeof window<"u"?window:null}function DI(){return typeof document<"u"?document:null}function e0(n){return new N_(n,!0)}class XD{constructor(e,t,r=1e3,s=1.5,u=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=s,this.bo=u,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),s=Math.max(0,t-r);s>0&&pt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class dx{constructor(e,t,r,s,u,c,y,I){this.si=e,this.Mo=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=y,this.listener=I,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new XD(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,qe.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,qe.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,qe.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===Pe.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===Pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.$o===t&&this.Xo(r,s)},r=>{e(()=>{const s=new lt(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(s)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(s=>{r(()=>this.Zo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,qe.Z)(function*(){e.state=0,e.start()}))}Zo(e){return pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TR extends dx{constructor(e,t,r,s,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=u}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function DD(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(I=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:jt(),s=e.targetChange.targetIds||[],u=function(I,O){return I.useProto3Json?(tn(void 0===O||"string"==typeof O),ls.fromBase64String(O||"")):(tn(void 0===O||O instanceof Uint8Array),ls.fromUint8Array(O||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,y=c&&function(I){const O=void 0===I.code?Pe.UNKNOWN:wD(I.code);return new lt(O,I.message||"")}(c);t=new Sm(r,s,u,y||null)}else if("documentChange"in e){const r=e.documentChange,s=fa(n,r.document.name),u=Hi(r.document.updateTime),c=r.document.createTime?Hi(r.document.createTime):hn.min(),y=new Ms({mapValue:{fields:r.document.fields}}),I=si.newFoundDocument(s,u,c,y);t=new bo(r.targetIds||[],r.removedTargetIds||[],I.key,I)}else if("documentDelete"in e){const r=e.documentDelete,s=fa(n,r.document),u=r.readTime?Hi(r.readTime):hn.min(),c=si.newNoDocument(s,u);t=new bo([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,s=fa(n,r.document);t=new bo([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return jt();{const r=e.filter,{count:s=0,unchangedNames:u}=r,c=new _D(s,u);t=new QE(r.targetId,c)}}var I;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return hn.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?hn.min():u.readTime?Hi(u.readTime):hn.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=Vh(this.serializer),t.addTarget=function(s,u){let c;const y=u.target;if(c=vm(y)?{documents:V_(s,y)}:{query:rI(s,y)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=eI(s,u.resumeToken);const I=Am(s,u.expectedCount);null!==I&&(c.expectedCount=I)}else if(u.snapshotVersion.compareTo(hn.min())>0){c.readTime=vd(s,u.snapshotVersion.toTimestamp());const I=Am(s,u.expectedCount);null!==I&&(c.expectedCount=I)}return c}(this.serializer,e);const r=function SD(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=Vh(this.serializer),t.removeTarget=e,this.zo(t)}}class SR extends dx{constructor(e,t,r,s,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=u,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function TD(n,e){return n&&n.length>0?(tn(void 0!==e),n.map(t=>function(r,s){let u=Hi(r.updateTime?r.updateTime:s);return u.isEqual(hn.min())&&(u=Hi(s)),new LA(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Hi(e.commitTime);return this.listener.uu(r,t)}return tn(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Vh(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Rp(this.serializer,r))};this.zo(t)}}class AR extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.hu=!1}lu(){if(this.hu)throw new lt(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.po(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new lt(Pe.UNKNOWN,s.toString())})}Ao(e,t,r,s){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Ao(e,t,r,u,c,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(Pe.UNKNOWN,u.toString())})}terminate(){this.hu=!0}}class MR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(ji(t),this.wu=!1):pt("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class RR{constructor(e,t,r,s,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=u,this.vu.Jr(y=>{r.enqueueAndForget((0,qe.Z)(function*(){var I;zh(c)&&(pt("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,qe.Z)(function*(O){const V=Lt(O);V.Au.add(4),yield Vm(V),V.Pu.set("Unknown"),V.Au.delete(4),yield t0(V)}),function(O){return I.apply(this,arguments)})(c))}))}),this.Pu=new MR(r,s)}}function t0(n){return eT.apply(this,arguments)}function eT(){return eT=(0,qe.Z)(function*(n){if(zh(n))for(const e of n.Ru)yield e(!0)}),eT.apply(this,arguments)}function Vm(n){return tT.apply(this,arguments)}function tT(){return tT=(0,qe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),tT.apply(this,arguments)}function TI(n,e){const t=Lt(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),iT(t)?rT(t):Bm(t).Uo()&&nT(t,e))}function n0(n,e){const t=Lt(n),r=Bm(t);t.Eu.delete(e),r.Uo()&&hx(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():zh(t)&&t.Pu.set("Unknown"))}function nT(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(hn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bm(n).nu(e)}function hx(n,e){n.bu.Lt(e),Bm(n).su(e)}function rT(n){n.bu=new jA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),Bm(n).start(),n.Pu.mu()}function iT(n){return zh(n)&&!Bm(n).qo()&&n.Eu.size>0}function zh(n){return 0===Lt(n).Au.size}function fx(n){n.bu=void 0}function OR(n){return sT.apply(this,arguments)}function sT(){return sT=(0,qe.Z)(function*(n){n.Eu.forEach((e,t)=>{nT(n,e)})}),sT.apply(this,arguments)}function NR(n,e){return oT.apply(this,arguments)}function oT(){return oT=(0,qe.Z)(function*(n,e){fx(n),iT(n)?(n.Pu.pu(e),rT(n)):n.Pu.set("Unknown")}),oT.apply(this,arguments)}function PR(n,e,t){return aT.apply(this,arguments)}function aT(){return aT=(0,qe.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof Sm&&2===e.state&&e.cause)try{yield(r=(0,qe.Z)(function*(s,u){const c=u.cause;for(const y of u.targetIds)s.Eu.has(y)&&(yield s.remoteSyncer.rejectListen(y,c),s.Eu.delete(y),s.bu.removeTarget(y))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield SI(n,r)}else if(e instanceof bo?n.bu.Wt(e):e instanceof QE?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(hn.min()))try{const r=yield tx(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const c=s.bu.ue(u);return c.targetChanges.forEach((y,I)=>{if(y.resumeToken.approximateByteSize()>0){const O=s.Eu.get(I);O&&s.Eu.set(I,O.withResumeToken(y.resumeToken,u))}}),c.targetMismatches.forEach((y,I)=>{const O=s.Eu.get(y);if(!O)return;s.Eu.set(y,O.withResumeToken(ls.EMPTY_BYTE_STRING,O.snapshotVersion)),hx(s,y);const V=new pa(O.target,y,I,O.sequenceNumber);nT(s,V)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){pt("RemoteStore","Failed to raise snapshot:",r),yield SI(n,r)}var r}),aT.apply(this,arguments)}function SI(n,e,t){return uT.apply(this,arguments)}function uT(){return uT=(0,qe.Z)(function*(n,e,t){if(!il(e))throw e;n.Au.add(1),yield Vm(n),n.Pu.set("Offline"),t||(t=()=>tx(n.localStore)),n.asyncQueue.enqueueRetryable((0,qe.Z)(function*(){pt("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield t0(n)}))}),uT.apply(this,arguments)}function px(n,e){return e().catch(t=>SI(n,t,e))}function Um(n){return lT.apply(this,arguments)}function lT(){return lT=(0,qe.Z)(function*(n){const e=Lt(n),t=Gh(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;kR(e);)try{const s=yield _R(e.localStore,r);if(null===s){0===e.Tu.length&&t.Qo();break}r=s.batchId,FR(e,s)}catch(s){yield SI(e,s)}gx(e)&&mx(e)}),lT.apply(this,arguments)}function kR(n){return zh(n)&&n.Tu.length<10}function FR(n,e){n.Tu.push(e);const t=Gh(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function gx(n){return zh(n)&&!Gh(n).qo()&&n.Tu.length>0}function mx(n){Gh(n).start()}function LR(n){return cT.apply(this,arguments)}function cT(){return cT=(0,qe.Z)(function*(n){Gh(n).au()}),cT.apply(this,arguments)}function VR(n){return dT.apply(this,arguments)}function dT(){return dT=(0,qe.Z)(function*(n){const e=Gh(n);for(const t of n.Tu)e.ou(t.mutations)}),dT.apply(this,arguments)}function UR(n,e,t){return hT.apply(this,arguments)}function hT(){return hT=(0,qe.Z)(function*(n,e,t){const r=n.Tu.shift(),s=x_.from(r,e,t);yield px(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Um(n)}),hT.apply(this,arguments)}function BR(n,e){return fT.apply(this,arguments)}function fT(){return fT=(0,qe.Z)(function*(n,e){var t;e&&Gh(n).ru&&(yield(t=(0,qe.Z)(function*(r,s){if(WE(u=s.code)&&u!==Pe.ABORTED){const c=r.Tu.shift();Gh(r).Go(),yield px(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,s)),yield Um(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),gx(n)&&mx(n)}),fT.apply(this,arguments)}function yx(n,e){return pT.apply(this,arguments)}function pT(){return pT=(0,qe.Z)(function*(n,e){const t=Lt(n);t.asyncQueue.verifyOperationInProgress(),pt("RemoteStore","RemoteStore received new credentials");const r=zh(t);t.Au.add(3),yield Vm(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield t0(t)}),pT.apply(this,arguments)}function gT(n,e){return mT.apply(this,arguments)}function mT(){return mT=(0,qe.Z)(function*(n,e){const t=Lt(n);e?(t.Au.delete(2),yield t0(t)):e||(t.Au.add(2),yield Vm(t),t.Pu.set("Unknown"))}),mT.apply(this,arguments)}function Bm(n){return n.Vu||(n.Vu=function(e,t,r){const s=Lt(e);return s.lu(),new TR(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{oo:OR.bind(null,n),co:NR.bind(null,n),eu:PR.bind(null,n)}),n.Ru.push(function(){var e=(0,qe.Z)(function*(t){t?(n.Vu.Go(),iT(n)?rT(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),fx(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function Gh(n){return n.Su||(n.Su=function(e,t,r){const s=Lt(e);return s.lu(),new SR(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{oo:LR.bind(null,n),co:BR.bind(null,n),cu:VR.bind(null,n),uu:UR.bind(null,n)}),n.Ru.push(function(){var e=(0,qe.Z)(function*(t){t?(n.Su.Go(),yield Um(n)):(yield n.Su.stop(),n.Tu.length>0&&(pt("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class yT{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,s,u){const c=Date.now()+r,y=new yT(e,t,c,s,u);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lt(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(n,e){if(ji("AsyncQueue",`${e}: ${n}`),il(n))return new lt(Pe.UNAVAILABLE,`${e}: ${n}`);throw n}class $m{constructor(e){this.comparator=e?(t,r)=>e(t,r)||kt.comparator(t.key,r.key):(t,r)=>kt.comparator(t.key,r.key),this.keyedMap=Su(),this.sortedSet=new Jr(this.comparator)}static emptySet(e){return new $m(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $m)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new $m;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class vx{constructor(){this.Du=new Jr(kt.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):jt():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class Hm{constructor(e,t,r,s,u,c,y,I,O){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=y,this.excludesMetadataChanges=I,this.hasCachedResults=O}static fromInitialDocuments(e,t,r,s,u){const c=[];return t.forEach(y=>{c.push({type:0,doc:y})}),new Hm(e,t,$m.emptySet(t),c,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class jR{constructor(){this.xu=void 0,this.listeners=[]}}class $R{constructor(){this.queries=new uc(e=>LE(e),Ep),this.onlineState="Unknown",this.Nu=new Set}}function vT(n,e){return _T.apply(this,arguments)}function _T(){return _T=(0,qe.Z)(function*(n,e){const t=Lt(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new jR),s)try{u.xu=yield t.onListen(r)}catch(c){const y=jm(c,`Initialization of query '${Ip(e.query)}' failed`);return void e.onError(y)}t.queries.set(r,u),u.listeners.push(e),e.ku(t.onlineState),u.xu&&e.Mu(u.xu)&&IT(t)}),_T.apply(this,arguments)}function wT(n,e){return ET.apply(this,arguments)}function ET(){return ET=(0,qe.Z)(function*(n,e){const t=Lt(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),ET.apply(this,arguments)}function HR(n,e){const t=Lt(n);let r=!1;for(const s of e){const c=t.queries.get(s.query);if(c){for(const y of c.listeners)y.Mu(s)&&(r=!0);c.xu=s}}r&&IT(t)}function zR(n,e,t){const r=Lt(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function IT(n){n.Nu.forEach(e=>{e.next()})}class CT{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new Hm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Hm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class GR{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class _x{constructor(e){this.serializer=e}ir(e){return fa(this.serializer,e)}rr(e){return e.metadata.exists?nI(this.serializer,e.document,!1):si.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return Hi(e)}}class qR{constructor(e,t,r){this.Qu=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wx(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const r=pr.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,r=new _x(this.serializer);for(const s of e)if(s.metadata.queries){const u=r.ir(s.metadata.name);for(const c of s.metadata.queries){const y=(t.get(c)||Yn()).add(u);t.set(c,y)}}return t}complete(){var e=this;return(0,qe.Z)(function*(){const t=yield function wR(n,e,t,r){return GD.apply(this,arguments)}(e.localStore,new _x(e.serializer),e.documents,e.Qu.id),r=e.zu(e.documents);for(const s of e.queries)yield ER(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function wx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Ex{constructor(e){this.key=e}}class Ix{constructor(e){this.key=e}}class Cx{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Yn(),this.mutatedKeys=Yn(),this.Zu=Cp(e),this.tc=new $m(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new vx,s=t?t.tc:this.tc;let u=t?t.mutatedKeys:this.mutatedKeys,c=s,y=!1;const I="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,O="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((V,Q)=>{const le=s.get(V),we=kh(this.query,Q)?Q:null,Ze=!!le&&this.mutatedKeys.has(le.key),ht=!!we&&(we.hasLocalMutations||this.mutatedKeys.has(we.key)&&we.hasCommittedMutations);let _t=!1;le&&we?le.data.isEqual(we.data)?Ze!==ht&&(r.track({type:3,doc:we}),_t=!0):this.ic(le,we)||(r.track({type:2,doc:we}),_t=!0,(I&&this.Zu(we,I)>0||O&&this.Zu(we,O)<0)&&(y=!0)):!le&&we?(r.track({type:0,doc:we}),_t=!0):le&&!we&&(r.track({type:1,doc:le}),_t=!0,(I||O)&&(y=!0)),_t&&(we?(c=c.add(we),u=ht?u.add(V):u.delete(V)):(c=c.delete(V),u=u.delete(V)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const V="F"===this.query.limitType?c.last():c.first();c=c.delete(V.key),u=u.delete(V.key),r.track({type:1,doc:V})}return{tc:c,sc:r,ji:y,mutatedKeys:u}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const u=e.sc.Cu();u.sort((O,V)=>function(Q,le){const we=Ze=>{switch(Ze){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt()}};return we(Q)-we(le)}(O.type,V.type)||this.Zu(O.doc,V.doc)),this.rc(r);const c=t?this.oc():[],y=0===this.Xu.size&&this.current?1:0,I=y!==this.Yu;return this.Yu=y,0!==u.length||I?{snapshot:new Hm(this.query,e.tc,s,u,e.mutatedKeys,0===y,I,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:c}:{uc:c}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new vx,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Yn(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new Ix(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new Ex(r))}),t}ac(e){this.Ju=e.sr,this.Xu=Yn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Hm.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class WR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ZR{constructor(e){this.key=e,this.lc=!1}}class KR{constructor(e,t,r,s,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.fc={},this.dc=new uc(y=>LE(y),Ep),this._c=new Map,this.wc=new Set,this.mc=new Jr(kt.comparator),this.gc=new Map,this.yc=new Ft,this.Ic={},this.Tc=new Map,this.Ec=$h.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function YR(n,e){return bT.apply(this,arguments)}function bT(){return bT=(0,qe.Z)(function*(n,e){const t=WT(n);let r,s;const u=t.dc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.hc();else{const c=yield Fm(t.localStore,Xs(e)),y=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,s=yield DT(t,e,r,"current"===y,c.resumeToken),t.isPrimaryClient&&TI(t.remoteStore,c)}return s}),bT.apply(this,arguments)}function DT(n,e,t,r,s){return TT.apply(this,arguments)}function TT(){return TT=(0,qe.Z)(function*(n,e,t,r,s){n.Rc=(Q,le,we)=>{return(Ze=(0,qe.Z)(function*(ht,_t,mn,Ln){let _n=_t.view.nc(mn);_n.ji&&(_n=yield EI(ht.localStore,_t.query,!1).then(({documents:Tr})=>_t.view.nc(Tr,_n)));const tr=Ln&&Ln.targetChanges.get(_t.targetId),rr=_t.view.applyChanges(_n,ht.isPrimaryClient,tr);return FT(ht,_t.targetId,rr.uc),rr.snapshot}),function(ht,_t,mn,Ln){return Ze.apply(this,arguments)})(n,Q,le,we);var Ze};const u=yield EI(n.localStore,e,!0),c=new Cx(e,u.sr),y=c.nc(u.documents),I=Tm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),O=c.applyChanges(y,n.isPrimaryClient,I);FT(n,t,O.uc);const V=new WR(e,t,c);return n.dc.set(e,V),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),O.snapshot}),TT.apply(this,arguments)}function QR(n,e){return ST.apply(this,arguments)}function ST(){return ST=(0,qe.Z)(function*(n,e){const t=Lt(n),r=t.dc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!Ep(u,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Lm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),n0(t.remoteStore,r.targetId),zm(t,r.targetId)}).catch(rl))):(zm(t,r.targetId),yield Lm(t.localStore,r.targetId,!0))}),ST.apply(this,arguments)}function AT(){return AT=(0,qe.Z)(function*(n,e,t){const r=ZT(n);try{const s=yield function(u,c){const y=Lt(u),I=jr.now(),O=c.reduce((le,we)=>le.add(we.key),Yn());let V,Q;return y.persistence.runTransaction("Locally write mutations","readwrite",le=>{let we=Co(),Ze=Yn();return y.Xi.getEntries(le,O).next(ht=>{we=ht,we.forEach((_t,mn)=>{mn.isValidDocument()||(Ze=Ze.add(_t))})}).next(()=>y.localDocuments.getOverlayedDocuments(le,we)).next(ht=>{V=ht;const _t=[];for(const mn of c){const Ln=UA(mn,V.get(mn.key).overlayedDocument);null!=Ln&&_t.push(new Au(mn.key,Ln,SE(Ln.value.mapValue),Si.exists(!0)))}return y.mutationQueue.addMutationBatch(le,I,_t,c)}).next(ht=>{Q=ht;const _t=ht.applyToLocalDocumentSet(V,Ze);return y.documentOverlayCache.saveOverlays(le,ht.batchId,_t)})}).then(()=>({batchId:Q.batchId,changes:UE(V)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,c,y){let I=u.Ic[u.currentUser.toKey()];I||(I=new Jr(Hn)),I=I.insert(c,y),u.Ic[u.currentUser.toKey()]=I}(r,s.batchId,t),yield bd(r,s.changes),yield Um(r.remoteStore)}catch(s){const u=jm(s,"Failed to persist write");t.reject(u)}}),AT.apply(this,arguments)}function bx(n,e){return xT.apply(this,arguments)}function xT(){return xT=(0,qe.Z)(function*(n,e){const t=Lt(n);try{const r=yield function vR(n,e){const t=Lt(n),r=e.snapshotVersion;let s=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Xi.newChangeBuffer({trackRemovals:!0});s=t.Hi;const y=[];e.targetChanges.forEach((V,Q)=>{const le=s.get(Q);if(!le)return;y.push(t.Fs.removeMatchingKeys(u,V.removedDocuments,Q).next(()=>t.Fs.addMatchingKeys(u,V.addedDocuments,Q)));let we=le.withSequenceNumber(u.currentSequenceNumber);var Ze,ht,_t;null!==e.targetMismatches.get(Q)?we=we.withResumeToken(ls.EMPTY_BYTE_STRING,hn.min()).withLastLimboFreeSnapshotVersion(hn.min()):V.resumeToken.approximateByteSize()>0&&(we=we.withResumeToken(V.resumeToken,r)),s=s.insert(Q,we),ht=we,_t=V,(0===(Ze=le).resumeToken.approximateByteSize()||ht.snapshotVersion.toMicroseconds()-Ze.snapshotVersion.toMicroseconds()>=3e8||_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0)&&y.push(t.Fs.updateTargetData(u,we))});let I=Co(),O=Yn();if(e.documentUpdates.forEach(V=>{e.resolvedLimboDocuments.has(V)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(u,V))}),y.push(nx(u,c,e.documentUpdates).next(V=>{I=V.er,O=V.nr})),!r.isEqual(hn.min())){const V=t.Fs.getLastRemoteSnapshotVersion(u).next(Q=>t.Fs.setTargetsMetadata(u,u.currentSequenceNumber,r));y.push(V)}return Te.waitFor(y).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,I,O)).next(()=>I)}).then(u=>(t.Hi=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const c=t.gc.get(u);c&&(tn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.lc=!0:s.modifiedDocuments.size>0?tn(c.lc):s.removedDocuments.size>0&&(tn(c.lc),c.lc=!1))}),yield bd(t,r,e)}catch(r){yield rl(r)}}),xT.apply(this,arguments)}function Dx(n,e,t){const r=Lt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.dc.forEach((u,c)=>{const y=c.view.ku(e);y.snapshot&&s.push(y.snapshot)}),function(u,c){const y=Lt(u);y.onlineState=c;let I=!1;y.queries.forEach((O,V)=>{for(const Q of V.listeners)Q.ku(c)&&(I=!0)}),I&&IT(y)}(r.eventManager,e),s.length&&r.fc.eu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function JR(n,e,t){return MT.apply(this,arguments)}function MT(){return MT=(0,qe.Z)(function*(n,e,t){const r=Lt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.gc.get(e),u=s&&s.key;if(u){let c=new Jr(kt.comparator);c=c.insert(u,si.newNoDocument(u,hn.min()));const y=Yn().add(u),I=new Lh(hn.min(),new Map,new Jr(Hn),c,y);yield bx(r,I),r.mc=r.mc.remove(u),r.gc.delete(e),LT(r)}else yield Lm(r.localStore,e,!1).then(()=>zm(r,e,t)).catch(rl)}),MT.apply(this,arguments)}function eO(n,e){return RT.apply(this,arguments)}function RT(){return RT=(0,qe.Z)(function*(n,e){const t=Lt(n),r=e.batch.batchId;try{const s=yield function yR(n,e){const t=Lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Xi.newChangeBuffer({trackRemovals:!0});return function(c,y,I,O){const V=I.batch,Q=V.keys();let le=Te.resolve();return Q.forEach(we=>{le=le.next(()=>O.getEntry(y,we)).next(Ze=>{const ht=I.docVersions.get(we);tn(null!==ht),Ze.version.compareTo(ht)<0&&(V.applyToRemoteDocument(Ze,I),Ze.isValidDocument()&&(Ze.setReadTime(I.commitVersion),O.addEntry(Ze)))})}),le.next(()=>c.mutationQueue.removeMutationBatch(y,V))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let y=Yn();for(let I=0;I<c.mutationResults.length;++I)c.mutationResults[I].transformResults.length>0&&(y=y.add(c.batch.mutations[I].key));return y}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);kT(t,r,null),PT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield bd(t,s)}catch(s){yield rl(s)}}),RT.apply(this,arguments)}function tO(n,e,t){return OT.apply(this,arguments)}function OT(){return OT=(0,qe.Z)(function*(n,e,t){const r=Lt(n);try{const s=yield function(u,c){const y=Lt(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let O;return y.mutationQueue.lookupMutationBatch(I,c).next(V=>(tn(null!==V),O=V.keys(),y.mutationQueue.removeMutationBatch(I,V))).next(()=>y.mutationQueue.performConsistencyCheck(I)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(I,O,c)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(I,O)).next(()=>y.localDocuments.getDocuments(I,O))})}(r.localStore,e);kT(r,e,t),PT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield bd(r,s)}catch(s){yield rl(s)}}),OT.apply(this,arguments)}function NT(){return NT=(0,qe.Z)(function*(n,e){const t=Lt(n);zh(t.remoteStore)||pt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=Lt(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>c.mutationQueue.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const s=t.Tc.get(r)||[];s.push(e),t.Tc.set(r,s)}catch(r){const s=jm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),NT.apply(this,arguments)}function PT(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function kT(n,e,t){const r=Lt(n);let s=r.Ic[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Ic[r.currentUser.toKey()]=s}}function zm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||Tx(n,r)})}function Tx(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(n0(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),LT(n))}function FT(n,e,t){for(const r of t)r instanceof Ex?(n.yc.addReference(r.key,e),rO(n,r)):r instanceof Ix?(pt("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||Tx(n,r.key)):jt()}function rO(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(pt("SyncEngine","New document in limbo: "+t),n.wc.add(r),LT(n))}function LT(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new kt(pr.fromString(e)),r=n.Ec.next();n.gc.set(r,new ZR(t)),n.mc=n.mc.insert(t,r),TI(n.remoteStore,new pa(Xs(_p(t.path)),r,"TargetPurposeLimboResolution",Uo.ct))}}function bd(n,e,t){return VT.apply(this,arguments)}function VT(){return VT=(0,qe.Z)(function*(n,e,t){const r=Lt(n),s=[],u=[],c=[];var y;r.dc.isEmpty()||(r.dc.forEach((y,I)=>{c.push(r.Rc(I,e,t).then(O=>{if((O||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(I.targetId,O?.fromCache?"not-current":"current"),O){s.push(O);const V=$D.Bi(I.targetId,O);u.push(V)}}))}),yield Promise.all(c),r.fc.eu(s),yield(y=(0,qe.Z)(function*(I,O){const V=Lt(I);try{yield V.persistence.runTransaction("notifyLocalViewChanges","readwrite",Q=>Te.forEach(O,le=>Te.forEach(le.$i,we=>V.persistence.referenceDelegate.addReference(Q,le.targetId,we)).next(()=>Te.forEach(le.Fi,we=>V.persistence.referenceDelegate.removeReference(Q,le.targetId,we)))))}catch(Q){if(!il(Q))throw Q;pt("LocalStore","Failed to update sequence numbers: "+Q)}for(const Q of O){const le=Q.targetId;if(!Q.fromCache){const we=V.Hi.get(le),ht=we.withLastLimboFreeSnapshotVersion(we.snapshotVersion);V.Hi=V.Hi.insert(le,ht)}}}),function(I,O){return y.apply(this,arguments)})(r.localStore,u))}),VT.apply(this,arguments)}function iO(n,e){return UT.apply(this,arguments)}function UT(){return UT=(0,qe.Z)(function*(n,e){const t=Lt(n);if(!t.currentUser.isEqual(e)){pt("SyncEngine","User change. New user:",e.toKey());const r=yield ex(t.localStore,e);t.currentUser=e,(s=t).Tc.forEach(c=>{c.forEach(y=>{y.reject(new lt(Pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield bd(t,r.tr)}var s}),UT.apply(this,arguments)}function sO(n,e){const t=Lt(n),r=t.gc.get(e);if(r&&r.lc)return Yn().add(r.key);{let s=Yn();const u=t._c.get(e);if(!u)return s;for(const c of u){const y=t.dc.get(c);s=s.unionWith(y.view.ec)}return s}}function oO(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,qe.Z)(function*(n,e){const t=Lt(n),r=yield EI(t.localStore,e.query,!0),s=e.view.ac(r);return t.isPrimaryClient&&FT(t,e.targetId,s.uc),s}),BT.apply(this,arguments)}function aO(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,qe.Z)(function*(n,e){const t=Lt(n);return ix(t.localStore,e).then(r=>bd(t,r))}),jT.apply(this,arguments)}function uO(n,e,t,r){return $T.apply(this,arguments)}function $T(){return $T=(0,qe.Z)(function*(n,e,t,r){const s=Lt(n),u=yield function(c,y){const I=Lt(c),O=Lt(I.mutationQueue);return I.persistence.runTransaction("Lookup mutation documents","readonly",V=>O.Vn(V,y).next(Q=>Q?I.localDocuments.getDocuments(V,Q):Te.resolve(null)))}(s.localStore,e);var y;null!==u?("pending"===t?yield Um(s.remoteStore):"acknowledged"===t||"rejected"===t?(kT(s,e,r||null),PT(s,e),y=e,Lt(Lt(s.localStore).mutationQueue).Dn(y)):jt(),yield bd(s,u)):pt("SyncEngine","Cannot apply mutation batch with id: "+e)}),$T.apply(this,arguments)}function HT(){return HT=(0,qe.Z)(function*(n,e){const t=Lt(n);if(WT(t),ZT(t),!0===e&&!0!==t.Ac){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield Sx(t,r.toArray());t.Ac=!0,yield gT(t.remoteStore,!0);for(const u of s)TI(t.remoteStore,u)}else if(!1===e&&!1!==t.Ac){const r=[];let s=Promise.resolve();t._c.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):s=s.then(()=>(zm(t,c),Lm(t.localStore,c,!0))),n0(t.remoteStore,c)}),yield s,yield Sx(t,r),function(u){const c=Lt(u);c.gc.forEach((y,I)=>{n0(c.remoteStore,I)}),c.yc.Is(),c.gc=new Map,c.mc=new Jr(kt.comparator)}(t),t.Ac=!1,yield gT(t.remoteStore,!1)}}),HT.apply(this,arguments)}function Sx(n,e,t){return zT.apply(this,arguments)}function zT(){return zT=(0,qe.Z)(function*(n,e,t){const r=Lt(n),s=[],u=[];for(const c of e){let y;const I=r._c.get(c);if(I&&0!==I.length){y=yield Fm(r.localStore,Xs(I[0]));for(const O of I){const V=r.dc.get(O),Q=yield oO(r,V);Q.snapshot&&u.push(Q.snapshot)}}else{const O=yield rx(r.localStore,c);y=yield Fm(r.localStore,O),yield DT(r,Ax(O),c,!1,y.resumeToken)}s.push(y)}return r.fc.eu(u),s}),zT.apply(this,arguments)}function Ax(n){return pD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function cO(n){const e=Lt(n);return Lt(Lt(e.localStore).persistence).Mi()}function dO(n,e,t,r){return GT.apply(this,arguments)}function GT(){return GT=(0,qe.Z)(function*(n,e,t,r){const s=Lt(n);if(s.Ac)return void pt("SyncEngine","Ignoring unexpected query state notification.");const u=s._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield ix(s.localStore,y_(u[0])),y=Lh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ls.EMPTY_BYTE_STRING);yield bd(s,c,y);break}case"rejected":yield Lm(s.localStore,e,!0),zm(s,e,r);break;default:jt()}}),GT.apply(this,arguments)}function hO(n,e,t){return qT.apply(this,arguments)}function qT(){return qT=(0,qe.Z)(function*(n,e,t){const r=WT(n);if(r.Ac){for(const s of e){if(r._c.has(s)){pt("SyncEngine","Adding an already active target "+s);continue}const u=yield rx(r.localStore,s),c=yield Fm(r.localStore,u);yield DT(r,Ax(u),c.targetId,!1,c.resumeToken),TI(r.remoteStore,c)}for(const s of t)r._c.has(s)&&(yield Lm(r.localStore,s,!1).then(()=>{n0(r.remoteStore,s),zm(r,s)}).catch(rl))}}),qT.apply(this,arguments)}function WT(n){const e=Lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JR.bind(null,e),e.fc.eu=HR.bind(null,e.eventManager),e.fc.vc=zR.bind(null,e.eventManager),e}function ZT(n){const e=Lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tO.bind(null,e),e}class r0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,qe.Z)(function*(){t.serializer=e0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return JA(this.persistence,new XA,e.initialUser,this.serializer)}createPersistence(e){return new Ai(vI.js,this.serializer)}createSharedClientState(e){return new ux}terminate(){var e=this;return(0,qe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class KT extends r0{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,qe.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield ZT(r.bc.syncEngine),yield Um(r.bc.remoteStore),yield r.persistence.pi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return JA(this.persistence,new XA,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new VD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new Jb(t,this.persistence);return new Xb(e.asyncQueue,r)}createPersistence(e){const t=jD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Us.withCacheSize(this.cacheSizeBytes):Us.DEFAULT;return new BD(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,cx(),DI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ux}}class xx extends KT{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,qe.Z)(function*(){yield t().call(r,e);const s=r.bc.syncEngine;r.sharedClientState instanceof YD&&(r.sharedClientState.syncEngine={Qr:uO.bind(null,s),jr:dO.bind(null,s),zr:hO.bind(null,s),Mi:cO.bind(null,s),Gr:aO.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.pi(function(){var u=(0,qe.Z)(function*(c){yield function lO(n,e){return HT.apply(this,arguments)}(r.bc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=cx();if(!YD.D(t))throw new lt(Pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=jD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new YD(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Gm{initialize(e,t){var r=this;return(0,qe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>Dx(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=iO.bind(null,r.syncEngine),yield gT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new $R}createDatastore(e){const t=e0(e.databaseInfo.databaseId),r=new DR(e.databaseInfo);return new AR(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=y=>Dx(this.syncEngine,y,0),c=lx.D()?new lx:new IR,new RR(t,r,s,u,c);var t,r,s,u,c}createSyncEngine(e,t){return function(r,s,u,c,y,I,O){const V=new KR(r,s,u,c,y,I);return O&&(V.Ac=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,qe.Z)(function*(t){const r=Lt(t);pt("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield Vm(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Mx(n,e=10240){let t=0;return{read:()=>(0,qe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,qe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class AI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class gO{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new ts,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(r=>{r&&r.Gu()?this.metadata.resolve(r.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Ku)}`))},r=>this.metadata.reject(r))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,qe.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,qe.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,qe.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const r=e.Cc.decode(t),s=Number(r);isNaN(s)&&e.kc(`length string (${r}) is not valid number`);const u=yield e.Mc(s);return new GR(JSON.parse(u),t.length+s)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,qe.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Mc(e){var t=this;return(0,qe.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const r=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,qe.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class mO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,qe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new lt(Pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,qe.Z)(function*(u,c){const y=Lt(u),I=Vh(y.serializer)+"/documents",O={documents:c.map(we=>Mp(y.serializer,we))},V=yield y.Ao("BatchGetDocuments",I,O,c.length),Q=new Map;V.forEach(we=>{const Ze=function $A(n,e){return"found"in e?function(t,r){tn(!!r.found);const s=fa(t,r.found.name),u=Hi(r.found.updateTime),c=r.found.createTime?Hi(r.found.createTime):hn.min(),y=new Ms({mapValue:{fields:r.found.fields}});return si.newFoundDocument(s,u,c,y)}(n,e):"missing"in e?function(t,r){tn(!!r.missing),tn(!!r.readTime);const s=fa(t,r.missing),u=Hi(r.readTime);return si.newNoDocument(s,u)}(n,e):jt()}(y.serializer,we);Q.set(Ze.key.toString(),Ze)});const le=[];return c.forEach(we=>{const Ze=Q.get(we.toString());tn(!!Ze),le.push(Ze)}),le}),function(u,c){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ap(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,qe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=kt.fromPath(s);e.mutations.push(new xp(u,e.precondition(u)))}),yield(r=(0,qe.Z)(function*(s,u){const c=Lt(s),y=Vh(c.serializer)+"/documents",I={writes:u.map(O=>Rp(c.serializer,O))};yield c.po("Commit",y,I)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw jt();t=hn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new lt(Pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(hn.min())?Si.exists(!1):Si.updateTime(t):Si.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(hn.min()))throw new lt(Pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Si.updateTime(t)}return Si.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class yO{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.Fc=r.maxAttempts,this.Lo=new XD(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,qe.Z)(function*(){const t=new mO(e.datastore),r=e.Lc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.qc(u)}))}).catch(s=>{e.qc(s)})}))}Lc(e){try{const t=this.updateFunction(e);return!hp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!WE(t)}return!1}}class vO{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Bi.UNAUTHENTICATED,this.clientId=op.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,qe.Z)(function*(y){pt("FirestoreClient","Received user=",y.uid),yield u.authCredentialListener(y),u.user=y});return function(y){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(pt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,qe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new lt(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,qe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=jm(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function xI(n,e){return YT.apply(this,arguments)}function YT(){return YT=(0,qe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),pt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,qe.Z)(function*(u){r.isEqual(u)||(yield ex(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),YT.apply(this,arguments)}function QT(n,e){return XT.apply(this,arguments)}function XT(){return XT=(0,qe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield JT(n);pt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>yx(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>yx(e.remoteStore,u)),n._onlineComponents=e}),XT.apply(this,arguments)}function Rx(n){return"FirebaseError"===n.name?n.code===Pe.FAILED_PRECONDITION||n.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function JT(n){return eS.apply(this,arguments)}function eS(){return eS=(0,qe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield xI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Rx(t))throw t;Vo("Error using user provided cache. Falling back to memory cache: "+t),yield xI(n,new r0)}}else pt("FirestoreClient","Using default OfflineComponentProvider"),yield xI(n,new r0);return n._offlineComponents}),eS.apply(this,arguments)}function MI(n){return tS.apply(this,arguments)}function tS(){return tS=(0,qe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield QT(n,n._uninitializedComponentsProvider._online)):(pt("FirestoreClient","Using default OnlineComponentProvider"),yield QT(n,new Gm))),n._onlineComponents}),tS.apply(this,arguments)}function Ox(n){return JT(n).then(e=>e.persistence)}function RI(n){return JT(n).then(e=>e.localStore)}function Nx(n){return MI(n).then(e=>e.remoteStore)}function nS(n){return MI(n).then(e=>e.syncEngine)}function qm(n){return rS.apply(this,arguments)}function rS(){return rS=(0,qe.Z)(function*(n){const e=yield MI(n),t=e.eventManager;return t.onListen=YR.bind(null,e.syncEngine),t.onUnlisten=QR.bind(null,e.syncEngine),t}),rS.apply(this,arguments)}function kx(n,e,t={}){const r=new ts;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function(s,u,c,y,I){const O=new AI({next:Q=>{u.enqueueAndForget(()=>wT(s,V));const le=Q.docs.has(c);!le&&Q.fromCache?I.reject(new lt(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):le&&Q.fromCache&&y&&"server"===y.source?I.reject(new lt(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(Q)},error:Q=>I.reject(Q)}),V=new CT(_p(c.path),O,{includeMetadataChanges:!0,Uu:!0});return vT(s,V)}(yield qm(n),n.asyncQueue,e,t,r)})),r.promise}function Fx(n,e,t={}){const r=new ts;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function(s,u,c,y,I){const O=new AI({next:Q=>{u.enqueueAndForget(()=>wT(s,V)),Q.fromCache&&"server"===y.source?I.reject(new lt(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(Q)},error:Q=>I.reject(Q)}),V=new CT(c,O,{includeMetadataChanges:!0,Uu:!0});return vT(s,V)}(yield qm(n),n.asyncQueue,e,t,r)})),r.promise}const Lx=new Map;function iS(n,e,t){if(!t)throw new lt(Pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Vx(n,e,t,r){if(!0===e&&!0===r)throw new lt(Pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ux(n){if(!kt.isDocumentKey(n))throw new lt(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Bx(n){if(kt.isDocumentKey(n))throw new lt(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":jt()}function gr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new lt(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=OI(n);throw new lt(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function jx(n,e){if(e<=0)throw new lt(Pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class $x{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new lt(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new lt(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class s0{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $x({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new lt(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new lt(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $x(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qb;switch(t.type){case"firstParty":return new NA(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new lt(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Lx.get(e);t&&(pt("ComponentProvider","Removing Datastore"),Lx.delete(e),t.terminate())}(this),Promise.resolve()}}function Hx(n,e,t,r={}){var s;const u=(n=gr(n,s0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Vo("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,y;if("string"==typeof r.mockUserToken)c=r.mockUserToken,y=Bi.MOCK_USER;else{c=(0,vr.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new lt(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Bi(I)}n._authCredentials=new dE(new Gv(c,y))}}class xi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xi(this.firestore,e,this._key)}}class Js{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Js(this.firestore,e,this._query)}}class fc extends Js{constructor(e,t,r){super(e,t,_p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xi(this.firestore,null,new kt(e))}withConverter(e){return new fc(this.firestore,e,this._path)}}function zx(n,e,...t){if(n=(0,vr.m9)(n),iS("collection","path",e),n instanceof s0){const r=pr.fromString(e,...t);return Bx(r),new fc(n,null,r)}{if(!(n instanceof xi||n instanceof fc))throw new lt(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pr.fromString(e,...t));return Bx(r),new fc(n.firestore,null,r)}}function NI(n,e,...t){if(n=(0,vr.m9)(n),1===arguments.length&&(e=op.A()),iS("doc","path",e),n instanceof s0){const r=pr.fromString(e,...t);return Ux(r),new xi(n,null,new kt(r))}{if(!(n instanceof xi||n instanceof fc))throw new lt(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pr.fromString(e,...t));return Ux(r),new xi(n.firestore,n instanceof fc?n.converter:null,new kt(r))}}function Gx(n,e){return n=(0,vr.m9)(n),e=(0,vr.m9)(e),(n instanceof xi||n instanceof fc)&&(e instanceof xi||e instanceof fc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function sS(n,e){return n=(0,vr.m9)(n),e=(0,vr.m9)(e),n instanceof Js&&e instanceof Js&&n.firestore===e.firestore&&Ep(n._query,e._query)&&n.converter===e.converter}class AO{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new XD(this,"async_queue_retry"),this.Yc=()=>{const t=DI();t&&pt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=DI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=DI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new ts;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,qe.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!il(t))throw t;pt("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,ji("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const s=yT.createAndSchedule(this,e,t,r,u=>this.ea(u));return this.jc.push(s),s}Xc(){this.zc&&jt()}verifyOperationInProgress(){}na(){var e=this;return(0,qe.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function oS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class xO{constructor(){this._progressObserver={},this._taskCompletionResolver=new ts,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Mi extends s0{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new AO,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qx(this),this._firestoreClient.terminate()}}function RO(n,e){const t="object"==typeof n?n:(0,Xu.getApp)(),r="string"==typeof n?n:e||"(default)",s=(0,Xu._getProvider)(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const u=(0,vr.P0)("firestore");u&&Hx(s,...u)}return s}function cs(n){return n._firestoreClient||qx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function qx(n){var e,t,r;const s=n._freezeSettings(),u=(y=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new lD(n._databaseId,y,n._persistenceKey,(O=s).host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,O.useFetchStreams));var y,O;n._firestoreClient=new vO(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function Wx(n,e,t){const r=new ts;return n.asyncQueue.enqueue((0,qe.Z)(function*(){try{yield xI(n,t),yield QT(n,e),r.resolve()}catch(s){const u=s;if(!Rx(u))throw u;Vo("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function Zx(n){if(n._initialized||n._terminated)throw new lt(Pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pc(ls.fromBase64String(e))}catch(t){throw new lt(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pc(ls.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new lt(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Up{constructor(e){this._methodName=e}}class PI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new lt(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new lt(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Hn(this._lat,e._lat)||Hn(this._long,e._long)}}const jO=/^__.*__$/;class $O{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Au(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tp(e,this.data,t,this.fieldTransforms)}}class Kx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Au(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Yx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt()}}class kI{constructor(e,t,r,s,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.oa(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new kI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ca({path:r,ha:!1});return s.la(e),s}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ca({path:r,ha:!1});return s.oa(),s}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return VI(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Yx(this.ua)&&jO.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class HO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||e0(e)}ga(e,t,r,s=!1){return new kI({ua:e,methodName:t,ma:r,path:Wi.emptyPath(),ha:!1,wa:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bp(n){const e=n._freezeSettings(),t=e0(n._databaseId);return new HO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FI(n,e,t,r,s,u={}){const c=n.ga(u.merge||u.mergeFields?2:0,e,t,s);cS("Data must be an object, but it was:",c,r);const y=Jx(r,c);let I,O;if(u.merge)I=new Io(c.fieldMask),O=c.fieldTransforms;else if(u.mergeFields){const V=[];for(const Q of u.mergeFields){const le=u0(e,Q,t);if(!c.contains(le))throw new lt(Pe.INVALID_ARGUMENT,`Field '${le}' is specified in your field mask but missing from your input data.`);t1(V,le)||V.push(le)}I=new Io(V),O=c.fieldTransforms.filter(Q=>I.covers(Q.field))}else I=null,O=c.fieldTransforms;return new $O(new Ms(y),I,O)}class a0 extends Up{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof a0}}function Qx(n,e,t){return new kI({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class aS extends Up{_toFieldTransform(e){return new Cm(e.path,new gd)}isEqual(e){return e instanceof aS}}class zO extends Up{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=Qx(this,e,!0),r=this.ya.map(u=>jp(u,t)),s=new md(r);return new Cm(e.path,s)}isEqual(e){return this===e}}class GO extends Up{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=Qx(this,e,!0),r=this.ya.map(u=>jp(u,t)),s=new lc(r);return new Cm(e.path,s)}isEqual(e){return this===e}}class qO extends Up{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new yd(e.serializer,BE(e.serializer,this.pa));return new Cm(e.path,t)}isEqual(e){return this===e}}function uS(n,e,t,r){const s=n.ga(1,e,t);cS("Data must be an object, but it was:",s,r);const u=[],c=Ms.empty();ec(r,(I,O)=>{const V=LI(e,I,t);O=(0,vr.m9)(O);const Q=s.fa(V);if(O instanceof a0)u.push(V);else{const le=jp(O,Q);null!=le&&(u.push(V),c.set(V,le))}});const y=new Io(u);return new Kx(c,y,s.fieldTransforms)}function lS(n,e,t,r,s,u){const c=n.ga(1,e,t),y=[u0(e,r,t)],I=[s];if(u.length%2!=0)throw new lt(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let le=0;le<u.length;le+=2)y.push(u0(e,u[le])),I.push(u[le+1]);const O=[],V=Ms.empty();for(let le=y.length-1;le>=0;--le)if(!t1(O,y[le])){const we=y[le];let Ze=I[le];Ze=(0,vr.m9)(Ze);const ht=c.fa(we);if(Ze instanceof a0)O.push(we);else{const _t=jp(Ze,ht);null!=_t&&(O.push(we),V.set(we,_t))}}const Q=new Io(O);return new Kx(V,Q,c.fieldTransforms)}function Xx(n,e,t,r=!1){return jp(t,n.ga(r?4:3,e))}function jp(n,e){if(e1(n=(0,vr.m9)(n)))return cS("Unsupported field value:",e,n),Jx(n,e);if(n instanceof Up)return function(t,r){if(!Yx(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const c of t){let y=jp(c,r.da(u));null==y&&(y={nullValue:"NULL_VALUE"}),s.push(y),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,vr.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return BE(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=jr.fromDate(t);return{timestampValue:vd(r.serializer,s)}}if(t instanceof jr){const s=new jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:vd(r.serializer,s)}}if(t instanceof PI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pc)return{bytesValue:eI(r.serializer,t._byteString)};if(t instanceof xi){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:P_(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${OI(t)}`)}(n,e)}function Jx(n,e){const t={};return CE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ec(n,(r,s)=>{const u=jp(s,e.aa(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function e1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof jr||n instanceof PI||n instanceof pc||n instanceof xi||n instanceof Up)}function cS(n,e,t){if(!e1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=OI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function u0(n,e,t){if((e=(0,vr.m9)(e))instanceof Dd)return e._internalPath;if("string"==typeof e)return LI(n,e);throw VI("Field path arguments must be of type string or ",n,!1,void 0,t)}const WO=new RegExp("[~\\*/\\[\\]]");function LI(n,e,t){if(e.search(WO)>=0)throw VI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dd(...e.split("."))._internalPath}catch{throw VI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function VI(n,e,t,r,s){const u=r&&!r.isEmpty(),c=void 0!==s;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let I="";return(u||c)&&(I+=" (found",u&&(I+=` in field ${r}`),c&&(I+=` in document ${s}`),I+=")"),new lt(Pe.INVALID_ARGUMENT,y+n+I)}function t1(n,e){return n.some(t=>t.isEqual(e))}class l0{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ZO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(UI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ZO extends l0{data(){return super.data()}}function UI(n,e){return"string"==typeof e?LI(n,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}function n1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new lt(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dS{}class c0 extends dS{}function qh(n,e,...t){let r=[];e instanceof dS&&r.push(e),r=r.concat(t),function(s){const u=s.filter(y=>y instanceof Wm).length,c=s.filter(y=>y instanceof d0).length;if(u>1||u>0&&c>0)throw new lt(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class d0 extends c0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new d0(e,t,r)}_apply(e){const t=this._parse(e);return o1(e._query,t),new Js(e.firestore,e.converter,_m(e._query,t))}_parse(e){const t=Bp(e.firestore);return function(s,u,c,y,I,O,V){let Q;if(I.isKeyField()){if("array-contains"===O||"array-contains-any"===O)throw new lt(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${O}' queries on documentId().`);if("in"===O||"not-in"===O){s1(V,O);const le=[];for(const we of V)le.push(i1(y,s,we));Q={arrayValue:{values:le}}}else Q=i1(y,s,V)}else"in"!==O&&"not-in"!==O&&"array-contains-any"!==O||s1(V,O),Q=Xx(c,"where",V,"in"===O||"not-in"===O);return nr.create(I,O,Q)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Wm extends dS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const c=s.getFlattenedFilters();for(const y of c)o1(u,y),u=_m(u,y)}(e._query,t),new Js(e.firestore,e.converter,_m(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hS extends c0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hS(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new lt(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new lt(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Nh(s,u);return function(y,I){if(null===wp(y)){const O=ac(y);null!==O&&a1(0,O,I.field)}}(r,c),c}(e._query,this._field,this._direction);return new Js(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new ul(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class BI extends c0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new BI(e,t,r)}_apply(e){return new Js(e.firestore,e.converter,wm(e._query,this._limit,this._limitType))}}class jI extends c0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new jI(e,t,r)}_apply(e){const t=r1(e,this.type,this._docOrFields,this._inclusive);return new Js(e.firestore,e.converter,(s=t,new ul((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class $I extends c0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new $I(e,t,r)}_apply(e){const t=r1(e,this.type,this._docOrFields,this._inclusive);return new Js(e.firestore,e.converter,(s=t,new ul((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function r1(n,e,t,r){if(t[0]=(0,vr.m9)(t[0]),t[0]instanceof l0)return function(s,u,c,y,I){if(!y)throw new lt(Pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const O=[];for(const V of ll(s))if(V.field.isKeyField())O.push(hd(u,y.key));else{const Q=y.data.field(V.field);if(dm(Q))throw new lt(Pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+V.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Q){const le=V.field.canonicalString();throw new lt(Pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${le}' (used as the orderBy) does not exist.`)}O.push(Q)}return new $a(O,I)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Bp(n.firestore);return function(u,c,y,I,O,V){const Q=u.explicitOrderBy;if(O.length>Q.length)throw new lt(Pe.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const le=[];for(let we=0;we<O.length;we++){const Ze=O[we];if(Q[we].field.isKeyField()){if("string"!=typeof Ze)throw new lt(Pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof Ze}`);if(!m_(u)&&-1!==Ze.indexOf("/"))throw new lt(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${I}() must be a plain document ID, but '${Ze}' contains a slash.`);const ht=u.path.child(pr.fromString(Ze));if(!kt.isDocumentKey(ht))throw new lt(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${I}() must result in a valid document path, but '${ht}' is not because it contains an odd number of segments.`);const _t=new kt(ht);le.push(hd(c,_t))}else{const ht=Xx(y,I,Ze);le.push(ht)}}return new $a(le,V)}(n._query,n.firestore._databaseId,s,e,t,r)}}function i1(n,e,t){if("string"==typeof(t=(0,vr.m9)(t))){if(""===t)throw new lt(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m_(e)&&-1!==t.indexOf("/"))throw new lt(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(pr.fromString(t));if(!kt.isDocumentKey(r))throw new lt(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hd(n,new kt(r))}if(t instanceof xi)return hd(n,t._key);throw new lt(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${OI(t)}.`)}function s1(n,e){if(!Array.isArray(n)||0===n.length)throw new lt(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o1(n,e){if(e.isInequality()){const r=ac(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new lt(Pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=wp(n);null!==u&&a1(0,s,u)}const t=function(r,s){for(const u of r)for(const c of u.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new lt(Pe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function a1(n,e,t){if(!t.isEqual(e))throw new lt(Pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class fS{convertValue(e,t="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw jt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ec(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new PI($i(e.latitude),$i(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=hm(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fp(e));default:return null}}convertTimestamp(e){const t=tc(e);return new jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pr.fromString(e);tn(Op(r));const s=new nc(r.get(1),r.get(3)),u=new kt(r.popFirst(5));return s.isEqual(t)||ji(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function HI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class rN extends fS{constructor(e){super(),this.firestore=e}convertBytes(e){return new pc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xi(this.firestore,null,t)}}class $p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Td extends l0{constructor(e,t,r,s,u,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new h0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(UI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class h0 extends Td{data(e={}){return super.data(e)}}class Wh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new $p(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new h0(this._firestore,this._userDataWriter,r.key,r,new $p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new lt(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new h0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new $p(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const y=new h0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new $p(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let I=-1,O=-1;return 0!==c.type&&(I=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),O=u.indexOf(c.doc.key)),{type:sN(c.type),doc:y,oldIndex:I,newIndex:O}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt()}}function l1(n,e){return n instanceof Td&&e instanceof Td?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Wh&&e instanceof Wh&&n._firestore===e._firestore&&sS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Zh extends fS{constructor(e){super(),this.firestore=e}convertBytes(e){return new pc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xi(this.firestore,null,t)}}function c1(n,e,t){n=gr(n,xi);const r=gr(n.firestore,Mi),s=HI(n.converter,e,t);return Zm(r,[FI(Bp(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Si.none())])}function d1(n,e,t,...r){n=gr(n,xi);const s=gr(n.firestore,Mi),u=Bp(s);let c;return c="string"==typeof(e=(0,vr.m9)(e))||e instanceof Dd?lS(u,"updateDoc",n._key,e,t,r):uS(u,"updateDoc",n._key,e),Zm(s,[c.toMutation(n._key,Si.exists(!0))])}function h1(n,...e){var t,r,s;n=(0,vr.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||oS(e[c])||(u=e[c],c++);const y={includeMetadataChanges:u.includeMetadataChanges};if(oS(e[c])){const Q=e[c];e[c]=null===(t=Q.next)||void 0===t?void 0:t.bind(Q),e[c+1]=null===(r=Q.error)||void 0===r?void 0:r.bind(Q),e[c+2]=null===(s=Q.complete)||void 0===s?void 0:s.bind(Q)}let I,O,V;if(n instanceof xi)O=gr(n.firestore,Mi),V=_p(n._key.path),I={next:Q=>{e[c]&&e[c](pS(O,n,Q))},error:e[c+1],complete:e[c+2]};else{const Q=gr(n,Js);O=gr(Q.firestore,Mi),V=Q._query;const le=new Zh(O);I={next:we=>{e[c]&&e[c](new Wh(O,le,Q,we))},error:e[c+1],complete:e[c+2]},n1(n._query)}return function(Q,le,we,Ze){const ht=new AI(Ze),_t=new CT(le,ht,we);return Q.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return vT(yield qm(Q),_t)})),()=>{ht.Sc(),Q.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return wT(yield qm(Q),_t)}))}}(cs(O),V,y,I)}function Zm(n,e){return function(t,r){const s=new ts;return t.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function XR(n,e,t){return AT.apply(this,arguments)}(yield nS(t),r,s)})),s.promise}(cs(n),e)}function pS(n,e,t){const r=t.docs.get(e._key),s=new Zh(n);return new Td(n,s,e._key,r,new $p(t.hasPendingWrites,t.fromCache),e.converter)}const CN={maxAttempts:5};class f1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bp(e)}set(e,t,r){this._verifyNotCommitted();const s=Kh(e,this._firestore),u=HI(s.converter,t,r),c=FI(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(c.toMutation(s._key,Si.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=Kh(e,this._firestore);let c;return c="string"==typeof(t=(0,vr.m9)(t))||t instanceof Dd?lS(this._dataReader,"WriteBatch.update",u._key,t,r,s):uS(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,Si.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kh(e,this._firestore);return this._mutations=this._mutations.concat(new Ap(t._key,Si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(Pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kh(n,e){if((n=(0,vr.m9)(n)).firestore!==e)throw new lt(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class bN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bp(e)}get(e){const t=Kh(e,this._firestore),r=new rN(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return jt();const u=s[0];if(u.isFoundDocument())return new l0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new l0(this._firestore,r,t._key,null,t.converter);throw jt()})}set(e,t,r){const s=Kh(e,this._firestore),u=HI(s.converter,t,r),c=FI(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,c),this}update(e,t,r,...s){const u=Kh(e,this._firestore);let c;return c="string"==typeof(t=(0,vr.m9)(t))||t instanceof Dd?lS(this._dataReader,"Transaction.update",u._key,t,r,s):uS(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=Kh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kh(e,this._firestore),r=new Zh(this._firestore);return super.get(e).then(s=>new Td(this._firestore,r,t._key,s._document,new $p(!1,!1),t.converter))}}!function(n,e=!0){Dh=Xu.SDK_VERSION,(0,Xu._registerComponent)(new fg.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const u=t.getProvider("app").getImmediate(),c=new Mi(new Wb(t.getProvider("auth-internal")),new PA(t.getProvider("app-check-internal")),function(y,I){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(y.options.projectId,I)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),(0,Xu.registerVersion)(cE,"3.11.0",n),(0,Xu.registerVersion)(cE,"3.11.0","esm2017")}();function gS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new lt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function g1(){if(typeof Uint8Array>"u")throw new lt("unimplemented","Uint8Arrays are not available in this environment.")}function m1(){if(!function uD(){return typeof atob<"u"}())throw new lt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class f0{constructor(e){this._delegate=e}static fromBase64String(e){return m1(),new f0(pc.fromBase64String(e))}static fromUint8Array(e){return g1(),new f0(pc.fromUint8Array(e))}toBase64(){return m1(),this._delegate.toBase64()}toUint8Array(){return g1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mS(n){return function NN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class PN{enableIndexedDbPersistence(e,t){return function OO(n,e){Zx(n=gr(n,Mi));const t=cs(n);if(t._uninitializedComponentsProvider)throw new lt(Pe.FAILED_PRECONDITION,"SDK cache is already specified.");Vo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),s=new Gm;return Wx(t,s,new KT(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function NO(n){Zx(n=gr(n,Mi));const e=cs(n);if(e._uninitializedComponentsProvider)throw new lt(Pe.FAILED_PRECONDITION,"SDK cache is already specified.");Vo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Gm;return Wx(e,r,new xx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function PO(n){if(n._initialized&&!n._terminated)throw new lt(Pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ts;return n._queue.enqueueAndForgetEvenWhileRestricted((0,qe.Z)(function*(){try{yield(t=(0,qe.Z)(function*(r){if(!Ba.D())return Promise.resolve();const s=r+"main";yield Ba.delete(s)}),function(r){return t.apply(this,arguments)})(jD(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class y1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof nc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Vo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){Hx(this._delegate,e,t,r)}enableNetwork(){return function FO(n){return function _O(n){return n.asyncQueue.enqueue((0,qe.Z)(function*(){const e=yield Ox(n),t=yield Nx(n);return e.setNetworkEnabled(!0),function(r){const s=Lt(r);return s.Au.delete(0),t0(s)}(t)}))}(cs(n=gr(n,Mi)))}(this._delegate)}disableNetwork(){return function LO(n){return function wO(n){return n.asyncQueue.enqueue((0,qe.Z)(function*(){const e=yield Ox(n),t=yield Nx(n);return e.setNetworkEnabled(!1),(r=(0,qe.Z)(function*(s){const u=Lt(s);u.Au.add(0),yield Vm(u),u.Pu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(cs(n=gr(n,Mi)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Vx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function kO(n){return function(e){const t=new ts;return e.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function nO(n,e){return NT.apply(this,arguments)}(yield nS(e),t)})),t.promise}(cs(n=gr(n,Mi)))}(this._delegate)}onSnapshotsInSync(e){return function pN(n,e){return function CO(n,e){const t=new AI(e);return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return r=yield qm(n),s=t,Lt(r).Nu.add(s),void s.next();var r,s})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return r=yield qm(n),s=t,void Lt(r).Nu.delete(s);var r,s}))}}(cs(n=gr(n,Mi)),oS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new lt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Km(this,zx(this._delegate,e))}catch(t){throw jo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Mu(this,NI(this._delegate,e))}catch(t){throw jo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $o(this,function SO(n,e){if(n=gr(n,s0),iS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new lt(Pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Js(n,null,(t=e,new ul(pr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw jo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function DN(n,e,t){n=gr(n,Mi);const r=Object.assign(Object.assign({},CN),t);return function(s){if(s.maxAttempts<1)throw new lt(Pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,u,c){const y=new ts;return s.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){const I=yield function Px(n){return MI(n).then(e=>e.datastore)}(s);new yO(s.asyncQueue,I,c,u,y).run()})),y.promise}(cs(n),s=>e(new bN(n,s)),r)}(this._delegate,t=>e(new v1(this,t)))}batch(){return cs(this._delegate),new _1(new f1(this._delegate,e=>Zm(this._delegate,e)))}loadBundle(e){return function VO(n,e){const t=cs(n=gr(n,Mi)),r=new xO;return function bO(n,e,t,r){const s=function(u,c){let y;return y="string"==typeof u?KE().encode(u):u,I=function(I,O){if(I instanceof Uint8Array)return Mx(I,O);if(I instanceof ArrayBuffer)return Mx(new Uint8Array(I),O);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new gO(I,c);var I}(t,e0(e));n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){!function fO(n,e,t){const r=Lt(n);var s;(s=(0,qe.Z)(function*(u,c,y){try{const I=yield c.getMetadata();if(yield function(le,we){const Ze=Lt(le),ht=Hi(we.createTime);return Ze.persistence.runTransaction("hasNewerBundle","readonly",_t=>Ze.Ls.getBundleMetadata(_t,we.id)).then(_t=>!!_t&&_t.createTime.compareTo(ht)>=0)}(u.localStore,I))return yield c.close(),y._completeWith({taskState:"Success",documentsLoaded:(le=I).totalDocuments,bytesLoaded:le.totalBytes,totalDocuments:le.totalDocuments,totalBytes:le.totalBytes}),Promise.resolve(new Set);y._updateProgress(wx(I));const O=new qR(I,u.localStore,c.serializer);let V=yield c.Pc();for(;V;){const le=yield O.ju(V);le&&y._updateProgress(le),V=yield c.Pc()}const Q=yield O.complete();return yield bd(u,Q.Hu,void 0),yield function(le,we){const Ze=Lt(le);return Ze.persistence.runTransaction("Save bundle","readwrite",ht=>Ze.Ls.saveBundleMetadata(ht,we))}(u.localStore,I),y._completeWith(Q.progress),Promise.resolve(Q.Wu)}catch(I){return Vo("SyncEngine",`Loading bundle failed with ${I}`),y._failWith(I),Promise.resolve(new Set)}var le}),function(u,c,y){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield nS(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function UO(n,e){return function DO(n,e){return n.asyncQueue.enqueue((0,qe.Z)(function*(){return function(t,r){const s=Lt(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.Ls.getNamedQuery(u,r))}(yield RI(n),e)}))}(cs(n=gr(n,Mi)),e).then(t=>t?new Js(n,null,t.query):null)}(this._delegate,e).then(t=>t?new $o(this,t):null)}}class zI extends fS{constructor(e){super(),this.firestore=e}convertBytes(e){return new f0(new pc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Mu.forKey(t,this.firestore,null)}}class v1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new zI(e)}get(e){const t=zp(e);return this._delegate.get(t).then(r=>new p0(this._firestore,new Td(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=zp(e);return r?(gS("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=zp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=zp(e);return this._delegate.delete(t),this}}class _1{constructor(e){this._delegate=e}set(e,t,r){const s=zp(e);return r?(gS("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=zp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=zp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Hp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new h0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new g0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Hp.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new Hp(e,new zI(e),t),s.set(t,u)),u}}Hp.INSTANCES=new WeakMap;class Mu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new lt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Mu(t,new xi(t._delegate,r,new kt(e)))}static forKey(e,t,r){return new Mu(t,new xi(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Km(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Km(this.firestore,zx(this._delegate,e))}catch(t){throw jo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,vr.m9)(e))instanceof xi&&Gx(this._delegate,e)}set(e,t){t=gS("DocumentReference.set",t);try{return t?c1(this._delegate,e,t):c1(this._delegate,e)}catch(r){throw jo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?d1(this._delegate,e):d1(this._delegate,e,t,...r)}catch(s){throw jo(s,"updateDoc()","DocumentReference.update()")}}delete(){return function hN(n){return Zm(gr(n.firestore,Mi),[new Ap(n._key,Si.none())])}(this._delegate)}onSnapshot(...e){const t=w1(e),r=E1(e,s=>new p0(this.firestore,new Td(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return h1(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function aN(n){n=gr(n,xi);const e=gr(n.firestore,Mi),t=cs(e),r=new Zh(e);return function EO(n,e){const t=new ts;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return(r=(0,qe.Z)(function*(s,u,c){try{const y=yield function(I,O){const V=Lt(I);return V.persistence.runTransaction("read document","readonly",Q=>V.localDocuments.getDocument(Q,O))}(s,u);y.isFoundDocument()?c.resolve(y):y.isNoDocument()?c.resolve(null):c.reject(new lt(Pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const I=jm(y,`Failed to get document '${u} from cache`);c.reject(I)}}),function(s,u,c){return r.apply(this,arguments)})(yield RI(n),e,t);var r})),t.promise}(t,n._key).then(s=>new Td(e,r,n._key,s,new $p(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function uN(n){n=gr(n,xi);const e=gr(n.firestore,Mi);return kx(cs(e),n._key,{source:"server"}).then(t=>pS(e,n,t))}(this._delegate):function oN(n){n=gr(n,xi);const e=gr(n.firestore,Mi);return kx(cs(e),n._key).then(t=>pS(e,n,t))}(this._delegate),t.then(r=>new p0(this.firestore,new Td(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Mu(this.firestore,this._delegate.withConverter(e?Hp.getInstance(this.firestore,e):null))}}function jo(n,e,t){return n.message=n.message.replace(e,t),n}function w1(n){for(const e of n)if("object"==typeof e&&!mS(e))return e;return{}}function E1(n,e){var t,r;let s;return s=mS(n[0])?n[0]:mS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class p0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Mu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return l1(this._delegate,e._delegate)}}class g0 extends p0{data(e){const t=this._delegate.data(e);return function Gb(n,e){n||jt()}(void 0!==t),t}}class $o{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zI(e)}where(e,t,r){try{return new $o(this.firestore,qh(this._delegate,function KO(n,e,t){const r=e,s=UI("where",n);return d0._create(s,r,t)}(e,t,r)))}catch(s){throw jo(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $o(this.firestore,qh(this._delegate,function YO(n,e="asc"){const t=e,r=UI("orderBy",n);return hS._create(r,t)}(e,t)))}catch(r){throw jo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $o(this.firestore,qh(this._delegate,function QO(n){return jx("limit",n),BI._create("limit",n,"F")}(e)))}catch(t){throw jo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $o(this.firestore,qh(this._delegate,function XO(n){return jx("limitToLast",n),BI._create("limitToLast",n,"L")}(e)))}catch(t){throw jo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $o(this.firestore,qh(this._delegate,function JO(...n){return jI._create("startAt",n,!0)}(...e)))}catch(t){throw jo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $o(this.firestore,qh(this._delegate,function eN(...n){return jI._create("startAfter",n,!1)}(...e)))}catch(t){throw jo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $o(this.firestore,qh(this._delegate,function tN(...n){return $I._create("endBefore",n,!1)}(...e)))}catch(t){throw jo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $o(this.firestore,qh(this._delegate,function nN(...n){return $I._create("endAt",n,!0)}(...e)))}catch(t){throw jo(t,"endAt()","Query.endAt()")}}isEqual(e){return sS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function cN(n){n=gr(n,Js);const e=gr(n.firestore,Mi),t=cs(e),r=new Zh(e);return function IO(n,e){const t=new ts;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return(r=(0,qe.Z)(function*(s,u,c){try{const y=yield EI(s,u,!0),I=new Cx(u,y.sr),O=I.nc(y.documents),V=I.applyChanges(O,!1);c.resolve(V.snapshot)}catch(y){const I=jm(y,`Failed to execute query '${u} against cache`);c.reject(I)}}),function(s,u,c){return r.apply(this,arguments)})(yield RI(n),e,t);var r})),t.promise}(t,n._query).then(s=>new Wh(e,r,n,s))}(this._delegate):"server"===e?.source?function dN(n){n=gr(n,Js);const e=gr(n.firestore,Mi),t=cs(e),r=new Zh(e);return Fx(t,n._query,{source:"server"}).then(s=>new Wh(e,r,n,s))}(this._delegate):function lN(n){n=gr(n,Js);const e=gr(n.firestore,Mi),t=cs(e),r=new Zh(e);return n1(n._query),Fx(t,n._query).then(s=>new Wh(e,r,n,s))}(this._delegate),t.then(r=>new yS(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=w1(e),r=E1(e,s=>new yS(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return h1(this._delegate,t,r)}withConverter(e){return new $o(this.firestore,this._delegate.withConverter(e?Hp.getInstance(this.firestore,e):null))}}class FN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new g0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $o(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new g0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new FN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new g0(this._firestore,r))})}isEqual(e){return l1(this._delegate,e._delegate)}}class Km extends $o{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Mu(this.firestore,e):null}doc(e){try{return new Mu(this.firestore,void 0===e?NI(this._delegate):NI(this._delegate,e))}catch(t){throw jo(t,"doc()","CollectionReference.doc()")}}add(e){return function fN(n,e){const t=gr(n.firestore,Mi),r=NI(n),s=HI(n.converter,e);return Zm(t,[FI(Bp(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Si.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Mu(this.firestore,t))}isEqual(e){return Gx(this._delegate,e._delegate)}withConverter(e){return new Km(this.firestore,this._delegate.withConverter(e?Hp.getInstance(this.firestore,e):null))}}function zp(n){return gr(n,xi)}class vS{constructor(...e){this._delegate=new Dd(...e)}static documentId(){return new vS(Wi.keyField().canonicalString())}isEqual(e){return(e=(0,vr.m9)(e))instanceof Dd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function SN(){return new aS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gp(e)}static delete(){const e=function TN(){return new a0("deleteField")}();return e._methodName="FieldValue.delete",new Gp(e)}static arrayUnion(...e){const t=function AN(...n){return new zO("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Gp(t)}static arrayRemove(...e){const t=function xN(...n){return new GO("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Gp(t)}static increment(e){const t=function MN(n){return new qO("increment",n)}(e);return t._methodName="FieldValue.increment",new Gp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const LN={Firestore:y1,GeoPoint:PI,Timestamp:jr,Blob:f0,Transaction:v1,WriteBatch:_1,DocumentReference:Mu,DocumentSnapshot:p0,Query:$o,QueryDocumentSnapshot:g0,QuerySnapshot:yS,CollectionReference:Km,FieldPath:vS,FieldValue:Gp,setLogLevel:function kN(n){!function em(n){Jl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function UN(n){(function VN(n,e){n.INTERNAL.registerComponent(new fg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},LN)))})(n,(e,t)=>new y1(e,t,new PN)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(Ew.Z);var BN=X(6451),GI=X(5363),jN=X(6063);class $N extends zs.x{constructor(e=1/0,t=1/0,r=jN.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!s&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const c=t.now();let y=0;for(let I=1;I<r.length&&r[I]<=c;I+=2)y=I;y&&r.splice(0,y+1)}}}var HN=X(3099);function I1(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,HN.B)({connector:()=>new $N(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function C1(n,e){return(0,Bc.m)(e)?Yr(()=>n,e):Yr(()=>n)}var _S=X(9468),qp=X(259);class Ym{constructor(e){return e}}class b1{constructor(){return(0,qp.C6)()}}const wS=new d.OlP("angularfire2._apps"),GN={provide:Ym,useFactory:function zN(n){return n&&1===n.length?n[0]:new Ym((0,qp.Mq)())},deps:[[new d.FiY,wS]]},qN={provide:b1,deps:[[new d.FiY,wS]]};function WN(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ym(r)}}let ZN=(()=>{class n{constructor(t){(0,qp.KN)("angularfire",qr.q4.full,"core"),(0,qp.KN)("angularfire",qr.q4.full,"app"),(0,qp.KN)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[GN,qN]}),n})();function KN(n,...e){return{ngModule:ZN,providers:[{provide:wS,useFactory:WN(n),multi:!0,deps:[d.R0b,d.zs3,qr.HU,...e]}]}}const YN=(0,qr.u3)(qp.ZF,!0),ES=new Map,D1={activated:!1,tokenObservers:[]},QN={initialized:!1,enabled:!1};function rs(n){return ES.get(n)||Object.assign({},D1)}function qI(){return QN}const IS="https://content-firebaseappcheck.googleapis.com/v1",tP="exchangeDebugToken",T1={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rP{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,qe.Z)(function*(){t.stop();try{t.pending=new vr.BH,yield function iP(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new vr.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const eo=new vr.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function DS(){return DS=(0,qe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const Q=yield s.getHeartbeatsHeader();Q&&(r["X-Firebase-Client"]=Q)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,y;try{c=yield fetch(n,u)}catch(Q){throw eo.create("fetch-network-error",{originalErrorMessage:Q?.message})}if(200!==c.status)throw eo.create("fetch-status-error",{httpStatus:c.status});try{y=yield c.json()}catch(Q){throw eo.create("fetch-parse-error",{originalErrorMessage:Q?.message})}const I=y.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw eo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const O=1e3*Number(I[1]),V=Date.now();return{token:y.token,expireTimeMillis:V+O,issuedAtTimeMillis:V}}),DS.apply(this,arguments)}const uP="firebase-app-check-database",lP=1,m0="firebase-app-check-store";let YI=null;function TS(){return TS=(0,qe.Z)(function*(n,e){const r=(yield function x1(){return YI||(YI=new Promise((n,e)=>{try{const t=indexedDB.open(uP,lP);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(eo.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(m0,{keyPath:"compositeKey"})}}catch(t){e(eo.create("storage-open",{originalErrorMessage:t?.message}))}}),YI)}()).transaction(m0,"readwrite"),u=r.objectStore(m0).put({compositeKey:n,value:e});return new Promise((c,y)=>{u.onsuccess=I=>{c()},r.onerror=I=>{var O;y(eo.create("storage-set",{originalErrorMessage:null===(O=I.target.error)||void 0===O?void 0:O.message}))}})}),TS.apply(this,arguments)}const y0=new Ju.Yd("@firebase/app-check");function xS(n,e){return(0,vr.hl)()?function dP(n,e){return function M1(n,e){return TS.apply(this,arguments)}(function O1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{y0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function NS(){return NS=(0,qe.Z)(function*(){const n=qI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),NS.apply(this,arguments)}const yP={error:"UNKNOWN_ERROR"};function vP(n){return vr.US.encodeString(JSON.stringify(n),!1)}function QI(n){return PS.apply(this,arguments)}function PS(){return PS=(0,qe.Z)(function*(n,e=!1){const t=n.app;!function CS(n){if(!rs(n).activated)throw eo.create("use-before-activation",{appName:n.name})}(t);const r=rs(t);let u,s=r.token;if(s&&!Qm(s)&&(r.token=void 0,s=void 0),!s){const I=yield r.cachedTokenPromise;I&&(Qm(I)?s=I:yield xS(t,void 0))}if(!e&&s&&Qm(s))return{token:s.token};let y,c=!1;if(function RS(){return qI().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function KI(n,e){return DS.apply(this,arguments)}(function S1(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${IS}/projects/${t}/apps/${r}:${tP}?key=${s}`,body:{debug_token:e}}}(t,yield function OS(){return NS.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const I=yield r.exchangeTokenPromise;return yield xS(t,I),r.token=I,{token:I.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),s=yield rs(t).exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?y0.warn(I.message):y0.error(I),u=I}return s?u?y=Qm(s)?{token:s.token,internalError:u}:k1(u):(y={token:s.token},r.token=s,yield xS(t,s)):y=k1(u),c&&function P1(n,e){const t=rs(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,y),y}),PS.apply(this,arguments)}function LS(n,e){const t=rs(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function N1(n){const{app:e}=n,t=rs(e);let r=t.tokenRefresher;r||(r=function wP(n){const{app:e}=n;return new rP((0,qe.Z)(function*(){let r;if(r=rs(e).token?yield QI(n,!0):yield QI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=rs(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},T1.RETRIAL_MIN_WAIT,T1.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Qm(n){return n.expireTimeMillis-Date.now()>0}function k1(n){return{token:vP(yP),error:n}}class EP{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=rs(this.app);for(const t of e)LS(this.app,t.next);return Promise.resolve()}}const H1="app-check-internal";!function kP(){(0,Xu._registerComponent)(new fg.wA("app-check",n=>function IP(n,e){return new EP(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(H1).initialize()})),(0,Xu._registerComponent)(new fg.wA(H1,n=>function CP(n){return{getToken:e=>QI(n,e),addTokenListener:e=>function FS(n,e,t,r){const{app:s}=n,u=rs(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Qm(u.token)){const y=u.token;Promise.resolve().then(()=>{t({token:y.token}),N1(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>N1(n))}(n,"INTERNAL",e),removeTokenListener:e=>LS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xu.registerVersion)("@firebase/app-check","0.7.0")}();class JI{constructor(){return(0,qr.vb)("app-check")}}typeof window<"u"&&window,X(9260);const G1=new d.OlP("angularfire2.auth.use-emulator"),q1=new d.OlP("angularfire2.auth.settings"),W1=new d.OlP("angularfire2.auth.tenant-id"),Z1=new d.OlP("angularfire2.auth.langugage-code"),K1=new d.OlP("angularfire2.auth.use-device-language"),Y1=new d.OlP("angularfire.auth.persistence"),Q1=(n,e,t,r,s,u,c,y)=>(0,_u.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=e.runOutsideAngular(()=>n.auth());if(t&&I.useEmulator(...t),r&&(I.tenantId=r),I.languageCode=s,u&&I.useDeviceLanguage(),c)for(const[O,V]of Object.entries(c))I.settings[O]=V;return y&&I.setPersistence(y),I},[t,r,s,u,c,y]);let X1=(()=>{class n{constructor(t,r,s,u,c,y,I,O,V,Q,le,we){const Ze=new zs.x,ht=qt(void 0).pipe((0,GI.Q)(c.outsideAngular),Yr(()=>u.runOutsideAngular(()=>Promise.resolve().then(X.bind(X,9568)))),(0,gn.U)(()=>(0,_u.on)(t,u,r)),(0,gn.U)(_t=>Q1(_t,u,y,O,V,Q,I,le)),I1({bufferSize:1,refCount:!1}));if(T(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=qt(null);else{ht.pipe(Gs()).subscribe();const mn=ht.pipe(Yr(tr=>tr.getRedirectResult().then(rr=>rr,()=>null)),qr.iC,I1({bufferSize:1,refCount:!1})),Ln=ht.pipe(Yr(tr=>new gs.y(rr=>({unsubscribe:u.runOutsideAngular(()=>tr.onAuthStateChanged(Tr=>rr.next(Tr),Tr=>rr.error(Tr),()=>rr.complete()))})))),_n=ht.pipe(Yr(tr=>new gs.y(rr=>({unsubscribe:u.runOutsideAngular(()=>tr.onIdTokenChanged(Tr=>rr.next(Tr),Tr=>rr.error(Tr),()=>rr.complete()))}))));this.authState=mn.pipe(C1(Ln),(0,_S.R)(c.outsideAngular),(0,GI.Q)(c.insideAngular)),this.user=mn.pipe(C1(_n),(0,_S.R)(c.outsideAngular),(0,GI.Q)(c.insideAngular)),this.idToken=this.user.pipe(Yr(tr=>tr?(0,cr.D)(tr.getIdToken()):qt(null))),this.idTokenResult=this.user.pipe(Yr(tr=>tr?(0,cr.D)(tr.getIdTokenResult()):qt(null))),this.credential=(0,BN.T)(mn,Ze,this.authState.pipe(Ts(tr=>!tr))).pipe((0,gn.U)(tr=>tr?.user?tr:null),(0,_S.R)(c.outsideAngular),(0,GI.Q)(c.insideAngular))}return(0,_u.pX)(this,ht,u,{spy:{apply:(_t,mn,Ln)=>{(_t.startsWith("signIn")||_t.startsWith("createUser"))&&Ln.then(_n=>Ze.next(_n))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_u.Dh),d.LFG(_u.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(qr.HU),d.LFG(G1,8),d.LFG(q1,8),d.LFG(W1,8),d.LFG(Z1,8),d.LFG(K1,8),d.LFG(Y1,8),d.LFG(JI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function J1(n,e){return function jP(n,e=gb.z){return new gs.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function $S(n,e){return J1(n,e).pipe((0,gn.U)(t=>({payload:t,type:"query"})))}function eC(n,e){return $S(n,e).pipe(Na(void 0),Ks(),(0,gn.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,y)=>{const I=s.find(V=>V.doc.ref.isEqual(c.ref)),O=t?.payload.docs.find(V=>V.ref.isEqual(c.ref));I&&JSON.stringify(I.doc.metadata)===JSON.stringify(c.metadata)||!I&&O&&JSON.stringify(O.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:c}})}),u}))}function eM(n,e,t){return eC(n,t).pipe(Fl((r,s)=>function HP(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function zP(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return HS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return HS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return HS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function mb(n,e=au.y){return n=n??yb,(0,as.e)((t,r)=>{let s,u=!0;t.subscribe((0,Xi.x)(r,c=>{const y=e(c);(u||!n(s,y))&&(u=!1,s=y,r.next(c))}))})}(),(0,gn.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function HS(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function tM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class nM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=eC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gn.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Na(void 0),Ks(),Ts(([r,s])=>s.length>0||!r),(0,gn.U)(([r,s])=>s),qr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Fl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tM(e);return eM(this.query,t,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(e={}){return $S(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),qr.iC)}get(e){return(0,cr.D)(this.query.get(e)).pipe(qr.iC)}add(e){return this.ref.add(e)}doc(e){return new rM(this.ref.doc(e),this.afs)}}class rM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=iM(r,t);return new nM(s,u,this.afs)}snapshotChanges(){return function $P(n,e){return J1(n,e).pipe(Na(void 0),Ks(),(0,gn.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,cr.D)(this.ref.get(e)).pipe(qr.iC)}}class GP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?eC(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ts(t=>t.length>0),qr.iC):eC(this.query,this.afs.schedulers.outsideAngular).pipe(qr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Fl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tM(e);return eM(this.query,t,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(e={}){return $S(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),qr.iC)}get(e){return(0,cr.D)(this.query.get(e)).pipe(qr.iC)}}const qP=new d.OlP("angularfire2.enableFirestorePersistence"),WP=new d.OlP("angularfire2.firestore.persistenceSettings"),ZP=new d.OlP("angularfire2.firestore.settings"),KP=new d.OlP("angularfire2.firestore.use-emulator");function iM(n,e=(t=>t)){return{query:e(n),ref:n}}let YP=(()=>{class n{constructor(t,r,s,u,c,y,I,O,V,Q,le,we,Ze,ht,_t,mn,Ln){this.schedulers=I;const _n=(0,_u.on)(t,y,r),tr=V;Q&&Q1(_n,y,le,Ze,ht,_t,we,mn),[this.firestore,this.persistenceEnabled$]=(0,_u.cc)(`${_n.name}.firestore`,"AngularFirestore",_n.name,()=>{const rr=y.runOutsideAngular(()=>_n.firestore());if(u&&rr.settings(u),tr&&rr.useEmulator(...tr),s&&!T(c)){const Tr=()=>{try{return(0,cr.D)(rr.enablePersistence(O||void 0).then(()=>!0,()=>!1))}catch(zo){return typeof console<"u"&&console.warn(zo),qt(!1)}};return[rr,y.runOutsideAngular(Tr)]}return[rr,qt(!1)]},[u,tr,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=iM(s,r),y=this.schedulers.ngZone.run(()=>u);return new nM(y,c,this)}collectionGroup(t,r){const s=r||(c=>c),u=this.firestore.collectionGroup(t);return new GP(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new rM(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_u.Dh),d.LFG(_u.xv,8),d.LFG(qP,8),d.LFG(ZP,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(qr.HU),d.LFG(WP,8),d.LFG(KP,8),d.LFG(X1,8),d.LFG(G1,8),d.LFG(q1,8),d.LFG(W1,8),d.LFG(Z1,8),d.LFG(K1,8),d.LFG(Y1,8),d.LFG(JI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),QP=(()=>{class n{constructor(t){this.db=t}addContact(t){return this.db.collection("ContactCollection").add(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(YP))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Wp=(()=>{class n extends sM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const gc=new d.OlP("NgValueAccessor"),ek={provide:gc,useExisting:(0,d.Gpc)(()=>tC),multi:!0},nk=new d.OlP("CompositionEventMode");let tC=(()=>{class n extends sM{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tk(){const n=W()?W().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(nk,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[d._Bn([ek]),d.qOj]}),n})();const rk=!1;const To=new d.OlP("NgValidators"),Qh=new d.OlP("NgAsyncValidators");function cM(n){return function Yh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function nC(n){return null}function mM(n){return null!=n}function yM(n){const e=(0,d.QGY)(n)?(0,cr.D)(n):n;if(rk&&!(0,d.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new d.vHH(-1101,t)}return e}function vM(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function _M(n,e){return e.map(t=>t(n))}function wM(n){return n.map(e=>function sk(n){return!n.validate}(e)?e:t=>e.validate(t))}function zS(n){return null!=n?function EM(n){if(!n)return null;const e=n.filter(mM);return 0==e.length?null:function(t){return vM(_M(t,e))}}(wM(n)):null}function GS(n){return null!=n?function IM(n){if(!n)return null;const e=n.filter(mM);return 0==e.length?null:function(t){return function XP(...n){const e=(0,Hs.jO)(n),{args:t,keys:r}=Fc(n),s=new gs.y(u=>{const{length:c}=t;if(!c)return void u.complete();const y=new Array(c);let I=c,O=c;for(let V=0;V<c;V++){let Q=!1;(0,Hu.Xf)(t[V]).subscribe((0,Xi.x)(u,le=>{Q||(Q=!0,O--),y[V]=le},()=>I--,void 0,()=>{(!I||!Q)&&(O||u.next(r?Nl(r,y):y),u.complete())}))}});return e?s.pipe(ks(e)):s}(_M(t,e).map(yM)).pipe((0,gn.U)(vM))}}(wM(n)):null}function CM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qS(n){return n?Array.isArray(n)?n:[n]:[]}function rC(n,e){return Array.isArray(n)?n.includes(e):n===e}function TM(n,e){const t=qS(e);return qS(n).forEach(s=>{rC(t,s)||t.push(s)}),t}function SM(n,e){return qS(e).filter(t=>!rC(n,t))}class AM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ho extends AM{get formDirective(){return null}get path(){return null}}class Xh extends AM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xM{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let MM=(()=>{class n extends xM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Xh,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),RM=(()=>{class n extends xM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ho,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();function OM(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const KS=!1,v0="VALID",sC="INVALID",Xm="PENDING",_0="DISABLED";function YS(n){return(oC(n)?n.validators:n)||null}function QS(n,e){return(oC(e)?e.asyncValidators:n)||null}function oC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class kM{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===v0}get invalid(){return this.status===sC}get pending(){return this.status==Xm}get disabled(){return this.status===_0}get enabled(){return this.status!==_0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SM(e,this._rawAsyncValidators))}hasValidator(e){return rC(this._rawValidators,e)}hasAsyncValidator(e){return rC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Xm,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=v0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===v0||this.status===Xm)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_0:v0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Xm,this._hasOwnPendingAsyncValidator=!0;const t=yM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?_0:this.errors?sC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xm)?Xm:this._anyControlsHaveStatus(sC)?sC:v0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){oC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function hk(n){return Array.isArray(n)?zS(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function fk(n){return Array.isArray(n)?GS(n):n||null}(this._rawAsyncValidators)}}class XS extends kM{constructor(e,t,r){super(YS(t),QS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function PM(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new d.vHH(1002,KS?function dk(n,e){return`Must supply a value for form control ${OM(n,e)}`}(e,s):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function NM(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,KS?function lk(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new d.vHH(1001,KS?function ck(n,e){return`Cannot find form control ${OM(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Jm=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>aC}),aC="always";function w0(n,e,t=aC){JS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function mk(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&FM(n,e)})}(n,e),function vk(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function yk(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&FM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function gk(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function JS(n,e){const t=function bM(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(CM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function DM(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(CM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();cC(e._rawValidators,s),cC(e._rawAsyncValidators,s)}function FM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Ck={provide:Ho,useExisting:(0,d.Gpc)(()=>hC)},E0=(()=>Promise.resolve())();let hC=(()=>{class n extends Ho{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new XS({},zS(t),GS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){E0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),w0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){E0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){E0.then(()=>{const r=this._findContainer(t.path),s=new XS({});(function LM(n,e){JS(n,e)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){E0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){E0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function VM(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(To,10),d.Y36(Qh,10),d.Y36(Jm,8))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Ck]),d.qOj]}),n})();function UM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function BM(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const jM=class extends kM{constructor(e=null,t,r){super(YS(t),QS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oC(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=BM(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){UM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){UM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){BM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Tk={provide:Xh,useExisting:(0,d.Gpc)(()=>rA)},zM=(()=>Promise.resolve())();let rA=(()=>{class n extends Xh{constructor(t,r,s,u,c,y){super(),this._changeDetectorRef=c,this.callSetDisabledState=y,this.control=new jM,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function nA(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===tC?t=u:function Ek(n){return Object.getPrototypeOf(n.constructor)===Wp}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function tA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){w0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){zM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,d.D6c)(r);zM.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function uC(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ho,9),d.Y36(To,10),d.Y36(Qh,10),d.Y36(gc,10),d.Y36(d.sBO,8),d.Y36(Jm,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Tk]),d.qOj,d.TTD]}),n})(),GM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),WM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Zp=(()=>{class n{constructor(){this._validator=nC}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):nC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const zk={provide:To,useExisting:(0,d.Gpc)(()=>fC),multi:!0};let fC=(()=>{class n extends Zp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=t=>cM}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([zk]),d.qOj]}),n})(),Yk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[WM]}),n})(),Xk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Jm,useValue:t.callSetDisabledState??aC}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Yk]}),n})(),Jk=(()=>{class n{constructor(t){this.dataService=t,this.name="",this.email="",this.subject="",this.message=""}ngOnInit(){Xr(document).ready(function(){Xr(".container").css("opacity","1"),Xr(".blast").each(function(t){var r=Xr(this);setTimeout(function(){r.toggleClass("animated rubberBand",!r.hasClass("animated rubberBand"))},270*t),setTimeout(function(){r.css("opacity","1")},270*t),setTimeout(function(){r.removeClass("animated rubberBand")},500*t)})})}onSubmit(){this.dataService.addContact({name:this.name,emailId:this.email,subject:this.subject,message:this.message}),this.name="",this.email="",this.subject="",this.message=""}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(QP))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-cont"]],decls:44,vars:4,consts:[["id","page",1,"en","noselect"],[1,"container","home-page"],[1,"tags","top-tags"],[1,"text-zone"],[1,"blast-root"],[1,"blast"],[1,"container","extra"],[1,"section"],[1,"form-container"],[3,"ngSubmit"],[1,"form-row"],["type","text","placeholder","Name","name","name","required","",3,"ngModel","ngModelChange"],["type","email","placeholder","Email","name","email","required","",3,"ngModel","ngModelChange"],["type","text","placeholder","Subject","name","subject","required","",3,"ngModel","ngModelChange"],["placeholder","Message","name","message","rows","5","required","",3,"ngModel","ngModelChange"],["type","submit","value","SUBMIT",1,"submit-button"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d113274.76694274513!2d77.60175282998495!3d27.47435009603631!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x397371163d4d5205%3A0x4273a09defe10ea5!2sMathura%2C%20Uttar%20Pradesh!5e0!3m2!1sen!2sin!4v1682614984430!5m2!1sen!2sin","width","600","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"],[1,"tags","bottom-tags"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"span",2),d._uU(3,"<html>"),d._UZ(4,"br"),d._uU(5,"\xa0\xa0\xa0<body>"),d.qZA(),d.TgZ(6,"div",3)(7,"h1",4)(8,"span",5),d._uU(9,"C"),d.qZA(),d.TgZ(10,"span",5),d._uU(11,"O"),d.qZA(),d.TgZ(12,"span",5),d._uU(13,"N"),d.qZA(),d.TgZ(14,"span",5),d._uU(15,"T"),d.qZA(),d.TgZ(16,"span",5),d._uU(17,"A"),d.qZA(),d.TgZ(18,"span",5),d._uU(19,"C"),d.qZA(),d.TgZ(20,"span",5),d._uU(21,"T"),d.qZA(),d.TgZ(22,"span",5),d._uU(23,"\xa0\xa0\xa0\xa0\xa0M"),d.qZA(),d.TgZ(24,"span",5),d._uU(25,"e"),d.qZA()()(),d.TgZ(26,"div",6)(27,"div",7)(28,"div",8)(29,"form",9),d.NdJ("ngSubmit",function(){return r.onSubmit()}),d.TgZ(30,"div",10)(31,"input",11),d.NdJ("ngModelChange",function(u){return r.name=u}),d.qZA(),d.TgZ(32,"input",12),d.NdJ("ngModelChange",function(u){return r.email=u}),d.qZA()(),d.TgZ(33,"div",10)(34,"input",13),d.NdJ("ngModelChange",function(u){return r.subject=u}),d.qZA(),d.TgZ(35,"textarea",14),d.NdJ("ngModelChange",function(u){return r.message=u}),d.qZA()(),d.TgZ(36,"div",10),d._UZ(37,"input",15),d.qZA()()()(),d.TgZ(38,"div",7),d._UZ(39,"iframe",16),d.qZA()(),d.TgZ(40,"span",17),d._uU(41," \xa0\xa0\xa0</body>"),d._UZ(42,"br"),d._uU(43," </html> "),d.qZA()()()),2&t&&(d.xp6(31),d.Q6J("ngModel",r.name),d.xp6(1),d.Q6J("ngModel",r.email),d.xp6(2),d.Q6J("ngModel",r.subject),d.xp6(1),d.Q6J("ngModel",r.message))},dependencies:[GM,tC,MM,RM,fC,rA,hC],styles:["@media (max-width: 768px){.extra[_ngcontent-%COMP%]{display:block;margin-top:64%;margin-left:0}.section[_ngcontent-%COMP%]{width:100%;margin-bottom:30px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;margin-right:0;margin-bottom:20px}}@media (min-width: 768px) and (max-width: 1024px){.extra[_ngcontent-%COMP%]{margin-top:32%}.section[_ngcontent-%COMP%]{width:calc(50% - 1rem);margin-bottom:20px}}@media (min-width: 1024px){.extra[_ngcontent-%COMP%]{display:flex;margin-top:14%;margin-left:10%;justify-content:space-between}.section[_ngcontent-%COMP%]{width:calc(50% - 1rem);margin-bottom:20px}}.extra[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;width:100%;margin-bottom:10px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background-color:#2b2b2b;border:2px solid #08fdd8;border-radius:5px;padding:14px;color:#fff;width:calc(50% - .5rem);margin-right:.5rem;margin-bottom:10px;box-sizing:border-box}input[type=submit][_ngcontent-%COMP%]{width:auto;margin-right:0}textarea[_ngcontent-%COMP%]{width:100%;resize:vertical}.submit-button[_ngcontent-%COMP%]{background-color:#08fbd791;border:none;color:#fff;padding:10px 20px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:10px 0;cursor:pointer;border-radius:10px;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#08fbd730}"]}),n})();const lA_firebase={projectId:"resume-c6099",appId:"1:924656063186:web:35d5fea6edd656eba1930b",storageBucket:"resume-c6099.appspot.com",apiKey:"AIzaSyCIiB-DCSsKZ59vSmDE12oSbbL13DUerv4",authDomain:"resume-c6099.firebaseapp.com",messagingSenderId:"924656063186"};X(8502);class hR{constructor(){return(0,qr.vb)("auth")}}class hA{constructor(e){return e}}const fR="firestore",fA=new d.OlP("angularfire2.firestore-instances");function sF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new hA(r)}}const oF={provide:class rF{constructor(){return(0,qr.vb)(fR)}},deps:[[new d.FiY,fA]]},aF={provide:hA,useFactory:function iF(n,e){const t=(0,qr.JM)(fR,n,e);return t&&new hA(t)},deps:[[new d.FiY,fA],Ym]};let uF=(()=>{class n{constructor(){(0,qp.KN)("angularfire",qr.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[aF,oF]}),n})();function lF(n,...e){return{ngModule:uF,providers:[{provide:fA,useFactory:sF(n),multi:!0,deps:[d.R0b,d.zs3,qr.HU,b1,[new d.FiY,hR],[new d.FiY,JI],...e]}]}}const cF=(0,qr.u3)(RO,!0),dF=[{path:"",component:pb},{path:"about",component:yw},{path:"skill",component:vw},{path:"content",component:Jk},{path:"my",component:_w}];let hF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[zy]}),n.\u0275inj=d.cJS({imports:[su,kf,dw.forRoot(dF),Xk,KN(()=>YN(lA_firebase)),lF(()=>cF()),_u.hO.initializeApp(lA_firebase)]}),n})();nf().bootstrapModule(hF).catch(n=>console.error(n))},8259:function(Ut,Je){var d;!function(J,W){"use strict";"object"==typeof Ut.exports?Ut.exports=J.document?W(J,!0):function(ge){if(!ge.document)throw new Error("jQuery requires a window with a document");return W(ge)}:W(J)}(typeof window<"u"?window:this,function(J,W){"use strict";var ge=[],Se=Object.getPrototypeOf,Ce=ge.slice,Be=ge.flat?function(g){return ge.flat.call(g)}:function(g){return ge.concat.apply([],g)},Fe=ge.push,Le=ge.indexOf,oe={},ie=oe.toString,ce=oe.hasOwnProperty,$e=ce.toString,et=$e.call(Object),Qe={},nt=function(_){return"function"==typeof _&&"number"!=typeof _.nodeType&&"function"!=typeof _.item},Ne=function(_){return null!=_&&_===_.window},Ee=J.document,rt={type:!0,src:!0,nonce:!0,noModule:!0};function it(g,_,T){var R,H,z=(T=T||Ee).createElement("script");if(z.text=g,_)for(R in rt)(H=_[R]||_.getAttribute&&_.getAttribute(R))&&z.setAttribute(R,H);T.head.appendChild(z).parentNode.removeChild(z)}function He(g){return null==g?g+"":"object"==typeof g||"function"==typeof g?oe[ie.call(g)]||"object":typeof g}var A=function(g,_){return new A.fn.init(g,_)};function dt(g){var _=!!g&&"length"in g&&g.length,T=He(g);return!nt(g)&&!Ne(g)&&("array"===T||0===_||"number"==typeof _&&_>0&&_-1 in g)}A.fn=A.prototype={jquery:"3.6.4",constructor:A,length:0,toArray:function(){return Ce.call(this)},get:function(g){return null==g?Ce.call(this):g<0?this[g+this.length]:this[g]},pushStack:function(g){var _=A.merge(this.constructor(),g);return _.prevObject=this,_},each:function(g){return A.each(this,g)},map:function(g){return this.pushStack(A.map(this,function(_,T){return g.call(_,T,_)}))},slice:function(){return this.pushStack(Ce.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(A.grep(this,function(g,_){return(_+1)%2}))},odd:function(){return this.pushStack(A.grep(this,function(g,_){return _%2}))},eq:function(g){var _=this.length,T=+g+(g<0?_:0);return this.pushStack(T>=0&&T<_?[this[T]]:[])},end:function(){return this.prevObject||this.constructor()},push:Fe,sort:ge.sort,splice:ge.splice},A.extend=A.fn.extend=function(){var g,_,T,R,H,z,q=arguments[0]||{},ae=1,re=arguments.length,ve=!1;for("boolean"==typeof q&&(ve=q,q=arguments[ae]||{},ae++),"object"!=typeof q&&!nt(q)&&(q={}),ae===re&&(q=this,ae--);ae<re;ae++)if(null!=(g=arguments[ae]))for(_ in g)R=g[_],"__proto__"!==_&&q!==R&&(ve&&R&&(A.isPlainObject(R)||(H=Array.isArray(R)))?(T=q[_],z=H&&!Array.isArray(T)?[]:H||A.isPlainObject(T)?T:{},H=!1,q[_]=A.extend(ve,z,R)):void 0!==R&&(q[_]=R));return q},A.extend({expando:"jQuery"+("3.6.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(g){throw new Error(g)},noop:function(){},isPlainObject:function(g){var _,T;return!(!g||"[object Object]"!==ie.call(g)||(_=Se(g))&&("function"!=typeof(T=ce.call(_,"constructor")&&_.constructor)||$e.call(T)!==et))},isEmptyObject:function(g){var _;for(_ in g)return!1;return!0},globalEval:function(g,_,T){it(g,{nonce:_&&_.nonce},T)},each:function(g,_){var T,R=0;if(dt(g))for(T=g.length;R<T&&!1!==_.call(g[R],R,g[R]);R++);else for(R in g)if(!1===_.call(g[R],R,g[R]))break;return g},makeArray:function(g,_){var T=_||[];return null!=g&&(dt(Object(g))?A.merge(T,"string"==typeof g?[g]:g):Fe.call(T,g)),T},inArray:function(g,_,T){return null==_?-1:Le.call(_,g,T)},merge:function(g,_){for(var T=+_.length,R=0,H=g.length;R<T;R++)g[H++]=_[R];return g.length=H,g},grep:function(g,_,T){for(var H=[],z=0,q=g.length,ae=!T;z<q;z++)!_(g[z],z)!==ae&&H.push(g[z]);return H},map:function(g,_,T){var R,H,z=0,q=[];if(dt(g))for(R=g.length;z<R;z++)null!=(H=_(g[z],z,T))&&q.push(H);else for(z in g)null!=(H=_(g[z],z,T))&&q.push(H);return Be(q)},guid:1,support:Qe}),"function"==typeof Symbol&&(A.fn[Symbol.iterator]=ge[Symbol.iterator]),A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(g,_){oe["[object "+_+"]"]=_.toLowerCase()});var tt=
/*!
             * Sizzle CSS Selector Engine v2.3.10
             * https://sizzlejs.com/
             *
             * Copyright JS Foundation and other contributors
             * Released under the MIT license
             * https://js.foundation/
             *
             * Date: 2023-02-14
             */function(g){var _,T,R,H,z,q,ae,re,ve,xe,ct,De,je,Tt,In,Kt,Wn,Cr,ti,Pn="sizzle"+1*new Date,xn=g.document,vi=0,Dn=0,jn=Pr(),js=Pr(),ws=Pr(),Ki=Pr(),zi=function(Y,se){return Y===se&&(ct=!0),0},Es={}.hasOwnProperty,ni=[],ln=ni.pop,Gi=ni.push,co=ni.push,Ka=ni.slice,$s=function(Y,se){for(var he=0,Ge=Y.length;he<Ge;he++)if(Y[he]===se)return he;return-1},va="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",sr="[\\x20\\t\\r\\n\\f]",ho="(?:\\\\[\\da-fA-F]{1,6}"+sr+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",wc="\\["+sr+"*("+ho+")(?:"+sr+"*([*^$|!~]?=)"+sr+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ho+"))|)"+sr+"*\\]",ke=":("+ho+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+wc+")*)|.*)\\)|)",Mn=new RegExp(sr+"+","g"),_a=new RegExp("^"+sr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+sr+"+$","g"),Ya=new RegExp("^"+sr+"*,"+sr+"*"),Br=new RegExp("^"+sr+"*([>+~]|"+sr+")"+sr+"*"),wl=new RegExp(sr+"|>"),Zo=new RegExp(ke),fs=new RegExp("^"+ho+"$"),Oo={ID:new RegExp("^#("+ho+")"),CLASS:new RegExp("^\\.("+ho+")"),TAG:new RegExp("^("+ho+"|[*])"),ATTR:new RegExp("^"+wc),PSEUDO:new RegExp("^"+ke),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+sr+"*(even|odd|(([+-]|)(\\d*)n|)"+sr+"*(?:([+-]|)"+sr+"*(\\d+)|))"+sr+"*\\)|)","i"),bool:new RegExp("^(?:"+va+")$","i"),needsContext:new RegExp("^"+sr+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+sr+"*((?:-\\d)?\\d*)"+sr+"*\\)|)(?=[^-]|$)","i")},El=/HTML$/i,Il=/^(?:input|select|textarea|button)$/i,fo=/^h\d$/i,Rs=/^[^{]+\{\s*\[native \w/,_i=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ni=/[+~]/,Pi=new RegExp("\\\\[\\da-fA-F]{1,6}"+sr+"?|\\\\([^\\r\\n\\f])","g"),wi=function(Y,se){var he="0x"+Y.slice(1)-65536;return se||(he<0?String.fromCharCode(he+65536):String.fromCharCode(he>>10|55296,1023&he|56320))},Is=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ou=function(Y,se){return se?"\0"===Y?"\ufffd":Y.slice(0,-1)+"\\"+Y.charCodeAt(Y.length-1).toString(16)+" ":"\\"+Y},po=function(){De()},Cl=Yo(function(Y){return!0===Y.disabled&&"fieldset"===Y.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{co.apply(ni=Ka.call(xn.childNodes),xn.childNodes)}catch{co={apply:ni.length?function(se,he){Gi.apply(se,Ka.call(he))}:function(se,he){for(var Ge=se.length,ye=0;se[Ge++]=he[ye++];);se.length=Ge-1}}}function br(Y,se,he,Ge){var ye,Ye,ut,Ct,At,sn,nn,en=se&&se.ownerDocument,Zn=se?se.nodeType:9;if(he=he||[],"string"!=typeof Y||!Y||1!==Zn&&9!==Zn&&11!==Zn)return he;if(!Ge&&(De(se),se=se||je,In)){if(11!==Zn&&(At=_i.exec(Y)))if(ye=At[1]){if(9===Zn){if(!(ut=se.getElementById(ye)))return he;if(ut.id===ye)return he.push(ut),he}else if(en&&(ut=en.getElementById(ye))&&ti(se,ut)&&ut.id===ye)return he.push(ut),he}else{if(At[2])return co.apply(he,se.getElementsByTagName(Y)),he;if((ye=At[3])&&T.getElementsByClassName&&se.getElementsByClassName)return co.apply(he,se.getElementsByClassName(ye)),he}if(T.qsa&&!Ki[Y+" "]&&(!Kt||!Kt.test(Y))&&(1!==Zn||"object"!==se.nodeName.toLowerCase())){if(nn=Y,en=se,1===Zn&&(wl.test(Y)||Br.test(Y))){for(((en=Ni.test(Y)&&Ea(se.parentNode)||se)!==se||!T.scope)&&((Ct=se.getAttribute("id"))?Ct=Ct.replace(Is,Ou):se.setAttribute("id",Ct=Pn)),Ye=(sn=q(Y)).length;Ye--;)sn[Ye]=(Ct?"#"+Ct:":scope")+" "+Ca(sn[Ye]);nn=sn.join(",")}try{return co.apply(he,en.querySelectorAll(nn)),he}catch{Ki(Y,!0)}finally{Ct===Pn&&se.removeAttribute("id")}}}return re(Y.replace(_a,"$1"),se,he,Ge)}function Pr(){var Y=[];return function se(he,Ge){return Y.push(he+" ")>R.cacheLength&&delete se[Y.shift()],se[he+" "]=Ge}}function Yi(Y){return Y[Pn]=!0,Y}function ki(Y){var se=je.createElement("fieldset");try{return!!Y(se)}catch{return!1}finally{se.parentNode&&se.parentNode.removeChild(se),se=null}}function Qa(Y,se){for(var he=Y.split("|"),Ge=he.length;Ge--;)R.attrHandle[he[Ge]]=se}function wa(Y,se){var he=se&&Y,Ge=he&&1===Y.nodeType&&1===se.nodeType&&Y.sourceIndex-se.sourceIndex;if(Ge)return Ge;if(he)for(;he=he.nextSibling;)if(he===se)return-1;return Y?1:-1}function bl(Y){return function(se){return"input"===se.nodeName.toLowerCase()&&se.type===Y}}function Ko(Y){return function(se){var he=se.nodeName.toLowerCase();return("input"===he||"button"===he)&&se.type===Y}}function Xa(Y){return function(se){return"form"in se?se.parentNode&&!1===se.disabled?"label"in se?"label"in se.parentNode?se.parentNode.disabled===Y:se.disabled===Y:se.isDisabled===Y||se.isDisabled!==!Y&&Cl(se)===Y:se.disabled===Y:"label"in se&&se.disabled===Y}}function Cs(Y){return Yi(function(se){return se=+se,Yi(function(he,Ge){for(var ye,Ye=Y([],he.length,se),ut=Ye.length;ut--;)he[ye=Ye[ut]]&&(he[ye]=!(Ge[ye]=he[ye]))})})}function Ea(Y){return Y&&typeof Y.getElementsByTagName<"u"&&Y}for(_ in T=br.support={},z=br.isXML=function(Y){var he=Y&&(Y.ownerDocument||Y).documentElement;return!El.test(Y&&Y.namespaceURI||he&&he.nodeName||"HTML")},De=br.setDocument=function(Y){var se,he,Ge=Y?Y.ownerDocument||Y:xn;return Ge==je||9!==Ge.nodeType||!Ge.documentElement||(Tt=(je=Ge).documentElement,In=!z(je),xn!=je&&(he=je.defaultView)&&he.top!==he&&(he.addEventListener?he.addEventListener("unload",po,!1):he.attachEvent&&he.attachEvent("onunload",po)),T.scope=ki(function(ye){return Tt.appendChild(ye).appendChild(je.createElement("div")),typeof ye.querySelectorAll<"u"&&!ye.querySelectorAll(":scope fieldset div").length}),T.cssHas=ki(function(){try{return je.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),T.attributes=ki(function(ye){return ye.className="i",!ye.getAttribute("className")}),T.getElementsByTagName=ki(function(ye){return ye.appendChild(je.createComment("")),!ye.getElementsByTagName("*").length}),T.getElementsByClassName=Rs.test(je.getElementsByClassName),T.getById=ki(function(ye){return Tt.appendChild(ye).id=Pn,!je.getElementsByName||!je.getElementsByName(Pn).length}),T.getById?(R.filter.ID=function(ye){var Ye=ye.replace(Pi,wi);return function(ut){return ut.getAttribute("id")===Ye}},R.find.ID=function(ye,Ye){if(typeof Ye.getElementById<"u"&&In){var ut=Ye.getElementById(ye);return ut?[ut]:[]}}):(R.filter.ID=function(ye){var Ye=ye.replace(Pi,wi);return function(ut){var Ct=typeof ut.getAttributeNode<"u"&&ut.getAttributeNode("id");return Ct&&Ct.value===Ye}},R.find.ID=function(ye,Ye){if(typeof Ye.getElementById<"u"&&In){var ut,Ct,At,sn=Ye.getElementById(ye);if(sn){if((ut=sn.getAttributeNode("id"))&&ut.value===ye)return[sn];for(At=Ye.getElementsByName(ye),Ct=0;sn=At[Ct++];)if((ut=sn.getAttributeNode("id"))&&ut.value===ye)return[sn]}return[]}}),R.find.TAG=T.getElementsByTagName?function(ye,Ye){return typeof Ye.getElementsByTagName<"u"?Ye.getElementsByTagName(ye):T.qsa?Ye.querySelectorAll(ye):void 0}:function(ye,Ye){var ut,Ct=[],At=0,sn=Ye.getElementsByTagName(ye);if("*"===ye){for(;ut=sn[At++];)1===ut.nodeType&&Ct.push(ut);return Ct}return sn},R.find.CLASS=T.getElementsByClassName&&function(ye,Ye){if(typeof Ye.getElementsByClassName<"u"&&In)return Ye.getElementsByClassName(ye)},Wn=[],Kt=[],(T.qsa=Rs.test(je.querySelectorAll))&&(ki(function(ye){var Ye;Tt.appendChild(ye).innerHTML="<a id='"+Pn+"'></a><select id='"+Pn+"-\r\\' msallowcapture=''><option selected=''></option></select>",ye.querySelectorAll("[msallowcapture^='']").length&&Kt.push("[*^$]="+sr+"*(?:''|\"\")"),ye.querySelectorAll("[selected]").length||Kt.push("\\["+sr+"*(?:value|"+va+")"),ye.querySelectorAll("[id~="+Pn+"-]").length||Kt.push("~="),(Ye=je.createElement("input")).setAttribute("name",""),ye.appendChild(Ye),ye.querySelectorAll("[name='']").length||Kt.push("\\["+sr+"*name"+sr+"*="+sr+"*(?:''|\"\")"),ye.querySelectorAll(":checked").length||Kt.push(":checked"),ye.querySelectorAll("a#"+Pn+"+*").length||Kt.push(".#.+[+~]"),ye.querySelectorAll("\\\f"),Kt.push("[\\r\\n\\f]")}),ki(function(ye){ye.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Ye=je.createElement("input");Ye.setAttribute("type","hidden"),ye.appendChild(Ye).setAttribute("name","D"),ye.querySelectorAll("[name=d]").length&&Kt.push("name"+sr+"*[*^$|!~]?="),2!==ye.querySelectorAll(":enabled").length&&Kt.push(":enabled",":disabled"),Tt.appendChild(ye).disabled=!0,2!==ye.querySelectorAll(":disabled").length&&Kt.push(":enabled",":disabled"),ye.querySelectorAll("*,:x"),Kt.push(",.*:")})),(T.matchesSelector=Rs.test(Cr=Tt.matches||Tt.webkitMatchesSelector||Tt.mozMatchesSelector||Tt.oMatchesSelector||Tt.msMatchesSelector))&&ki(function(ye){T.disconnectedMatch=Cr.call(ye,"*"),Cr.call(ye,"[s!='']:x"),Wn.push("!=",ke)}),T.cssHas||Kt.push(":has"),Kt=Kt.length&&new RegExp(Kt.join("|")),Wn=Wn.length&&new RegExp(Wn.join("|")),se=Rs.test(Tt.compareDocumentPosition),ti=se||Rs.test(Tt.contains)?function(ye,Ye){var ut=9===ye.nodeType&&ye.documentElement||ye,Ct=Ye&&Ye.parentNode;return ye===Ct||!(!Ct||1!==Ct.nodeType||!(ut.contains?ut.contains(Ct):ye.compareDocumentPosition&&16&ye.compareDocumentPosition(Ct)))}:function(ye,Ye){if(Ye)for(;Ye=Ye.parentNode;)if(Ye===ye)return!0;return!1},zi=se?function(ye,Ye){if(ye===Ye)return ct=!0,0;var ut=!ye.compareDocumentPosition-!Ye.compareDocumentPosition;return ut||(1&(ut=(ye.ownerDocument||ye)==(Ye.ownerDocument||Ye)?ye.compareDocumentPosition(Ye):1)||!T.sortDetached&&Ye.compareDocumentPosition(ye)===ut?ye==je||ye.ownerDocument==xn&&ti(xn,ye)?-1:Ye==je||Ye.ownerDocument==xn&&ti(xn,Ye)?1:xe?$s(xe,ye)-$s(xe,Ye):0:4&ut?-1:1)}:function(ye,Ye){if(ye===Ye)return ct=!0,0;var ut,Ct=0,At=ye.parentNode,sn=Ye.parentNode,nn=[ye],en=[Ye];if(!At||!sn)return ye==je?-1:Ye==je?1:At?-1:sn?1:xe?$s(xe,ye)-$s(xe,Ye):0;if(At===sn)return wa(ye,Ye);for(ut=ye;ut=ut.parentNode;)nn.unshift(ut);for(ut=Ye;ut=ut.parentNode;)en.unshift(ut);for(;nn[Ct]===en[Ct];)Ct++;return Ct?wa(nn[Ct],en[Ct]):nn[Ct]==xn?-1:en[Ct]==xn?1:0}),je},br.matches=function(Y,se){return br(Y,null,null,se)},br.matchesSelector=function(Y,se){if(De(Y),T.matchesSelector&&In&&!Ki[se+" "]&&(!Wn||!Wn.test(se))&&(!Kt||!Kt.test(se)))try{var he=Cr.call(Y,se);if(he||T.disconnectedMatch||Y.document&&11!==Y.document.nodeType)return he}catch{Ki(se,!0)}return br(se,je,null,[Y]).length>0},br.contains=function(Y,se){return(Y.ownerDocument||Y)!=je&&De(Y),ti(Y,se)},br.attr=function(Y,se){(Y.ownerDocument||Y)!=je&&De(Y);var he=R.attrHandle[se.toLowerCase()],Ge=he&&Es.call(R.attrHandle,se.toLowerCase())?he(Y,se,!In):void 0;return void 0!==Ge?Ge:T.attributes||!In?Y.getAttribute(se):(Ge=Y.getAttributeNode(se))&&Ge.specified?Ge.value:null},br.escape=function(Y){return(Y+"").replace(Is,Ou)},br.error=function(Y){throw new Error("Syntax error, unrecognized expression: "+Y)},br.uniqueSort=function(Y){var se,he=[],Ge=0,ye=0;if(ct=!T.detectDuplicates,xe=!T.sortStable&&Y.slice(0),Y.sort(zi),ct){for(;se=Y[ye++];)se===Y[ye]&&(Ge=he.push(ye));for(;Ge--;)Y.splice(he[Ge],1)}return xe=null,Y},H=br.getText=function(Y){var se,he="",Ge=0,ye=Y.nodeType;if(ye){if(1===ye||9===ye||11===ye){if("string"==typeof Y.textContent)return Y.textContent;for(Y=Y.firstChild;Y;Y=Y.nextSibling)he+=H(Y)}else if(3===ye||4===ye)return Y.nodeValue}else for(;se=Y[Ge++];)he+=H(se);return he},(R=br.selectors={cacheLength:50,createPseudo:Yi,match:Oo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Y){return Y[1]=Y[1].replace(Pi,wi),Y[3]=(Y[3]||Y[4]||Y[5]||"").replace(Pi,wi),"~="===Y[2]&&(Y[3]=" "+Y[3]+" "),Y.slice(0,4)},CHILD:function(Y){return Y[1]=Y[1].toLowerCase(),"nth"===Y[1].slice(0,3)?(Y[3]||br.error(Y[0]),Y[4]=+(Y[4]?Y[5]+(Y[6]||1):2*("even"===Y[3]||"odd"===Y[3])),Y[5]=+(Y[7]+Y[8]||"odd"===Y[3])):Y[3]&&br.error(Y[0]),Y},PSEUDO:function(Y){var se,he=!Y[6]&&Y[2];return Oo.CHILD.test(Y[0])?null:(Y[3]?Y[2]=Y[4]||Y[5]||"":he&&Zo.test(he)&&(se=q(he,!0))&&(se=he.indexOf(")",he.length-se)-he.length)&&(Y[0]=Y[0].slice(0,se),Y[2]=he.slice(0,se)),Y.slice(0,3))}},filter:{TAG:function(Y){var se=Y.replace(Pi,wi).toLowerCase();return"*"===Y?function(){return!0}:function(he){return he.nodeName&&he.nodeName.toLowerCase()===se}},CLASS:function(Y){var se=jn[Y+" "];return se||(se=new RegExp("(^|"+sr+")"+Y+"("+sr+"|$)"))&&jn(Y,function(he){return se.test("string"==typeof he.className&&he.className||typeof he.getAttribute<"u"&&he.getAttribute("class")||"")})},ATTR:function(Y,se,he){return function(Ge){var ye=br.attr(Ge,Y);return null==ye?"!="===se:!se||(ye+="","="===se?ye===he:"!="===se?ye!==he:"^="===se?he&&0===ye.indexOf(he):"*="===se?he&&ye.indexOf(he)>-1:"$="===se?he&&ye.slice(-he.length)===he:"~="===se?(" "+ye.replace(Mn," ")+" ").indexOf(he)>-1:"|="===se&&(ye===he||ye.slice(0,he.length+1)===he+"-"))}},CHILD:function(Y,se,he,Ge,ye){var Ye="nth"!==Y.slice(0,3),ut="last"!==Y.slice(-4),Ct="of-type"===se;return 1===Ge&&0===ye?function(At){return!!At.parentNode}:function(At,sn,nn){var en,Zn,yr,cn,Kr,kr,qi=Ye!==ut?"nextSibling":"previousSibling",fr=At.parentNode,go=Ct&&At.nodeName.toLowerCase(),Os=!nn&&!Ct,Qi=!1;if(fr){if(Ye){for(;qi;){for(cn=At;cn=cn[qi];)if(Ct?cn.nodeName.toLowerCase()===go:1===cn.nodeType)return!1;kr=qi="only"===Y&&!kr&&"nextSibling"}return!0}if(kr=[ut?fr.firstChild:fr.lastChild],ut&&Os){for(Qi=(Kr=(en=(Zn=(yr=(cn=fr)[Pn]||(cn[Pn]={}))[cn.uniqueID]||(yr[cn.uniqueID]={}))[Y]||[])[0]===vi&&en[1])&&en[2],cn=Kr&&fr.childNodes[Kr];cn=++Kr&&cn&&cn[qi]||(Qi=Kr=0)||kr.pop();)if(1===cn.nodeType&&++Qi&&cn===At){Zn[Y]=[vi,Kr,Qi];break}}else if(Os&&(Qi=Kr=(en=(Zn=(yr=(cn=At)[Pn]||(cn[Pn]={}))[cn.uniqueID]||(yr[cn.uniqueID]={}))[Y]||[])[0]===vi&&en[1]),!1===Qi)for(;(cn=++Kr&&cn&&cn[qi]||(Qi=Kr=0)||kr.pop())&&((Ct?cn.nodeName.toLowerCase()!==go:1!==cn.nodeType)||!++Qi||(Os&&((Zn=(yr=cn[Pn]||(cn[Pn]={}))[cn.uniqueID]||(yr[cn.uniqueID]={}))[Y]=[vi,Qi]),cn!==At)););return(Qi-=ye)===Ge||Qi%Ge==0&&Qi/Ge>=0}}},PSEUDO:function(Y,se){var he,Ge=R.pseudos[Y]||R.setFilters[Y.toLowerCase()]||br.error("unsupported pseudo: "+Y);return Ge[Pn]?Ge(se):Ge.length>1?(he=[Y,Y,"",se],R.setFilters.hasOwnProperty(Y.toLowerCase())?Yi(function(ye,Ye){for(var ut,Ct=Ge(ye,se),At=Ct.length;At--;)ye[ut=$s(ye,Ct[At])]=!(Ye[ut]=Ct[At])}):function(ye){return Ge(ye,0,he)}):Ge}},pseudos:{not:Yi(function(Y){var se=[],he=[],Ge=ae(Y.replace(_a,"$1"));return Ge[Pn]?Yi(function(ye,Ye,ut,Ct){for(var At,sn=Ge(ye,null,Ct,[]),nn=ye.length;nn--;)(At=sn[nn])&&(ye[nn]=!(Ye[nn]=At))}):function(ye,Ye,ut){return se[0]=ye,Ge(se,null,ut,he),se[0]=null,!he.pop()}}),has:Yi(function(Y){return function(se){return br(Y,se).length>0}}),contains:Yi(function(Y){return Y=Y.replace(Pi,wi),function(se){return(se.textContent||H(se)).indexOf(Y)>-1}}),lang:Yi(function(Y){return fs.test(Y||"")||br.error("unsupported lang: "+Y),Y=Y.replace(Pi,wi).toLowerCase(),function(se){var he;do{if(he=In?se.lang:se.getAttribute("xml:lang")||se.getAttribute("lang"))return(he=he.toLowerCase())===Y||0===he.indexOf(Y+"-")}while((se=se.parentNode)&&1===se.nodeType);return!1}}),target:function(Y){var se=g.location&&g.location.hash;return se&&se.slice(1)===Y.id},root:function(Y){return Y===Tt},focus:function(Y){return Y===je.activeElement&&(!je.hasFocus||je.hasFocus())&&!!(Y.type||Y.href||~Y.tabIndex)},enabled:Xa(!1),disabled:Xa(!0),checked:function(Y){var se=Y.nodeName.toLowerCase();return"input"===se&&!!Y.checked||"option"===se&&!!Y.selected},selected:function(Y){return!0===Y.selected},empty:function(Y){for(Y=Y.firstChild;Y;Y=Y.nextSibling)if(Y.nodeType<6)return!1;return!0},parent:function(Y){return!R.pseudos.empty(Y)},header:function(Y){return fo.test(Y.nodeName)},input:function(Y){return Il.test(Y.nodeName)},button:function(Y){var se=Y.nodeName.toLowerCase();return"input"===se&&"button"===Y.type||"button"===se},text:function(Y){var se;return"input"===Y.nodeName.toLowerCase()&&"text"===Y.type&&(null==(se=Y.getAttribute("type"))||"text"===se.toLowerCase())},first:Cs(function(){return[0]}),last:Cs(function(Y,se){return[se-1]}),eq:Cs(function(Y,se,he){return[he<0?he+se:he]}),even:Cs(function(Y,se){for(var he=0;he<se;he+=2)Y.push(he);return Y}),odd:Cs(function(Y,se){for(var he=1;he<se;he+=2)Y.push(he);return Y}),lt:Cs(function(Y,se,he){for(var Ge=he<0?he+se:he>se?se:he;--Ge>=0;)Y.push(Ge);return Y}),gt:Cs(function(Y,se,he){for(var Ge=he<0?he+se:he;++Ge<se;)Y.push(Ge);return Y})}}).pseudos.nth=R.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})R.pseudos[_]=bl(_);for(_ in{submit:!0,reset:!0})R.pseudos[_]=Ko(_);function Ia(){}function Ca(Y){for(var se=0,he=Y.length,Ge="";se<he;se++)Ge+=Y[se].value;return Ge}function Yo(Y,se,he){var Ge=se.dir,ye=se.next,Ye=ye||Ge,ut=he&&"parentNode"===Ye,Ct=Dn++;return se.first?function(At,sn,nn){for(;At=At[Ge];)if(1===At.nodeType||ut)return Y(At,sn,nn);return!1}:function(At,sn,nn){var en,Zn,yr,cn=[vi,Ct];if(nn){for(;At=At[Ge];)if((1===At.nodeType||ut)&&Y(At,sn,nn))return!0}else for(;At=At[Ge];)if(1===At.nodeType||ut)if(Zn=(yr=At[Pn]||(At[Pn]={}))[At.uniqueID]||(yr[At.uniqueID]={}),ye&&ye===At.nodeName.toLowerCase())At=At[Ge]||At;else{if((en=Zn[Ye])&&en[0]===vi&&en[1]===Ct)return cn[2]=en[2];if(Zn[Ye]=cn,cn[2]=Y(At,sn,nn))return!0}return!1}}function Ja(Y){return Y.length>1?function(se,he,Ge){for(var ye=Y.length;ye--;)if(!Y[ye](se,he,Ge))return!1;return!0}:Y[0]}function os(Y,se,he,Ge,ye){for(var Ye,ut=[],Ct=0,At=Y.length,sn=null!=se;Ct<At;Ct++)(Ye=Y[Ct])&&(!he||he(Ye,Ge,ye))&&(ut.push(Ye),sn&&se.push(Ct));return ut}function Dr(Y,se,he,Ge,ye,Ye){return Ge&&!Ge[Pn]&&(Ge=Dr(Ge)),ye&&!ye[Pn]&&(ye=Dr(ye,Ye)),Yi(function(ut,Ct,At,sn){var nn,en,Zn,yr=[],cn=[],Kr=Ct.length,kr=ut||function Fi(Y,se,he){for(var Ge=0,ye=se.length;Ge<ye;Ge++)br(Y,se[Ge],he);return he}(se||"*",At.nodeType?[At]:At,[]),qi=!Y||!ut&&se?kr:os(kr,yr,Y,At,sn),fr=he?ye||(ut?Y:Kr||Ge)?[]:Ct:qi;if(he&&he(qi,fr,At,sn),Ge)for(nn=os(fr,cn),Ge(nn,[],At,sn),en=nn.length;en--;)(Zn=nn[en])&&(fr[cn[en]]=!(qi[cn[en]]=Zn));if(ut){if(ye||Y){if(ye){for(nn=[],en=fr.length;en--;)(Zn=fr[en])&&nn.push(qi[en]=Zn);ye(null,fr=[],nn,sn)}for(en=fr.length;en--;)(Zn=fr[en])&&(nn=ye?$s(ut,Zn):yr[en])>-1&&(ut[nn]=!(Ct[nn]=Zn))}}else fr=os(fr===Ct?fr.splice(Kr,fr.length):fr),ye?ye(null,Ct,fr,sn):co.apply(Ct,fr)})}function eu(Y){for(var se,he,Ge,ye=Y.length,Ye=R.relative[Y[0].type],ut=Ye||R.relative[" "],Ct=Ye?1:0,At=Yo(function(en){return en===se},ut,!0),sn=Yo(function(en){return $s(se,en)>-1},ut,!0),nn=[function(en,Zn,yr){var cn=!Ye&&(yr||Zn!==ve)||((se=Zn).nodeType?At(en,Zn,yr):sn(en,Zn,yr));return se=null,cn}];Ct<ye;Ct++)if(he=R.relative[Y[Ct].type])nn=[Yo(Ja(nn),he)];else{if((he=R.filter[Y[Ct].type].apply(null,Y[Ct].matches))[Pn]){for(Ge=++Ct;Ge<ye&&!R.relative[Y[Ge].type];Ge++);return Dr(Ct>1&&Ja(nn),Ct>1&&Ca(Y.slice(0,Ct-1).concat({value:" "===Y[Ct-2].type?"*":""})).replace(_a,"$1"),he,Ct<Ge&&eu(Y.slice(Ct,Ge)),Ge<ye&&eu(Y=Y.slice(Ge)),Ge<ye&&Ca(Y))}nn.push(he)}return Ja(nn)}return Ia.prototype=R.filters=R.pseudos,R.setFilters=new Ia,q=br.tokenize=function(Y,se){var he,Ge,ye,Ye,ut,Ct,At,sn=js[Y+" "];if(sn)return se?0:sn.slice(0);for(ut=Y,Ct=[],At=R.preFilter;ut;){for(Ye in(!he||(Ge=Ya.exec(ut)))&&(Ge&&(ut=ut.slice(Ge[0].length)||ut),Ct.push(ye=[])),he=!1,(Ge=Br.exec(ut))&&(he=Ge.shift(),ye.push({value:he,type:Ge[0].replace(_a," ")}),ut=ut.slice(he.length)),R.filter)(Ge=Oo[Ye].exec(ut))&&(!At[Ye]||(Ge=At[Ye](Ge)))&&(he=Ge.shift(),ye.push({value:he,type:Ye,matches:Ge}),ut=ut.slice(he.length));if(!he)break}return se?ut.length:ut?br.error(Y):js(Y,Ct).slice(0)},ae=br.compile=function(Y,se){var he,Ge=[],ye=[],Ye=ws[Y+" "];if(!Ye){for(se||(se=q(Y)),he=se.length;he--;)(Ye=eu(se[he]))[Pn]?Ge.push(Ye):ye.push(Ye);Ye=ws(Y,function Qo(Y,se){var he=se.length>0,Ge=Y.length>0,ye=function(Ye,ut,Ct,At,sn){var nn,en,Zn,yr=0,cn="0",Kr=Ye&&[],kr=[],qi=ve,fr=Ye||Ge&&R.find.TAG("*",sn),go=vi+=null==qi?1:Math.random()||.1,Os=fr.length;for(sn&&(ve=ut==je||ut||sn);cn!==Os&&null!=(nn=fr[cn]);cn++){if(Ge&&nn){for(en=0,!ut&&nn.ownerDocument!=je&&(De(nn),Ct=!In);Zn=Y[en++];)if(Zn(nn,ut||je,Ct)){At.push(nn);break}sn&&(vi=go)}he&&((nn=!Zn&&nn)&&yr--,Ye&&Kr.push(nn))}if(yr+=cn,he&&cn!==yr){for(en=0;Zn=se[en++];)Zn(Kr,kr,ut,Ct);if(Ye){if(yr>0)for(;cn--;)Kr[cn]||kr[cn]||(kr[cn]=ln.call(At));kr=os(kr)}co.apply(At,kr),sn&&!Ye&&kr.length>0&&yr+se.length>1&&br.uniqueSort(At)}return sn&&(vi=go,ve=qi),Kr};return he?Yi(ye):ye}(ye,Ge)),Ye.selector=Y}return Ye},re=br.select=function(Y,se,he,Ge){var ye,Ye,ut,Ct,At,sn="function"==typeof Y&&Y,nn=!Ge&&q(Y=sn.selector||Y);if(he=he||[],1===nn.length){if((Ye=nn[0]=nn[0].slice(0)).length>2&&"ID"===(ut=Ye[0]).type&&9===se.nodeType&&In&&R.relative[Ye[1].type]){if(!(se=(R.find.ID(ut.matches[0].replace(Pi,wi),se)||[])[0]))return he;sn&&(se=se.parentNode),Y=Y.slice(Ye.shift().value.length)}for(ye=Oo.needsContext.test(Y)?0:Ye.length;ye--&&!R.relative[Ct=(ut=Ye[ye]).type];)if((At=R.find[Ct])&&(Ge=At(ut.matches[0].replace(Pi,wi),Ni.test(Ye[0].type)&&Ea(se.parentNode)||se))){if(Ye.splice(ye,1),!(Y=Ge.length&&Ca(Ye)))return co.apply(he,Ge),he;break}}return(sn||ae(Y,nn))(Ge,se,!In,he,!se||Ni.test(Y)&&Ea(se.parentNode)||se),he},T.sortStable=Pn.split("").sort(zi).join("")===Pn,T.detectDuplicates=!!ct,De(),T.sortDetached=ki(function(Y){return 1&Y.compareDocumentPosition(je.createElement("fieldset"))}),ki(function(Y){return Y.innerHTML="<a href='#'></a>","#"===Y.firstChild.getAttribute("href")})||Qa("type|href|height|width",function(Y,se,he){if(!he)return Y.getAttribute(se,"type"===se.toLowerCase()?1:2)}),(!T.attributes||!ki(function(Y){return Y.innerHTML="<input/>",Y.firstChild.setAttribute("value",""),""===Y.firstChild.getAttribute("value")}))&&Qa("value",function(Y,se,he){if(!he&&"input"===Y.nodeName.toLowerCase())return Y.defaultValue}),ki(function(Y){return null==Y.getAttribute("disabled")})||Qa(va,function(Y,se,he){var Ge;if(!he)return!0===Y[se]?se.toLowerCase():(Ge=Y.getAttributeNode(se))&&Ge.specified?Ge.value:null}),br}(J);A.find=tt,A.expr=tt.selectors,A.expr[":"]=A.expr.pseudos,A.uniqueSort=A.unique=tt.uniqueSort,A.text=tt.getText,A.isXMLDoc=tt.isXML,A.contains=tt.contains,A.escapeSelector=tt.escape;var be=function(g,_,T){for(var R=[],H=void 0!==T;(g=g[_])&&9!==g.nodeType;)if(1===g.nodeType){if(H&&A(g).is(T))break;R.push(g)}return R},Mt=function(g,_){for(var T=[];g;g=g.nextSibling)1===g.nodeType&&g!==_&&T.push(g);return T},Wt=A.expr.match.needsContext;function Dt(g,_){return g.nodeName&&g.nodeName.toLowerCase()===_.toLowerCase()}var fn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Bt(g,_,T){return nt(_)?A.grep(g,function(R,H){return!!_.call(R,H,R)!==T}):_.nodeType?A.grep(g,function(R){return R===_!==T}):"string"!=typeof _?A.grep(g,function(R){return Le.call(_,R)>-1!==T}):A.filter(_,g,T)}A.filter=function(g,_,T){var R=_[0];return T&&(g=":not("+g+")"),1===_.length&&1===R.nodeType?A.find.matchesSelector(R,g)?[R]:[]:A.find.matches(g,A.grep(_,function(H){return 1===H.nodeType}))},A.fn.extend({find:function(g){var _,T,R=this.length,H=this;if("string"!=typeof g)return this.pushStack(A(g).filter(function(){for(_=0;_<R;_++)if(A.contains(H[_],this))return!0}));for(T=this.pushStack([]),_=0;_<R;_++)A.find(g,H[_],T);return R>1?A.uniqueSort(T):T},filter:function(g){return this.pushStack(Bt(this,g||[],!1))},not:function(g){return this.pushStack(Bt(this,g||[],!0))},is:function(g){return!!Bt(this,"string"==typeof g&&Wt.test(g)?A(g):g||[],!1).length}});var Ue,Ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ke=A.fn.init=function(g,_,T){var R,H;if(!g)return this;if(T=T||Ue,"string"==typeof g){if(!(R="<"===g[0]&&">"===g[g.length-1]&&g.length>=3?[null,g,null]:Ve.exec(g))||!R[1]&&_)return!_||_.jquery?(_||T).find(g):this.constructor(_).find(g);if(R[1]){if(A.merge(this,A.parseHTML(R[1],(_=_ instanceof A?_[0]:_)&&_.nodeType?_.ownerDocument||_:Ee,!0)),fn.test(R[1])&&A.isPlainObject(_))for(R in _)nt(this[R])?this[R](_[R]):this.attr(R,_[R]);return this}return(H=Ee.getElementById(R[2]))&&(this[0]=H,this.length=1),this}return g.nodeType?(this[0]=g,this.length=1,this):nt(g)?void 0!==T.ready?T.ready(g):g(A):A.makeArray(g,this)};Ke.prototype=A.fn,Ue=A(Ee);var st=/^(?:parents|prev(?:Until|All))/,wt={children:!0,contents:!0,next:!0,prev:!0};function mt(g,_){for(;(g=g[_])&&1!==g.nodeType;);return g}A.fn.extend({has:function(g){var _=A(g,this),T=_.length;return this.filter(function(){for(var R=0;R<T;R++)if(A.contains(this,_[R]))return!0})},closest:function(g,_){var T,R=0,H=this.length,z=[],q="string"!=typeof g&&A(g);if(!Wt.test(g))for(;R<H;R++)for(T=this[R];T&&T!==_;T=T.parentNode)if(T.nodeType<11&&(q?q.index(T)>-1:1===T.nodeType&&A.find.matchesSelector(T,g))){z.push(T);break}return this.pushStack(z.length>1?A.uniqueSort(z):z)},index:function(g){return g?"string"==typeof g?Le.call(A(g),this[0]):Le.call(this,g.jquery?g[0]:g):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(g,_){return this.pushStack(A.uniqueSort(A.merge(this.get(),A(g,_))))},addBack:function(g){return this.add(null==g?this.prevObject:this.prevObject.filter(g))}}),A.each({parent:function(g){var _=g.parentNode;return _&&11!==_.nodeType?_:null},parents:function(g){return be(g,"parentNode")},parentsUntil:function(g,_,T){return be(g,"parentNode",T)},next:function(g){return mt(g,"nextSibling")},prev:function(g){return mt(g,"previousSibling")},nextAll:function(g){return be(g,"nextSibling")},prevAll:function(g){return be(g,"previousSibling")},nextUntil:function(g,_,T){return be(g,"nextSibling",T)},prevUntil:function(g,_,T){return be(g,"previousSibling",T)},siblings:function(g){return Mt((g.parentNode||{}).firstChild,g)},children:function(g){return Mt(g.firstChild)},contents:function(g){return null!=g.contentDocument&&Se(g.contentDocument)?g.contentDocument:(Dt(g,"template")&&(g=g.content||g),A.merge([],g.childNodes))}},function(g,_){A.fn[g]=function(T,R){var H=A.map(this,_,T);return"Until"!==g.slice(-5)&&(R=T),R&&"string"==typeof R&&(H=A.filter(R,H)),this.length>1&&(wt[g]||A.uniqueSort(H),st.test(g)&&H.reverse()),this.pushStack(H)}});var Nt=/[^\x20\t\r\n\f]+/g;function Ht(g){return g}function Qt(g){throw g}function bn(g,_,T,R){var H;try{g&&nt(H=g.promise)?H.call(g).done(_).fail(T):g&&nt(H=g.then)?H.call(g,_,T):_.apply(void 0,[g].slice(R))}catch(z){T.apply(void 0,[z])}}A.Callbacks=function(g){g="string"==typeof g?function vt(g){var _={};return A.each(g.match(Nt)||[],function(T,R){_[R]=!0}),_}(g):A.extend({},g);var _,T,R,H,z=[],q=[],ae=-1,re=function(){for(H=H||g.once,R=_=!0;q.length;ae=-1)for(T=q.shift();++ae<z.length;)!1===z[ae].apply(T[0],T[1])&&g.stopOnFalse&&(ae=z.length,T=!1);g.memory||(T=!1),_=!1,H&&(z=T?[]:"")},ve={add:function(){return z&&(T&&!_&&(ae=z.length-1,q.push(T)),function xe(ct){A.each(ct,function(De,je){nt(je)?(!g.unique||!ve.has(je))&&z.push(je):je&&je.length&&"string"!==He(je)&&xe(je)})}(arguments),T&&!_&&re()),this},remove:function(){return A.each(arguments,function(xe,ct){for(var De;(De=A.inArray(ct,z,De))>-1;)z.splice(De,1),De<=ae&&ae--}),this},has:function(xe){return xe?A.inArray(xe,z)>-1:z.length>0},empty:function(){return z&&(z=[]),this},disable:function(){return H=q=[],z=T="",this},disabled:function(){return!z},lock:function(){return H=q=[],!T&&!_&&(z=T=""),this},locked:function(){return!!H},fireWith:function(xe,ct){return H||(ct=[xe,(ct=ct||[]).slice?ct.slice():ct],q.push(ct),_||re()),this},fire:function(){return ve.fireWith(this,arguments),this},fired:function(){return!!R}};return ve},A.extend({Deferred:function(g){var _=[["notify","progress",A.Callbacks("memory"),A.Callbacks("memory"),2],["resolve","done",A.Callbacks("once memory"),A.Callbacks("once memory"),0,"resolved"],["reject","fail",A.Callbacks("once memory"),A.Callbacks("once memory"),1,"rejected"]],T="pending",R={state:function(){return T},always:function(){return H.done(arguments).fail(arguments),this},catch:function(z){return R.then(null,z)},pipe:function(){var z=arguments;return A.Deferred(function(q){A.each(_,function(ae,re){var ve=nt(z[re[4]])&&z[re[4]];H[re[1]](function(){var xe=ve&&ve.apply(this,arguments);xe&&nt(xe.promise)?xe.promise().progress(q.notify).done(q.resolve).fail(q.reject):q[re[0]+"With"](this,ve?[xe]:arguments)})}),z=null}).promise()},then:function(z,q,ae){var re=0;function ve(xe,ct,De,je){return function(){var Tt=this,In=arguments,Kt=function(){var Cr,ti;if(!(xe<re)){if((Cr=De.apply(Tt,In))===ct.promise())throw new TypeError("Thenable self-resolution");nt(ti=Cr&&("object"==typeof Cr||"function"==typeof Cr)&&Cr.then)?je?ti.call(Cr,ve(re,ct,Ht,je),ve(re,ct,Qt,je)):(re++,ti.call(Cr,ve(re,ct,Ht,je),ve(re,ct,Qt,je),ve(re,ct,Ht,ct.notifyWith))):(De!==Ht&&(Tt=void 0,In=[Cr]),(je||ct.resolveWith)(Tt,In))}},Wn=je?Kt:function(){try{Kt()}catch(Cr){A.Deferred.exceptionHook&&A.Deferred.exceptionHook(Cr,Wn.stackTrace),xe+1>=re&&(De!==Qt&&(Tt=void 0,In=[Cr]),ct.rejectWith(Tt,In))}};xe?Wn():(A.Deferred.getStackHook&&(Wn.stackTrace=A.Deferred.getStackHook()),J.setTimeout(Wn))}}return A.Deferred(function(xe){_[0][3].add(ve(0,xe,nt(ae)?ae:Ht,xe.notifyWith)),_[1][3].add(ve(0,xe,nt(z)?z:Ht)),_[2][3].add(ve(0,xe,nt(q)?q:Qt))}).promise()},promise:function(z){return null!=z?A.extend(z,R):R}},H={};return A.each(_,function(z,q){var ae=q[2],re=q[5];R[q[1]]=ae.add,re&&ae.add(function(){T=re},_[3-z][2].disable,_[3-z][3].disable,_[0][2].lock,_[0][3].lock),ae.add(q[3].fire),H[q[0]]=function(){return H[q[0]+"With"](this===H?void 0:this,arguments),this},H[q[0]+"With"]=ae.fireWith}),R.promise(H),g&&g.call(H,H),H},when:function(g){var _=arguments.length,T=_,R=Array(T),H=Ce.call(arguments),z=A.Deferred(),q=function(ae){return function(re){R[ae]=this,H[ae]=arguments.length>1?Ce.call(arguments):re,--_||z.resolveWith(R,H)}};if(_<=1&&(bn(g,z.done(q(T)).resolve,z.reject,!_),"pending"===z.state()||nt(H[T]&&H[T].then)))return z.then();for(;T--;)bn(H[T],q(T),z.reject);return z.promise()}});var Xt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;A.Deferred.exceptionHook=function(g,_){J.console&&J.console.warn&&g&&Xt.test(g.name)&&J.console.warn("jQuery.Deferred exception: "+g.message,g.stack,_)},A.readyException=function(g){J.setTimeout(function(){throw g})};var An=A.Deferred();function Jn(){Ee.removeEventListener("DOMContentLoaded",Jn),J.removeEventListener("load",Jn),A.ready()}A.fn.ready=function(g){return An.then(g).catch(function(_){A.readyException(_)}),this},A.extend({isReady:!1,readyWait:1,ready:function(g){(!0===g?--A.readyWait:A.isReady)||(A.isReady=!0,!(!0!==g&&--A.readyWait>0)&&An.resolveWith(Ee,[A]))}}),A.ready.then=An.then,"complete"===Ee.readyState||"loading"!==Ee.readyState&&!Ee.documentElement.doScroll?J.setTimeout(A.ready):(Ee.addEventListener("DOMContentLoaded",Jn),J.addEventListener("load",Jn));var Kn=function(g,_,T,R,H,z,q){var ae=0,re=g.length,ve=null==T;if("object"===He(T))for(ae in H=!0,T)Kn(g,_,ae,T[ae],!0,z,q);else if(void 0!==R&&(H=!0,nt(R)||(q=!0),ve&&(q?(_.call(g,R),_=null):(ve=_,_=function(xe,ct,De){return ve.call(A(xe),De)})),_))for(;ae<re;ae++)_(g[ae],T,q?R:R.call(g[ae],ae,_(g[ae],T)));return H?g:ve?_.call(g):re?_(g[0],T):z},$r=/^-ms-/,Mr=/-([a-z])/g;function pi(g,_){return _.toUpperCase()}function Sr(g){return g.replace($r,"ms-").replace(Mr,pi)}var Wr=function(g){return 1===g.nodeType||9===g.nodeType||!+g.nodeType};function oi(){this.expando=A.expando+oi.uid++}oi.uid=1,oi.prototype={cache:function(g){var _=g[this.expando];return _||(_={},Wr(g)&&(g.nodeType?g[this.expando]=_:Object.defineProperty(g,this.expando,{value:_,configurable:!0}))),_},set:function(g,_,T){var R,H=this.cache(g);if("string"==typeof _)H[Sr(_)]=T;else for(R in _)H[Sr(R)]=_[R];return H},get:function(g,_){return void 0===_?this.cache(g):g[this.expando]&&g[this.expando][Sr(_)]},access:function(g,_,T){return void 0===_||_&&"string"==typeof _&&void 0===T?this.get(g,_):(this.set(g,_,T),void 0!==T?T:_)},remove:function(g,_){var T,R=g[this.expando];if(void 0!==R){if(void 0!==_)for((T=(_=Array.isArray(_)?_.map(Sr):(_=Sr(_))in R?[_]:_.match(Nt)||[]).length);T--;)delete R[_[T]];(void 0===_||A.isEmptyObject(R))&&(g.nodeType?g[this.expando]=void 0:delete g[this.expando])}},hasData:function(g){var _=g[this.expando];return void 0!==_&&!A.isEmptyObject(_)}};var Zt=new oi,Vn=new oi,zt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,mr=/[A-Z]/g;function Rr(g,_,T){var R;if(void 0===T&&1===g.nodeType)if(R="data-"+_.replace(mr,"-$&").toLowerCase(),"string"==typeof(T=g.getAttribute(R))){try{T=function wr(g){return"true"===g||"false"!==g&&("null"===g?null:g===+g+""?+g:zt.test(g)?JSON.parse(g):g)}(T)}catch{}Vn.set(g,_,T)}else T=void 0;return T}A.extend({hasData:function(g){return Vn.hasData(g)||Zt.hasData(g)},data:function(g,_,T){return Vn.access(g,_,T)},removeData:function(g,_){Vn.remove(g,_)},_data:function(g,_,T){return Zt.access(g,_,T)},_removeData:function(g,_){Zt.remove(g,_)}}),A.fn.extend({data:function(g,_){var T,R,H,z=this[0],q=z&&z.attributes;if(void 0===g){if(this.length&&(H=Vn.get(z),1===z.nodeType&&!Zt.get(z,"hasDataAttrs"))){for(T=q.length;T--;)q[T]&&0===(R=q[T].name).indexOf("data-")&&(R=Sr(R.slice(5)),Rr(z,R,H[R]));Zt.set(z,"hasDataAttrs",!0)}return H}return"object"==typeof g?this.each(function(){Vn.set(this,g)}):Kn(this,function(ae){var re;if(z&&void 0===ae)return void 0!==(re=Vn.get(z,g))||void 0!==(re=Rr(z,g))?re:void 0;this.each(function(){Vn.set(this,g,ae)})},null,_,arguments.length>1,null,!0)},removeData:function(g){return this.each(function(){Vn.remove(this,g)})}}),A.extend({queue:function(g,_,T){var R;if(g)return R=Zt.get(g,_=(_||"fx")+"queue"),T&&(!R||Array.isArray(T)?R=Zt.access(g,_,A.makeArray(T)):R.push(T)),R||[]},dequeue:function(g,_){var T=A.queue(g,_=_||"fx"),R=T.length,H=T.shift(),z=A._queueHooks(g,_);"inprogress"===H&&(H=T.shift(),R--),H&&("fx"===_&&T.unshift("inprogress"),delete z.stop,H.call(g,function(){A.dequeue(g,_)},z)),!R&&z&&z.empty.fire()},_queueHooks:function(g,_){var T=_+"queueHooks";return Zt.get(g,T)||Zt.access(g,T,{empty:A.Callbacks("once memory").add(function(){Zt.remove(g,[_+"queue",T])})})}}),A.fn.extend({queue:function(g,_){var T=2;return"string"!=typeof g&&(_=g,g="fx",T--),arguments.length<T?A.queue(this[0],g):void 0===_?this:this.each(function(){var R=A.queue(this,g,_);A._queueHooks(this,g),"fx"===g&&"inprogress"!==R[0]&&A.dequeue(this,g)})},dequeue:function(g){return this.each(function(){A.dequeue(this,g)})},clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,_){var T,R=1,H=A.Deferred(),z=this,q=this.length,ae=function(){--R||H.resolveWith(z,[z])};for("string"!=typeof g&&(_=g,g=void 0),g=g||"fx";q--;)(T=Zt.get(z[q],g+"queueHooks"))&&T.empty&&(R++,T.empty.add(ae));return ae(),H.promise(_)}});var Ar=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Or=new RegExp("^(?:([+-])=|)("+Ar+")([a-z%]*)$","i"),kn=["Top","Right","Bottom","Left"],yn=Ee.documentElement,Vt=function(g){return A.contains(g.ownerDocument,g)},wn={composed:!0};yn.getRootNode&&(Vt=function(g){return A.contains(g.ownerDocument,g)||g.getRootNode(wn)===g.ownerDocument});var Er=function(g,_){return"none"===(g=_||g).style.display||""===g.style.display&&Vt(g)&&"none"===A.css(g,"display")};function Hr(g,_,T,R){var H,z,q=20,ae=R?function(){return R.cur()}:function(){return A.css(g,_,"")},re=ae(),ve=T&&T[3]||(A.cssNumber[_]?"":"px"),xe=g.nodeType&&(A.cssNumber[_]||"px"!==ve&&+re)&&Or.exec(A.css(g,_));if(xe&&xe[3]!==ve){for(ve=ve||xe[3],xe=+(re/=2)||1;q--;)A.style(g,_,xe+ve),(1-z)*(1-(z=ae()/re||.5))<=0&&(q=0),xe/=z;A.style(g,_,(xe*=2)+ve),T=T||[]}return T&&(xe=+xe||+re||0,H=T[1]?xe+(T[1]+1)*T[2]:+T[2],R&&(R.unit=ve,R.start=xe,R.end=H)),H}var xr={};function gi(g){var _,T=g.ownerDocument,R=g.nodeName,H=xr[R];return H||(_=T.body.appendChild(T.createElement(R)),H=A.css(_,"display"),_.parentNode.removeChild(_),"none"===H&&(H="block"),xr[R]=H,H)}function ur(g,_){for(var T,R,H=[],z=0,q=g.length;z<q;z++)(R=g[z]).style&&(T=R.style.display,_?("none"===T&&(H[z]=Zt.get(R,"display")||null,H[z]||(R.style.display="")),""===R.style.display&&Er(R)&&(H[z]=gi(R))):"none"!==T&&(H[z]="none",Zt.set(R,"display",T)));for(z=0;z<q;z++)null!=H[z]&&(g[z].style.display=H[z]);return g}A.fn.extend({show:function(){return ur(this,!0)},hide:function(){return ur(this)},toggle:function(g){return"boolean"==typeof g?g?this.show():this.hide():this.each(function(){Er(this)?A(this).show():A(this).hide()})}});var _,T,Nr=/^(?:checkbox|radio)$/i,On=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ri=/^$|^module$|\/(?:java|ecma)script/i;_=Ee.createDocumentFragment().appendChild(Ee.createElement("div")),(T=Ee.createElement("input")).setAttribute("type","radio"),T.setAttribute("checked","checked"),T.setAttribute("name","t"),_.appendChild(T),Qe.checkClone=_.cloneNode(!0).cloneNode(!0).lastChild.checked,_.innerHTML="<textarea>x</textarea>",Qe.noCloneChecked=!!_.cloneNode(!0).lastChild.defaultValue,_.innerHTML="<option></option>",Qe.option=!!_.lastChild;var pn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ar(g,_){var T;return T=typeof g.getElementsByTagName<"u"?g.getElementsByTagName(_||"*"):typeof g.querySelectorAll<"u"?g.querySelectorAll(_||"*"):[],void 0===_||_&&Dt(g,_)?A.merge([g],T):T}function En(g,_){for(var T=0,R=g.length;T<R;T++)Zt.set(g[T],"globalEval",!_||Zt.get(_[T],"globalEval"))}pn.tbody=pn.tfoot=pn.colgroup=pn.caption=pn.thead,pn.th=pn.td,Qe.option||(pn.optgroup=pn.option=[1,"<select multiple='multiple'>","</select>"]);var Ir=/<|&#?\w+;/;function yt(g,_,T,R,H){for(var z,q,ae,re,ve,xe,ct=_.createDocumentFragment(),De=[],je=0,Tt=g.length;je<Tt;je++)if((z=g[je])||0===z)if("object"===He(z))A.merge(De,z.nodeType?[z]:z);else if(Ir.test(z)){for(q=q||ct.appendChild(_.createElement("div")),ae=(On.exec(z)||["",""])[1].toLowerCase(),q.innerHTML=(re=pn[ae]||pn._default)[1]+A.htmlPrefilter(z)+re[2],xe=re[0];xe--;)q=q.lastChild;A.merge(De,q.childNodes),(q=ct.firstChild).textContent=""}else De.push(_.createTextNode(z));for(ct.textContent="",je=0;z=De[je++];)if(R&&A.inArray(z,R)>-1)H&&H.push(z);else if(ve=Vt(z),q=ar(ct.appendChild(z),"script"),ve&&En(q),T)for(xe=0;z=q[xe++];)Ri.test(z.type||"")&&T.push(z);return ct}var zr=/^([^.]*)(?:\.(.+)|)/;function ir(){return!0}function M(){return!1}function L(g,_){return g===function U(){try{return Ee.activeElement}catch{}}()==("focus"===_)}function D(g,_,T,R,H,z){var q,ae;if("object"==typeof _){for(ae in"string"!=typeof T&&(R=R||T,T=void 0),_)D(g,ae,T,R,_[ae],z);return g}if(null==R&&null==H?(H=T,R=T=void 0):null==H&&("string"==typeof T?(H=R,R=void 0):(H=R,R=T,T=void 0)),!1===H)H=M;else if(!H)return g;return 1===z&&(q=H,H=function(re){return A().off(re),q.apply(this,arguments)},H.guid=q.guid||(q.guid=A.guid++)),g.each(function(){A.event.add(this,_,H,R,T)})}function P(g,_,T){T?(Zt.set(g,_,!1),A.event.add(g,_,{namespace:!1,handler:function(R){var H,z,q=Zt.get(this,_);if(1&R.isTrigger&&this[_]){if(q.length)(A.event.special[_]||{}).delegateType&&R.stopPropagation();else if(q=Ce.call(arguments),Zt.set(this,_,q),H=T(this,_),this[_](),q!==(z=Zt.get(this,_))||H?Zt.set(this,_,!1):z={},q!==z)return R.stopImmediatePropagation(),R.preventDefault(),z&&z.value}else q.length&&(Zt.set(this,_,{value:A.event.trigger(A.extend(q[0],A.Event.prototype),q.slice(1),this)}),R.stopImmediatePropagation())}})):void 0===Zt.get(g,_)&&A.event.add(g,_,ir)}A.event={global:{},add:function(g,_,T,R,H){var z,q,ae,re,ve,xe,ct,De,je,Tt,In,Kt=Zt.get(g);if(Wr(g))for(T.handler&&(T=(z=T).handler,H=z.selector),H&&A.find.matchesSelector(yn,H),T.guid||(T.guid=A.guid++),(re=Kt.events)||(re=Kt.events=Object.create(null)),(q=Kt.handle)||(q=Kt.handle=function(Wn){return typeof A<"u"&&A.event.triggered!==Wn.type?A.event.dispatch.apply(g,arguments):void 0}),ve=(_=(_||"").match(Nt)||[""]).length;ve--;)je=In=(ae=zr.exec(_[ve])||[])[1],Tt=(ae[2]||"").split(".").sort(),je&&(ct=A.event.special[je]||{},ct=A.event.special[je=(H?ct.delegateType:ct.bindType)||je]||{},xe=A.extend({type:je,origType:In,data:R,handler:T,guid:T.guid,selector:H,needsContext:H&&A.expr.match.needsContext.test(H),namespace:Tt.join(".")},z),(De=re[je])||((De=re[je]=[]).delegateCount=0,(!ct.setup||!1===ct.setup.call(g,R,Tt,q))&&g.addEventListener&&g.addEventListener(je,q)),ct.add&&(ct.add.call(g,xe),xe.handler.guid||(xe.handler.guid=T.guid)),H?De.splice(De.delegateCount++,0,xe):De.push(xe),A.event.global[je]=!0)},remove:function(g,_,T,R,H){var z,q,ae,re,ve,xe,ct,De,je,Tt,In,Kt=Zt.hasData(g)&&Zt.get(g);if(Kt&&(re=Kt.events)){for(ve=(_=(_||"").match(Nt)||[""]).length;ve--;)if(je=In=(ae=zr.exec(_[ve])||[])[1],Tt=(ae[2]||"").split(".").sort(),je){for(ct=A.event.special[je]||{},De=re[je=(R?ct.delegateType:ct.bindType)||je]||[],ae=ae[2]&&new RegExp("(^|\\.)"+Tt.join("\\.(?:.*\\.|)")+"(\\.|$)"),q=z=De.length;z--;)xe=De[z],(H||In===xe.origType)&&(!T||T.guid===xe.guid)&&(!ae||ae.test(xe.namespace))&&(!R||R===xe.selector||"**"===R&&xe.selector)&&(De.splice(z,1),xe.selector&&De.delegateCount--,ct.remove&&ct.remove.call(g,xe));q&&!De.length&&((!ct.teardown||!1===ct.teardown.call(g,Tt,Kt.handle))&&A.removeEvent(g,je,Kt.handle),delete re[je])}else for(je in re)A.event.remove(g,je+_[ve],T,R,!0);A.isEmptyObject(re)&&Zt.remove(g,"handle events")}},dispatch:function(g){var _,T,R,H,z,q,ae=new Array(arguments.length),re=A.event.fix(g),ve=(Zt.get(this,"events")||Object.create(null))[re.type]||[],xe=A.event.special[re.type]||{};for(ae[0]=re,_=1;_<arguments.length;_++)ae[_]=arguments[_];if(re.delegateTarget=this,!xe.preDispatch||!1!==xe.preDispatch.call(this,re)){for(q=A.event.handlers.call(this,re,ve),_=0;(H=q[_++])&&!re.isPropagationStopped();)for(re.currentTarget=H.elem,T=0;(z=H.handlers[T++])&&!re.isImmediatePropagationStopped();)(!re.rnamespace||!1===z.namespace||re.rnamespace.test(z.namespace))&&(re.handleObj=z,re.data=z.data,void 0!==(R=((A.event.special[z.origType]||{}).handle||z.handler).apply(H.elem,ae))&&!1===(re.result=R)&&(re.preventDefault(),re.stopPropagation()));return xe.postDispatch&&xe.postDispatch.call(this,re),re.result}},handlers:function(g,_){var T,R,H,z,q,ae=[],re=_.delegateCount,ve=g.target;if(re&&ve.nodeType&&!("click"===g.type&&g.button>=1))for(;ve!==this;ve=ve.parentNode||this)if(1===ve.nodeType&&("click"!==g.type||!0!==ve.disabled)){for(z=[],q={},T=0;T<re;T++)void 0===q[H=(R=_[T]).selector+" "]&&(q[H]=R.needsContext?A(H,this).index(ve)>-1:A.find(H,this,null,[ve]).length),q[H]&&z.push(R);z.length&&ae.push({elem:ve,handlers:z})}return ve=this,re<_.length&&ae.push({elem:ve,handlers:_.slice(re)}),ae},addProp:function(g,_){Object.defineProperty(A.Event.prototype,g,{enumerable:!0,configurable:!0,get:nt(_)?function(){if(this.originalEvent)return _(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[g]},set:function(T){Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:T})}})},fix:function(g){return g[A.expando]?g:new A.Event(g)},special:{load:{noBubble:!0},click:{setup:function(g){var _=this||g;return Nr.test(_.type)&&_.click&&Dt(_,"input")&&P(_,"click",ir),!1},trigger:function(g){var _=this||g;return Nr.test(_.type)&&_.click&&Dt(_,"input")&&P(_,"click"),!0},_default:function(g){var _=g.target;return Nr.test(_.type)&&_.click&&Dt(_,"input")&&Zt.get(_,"click")||Dt(_,"a")}},beforeunload:{postDispatch:function(g){void 0!==g.result&&g.originalEvent&&(g.originalEvent.returnValue=g.result)}}}},A.removeEvent=function(g,_,T){g.removeEventListener&&g.removeEventListener(_,T)},A.Event=function(g,_){if(!(this instanceof A.Event))return new A.Event(g,_);g&&g.type?(this.originalEvent=g,this.type=g.type,this.isDefaultPrevented=g.defaultPrevented||void 0===g.defaultPrevented&&!1===g.returnValue?ir:M,this.target=g.target&&3===g.target.nodeType?g.target.parentNode:g.target,this.currentTarget=g.currentTarget,this.relatedTarget=g.relatedTarget):this.type=g,_&&A.extend(this,_),this.timeStamp=g&&g.timeStamp||Date.now(),this[A.expando]=!0},A.Event.prototype={constructor:A.Event,isDefaultPrevented:M,isPropagationStopped:M,isImmediatePropagationStopped:M,isSimulated:!1,preventDefault:function(){var g=this.originalEvent;this.isDefaultPrevented=ir,g&&!this.isSimulated&&g.preventDefault()},stopPropagation:function(){var g=this.originalEvent;this.isPropagationStopped=ir,g&&!this.isSimulated&&g.stopPropagation()},stopImmediatePropagation:function(){var g=this.originalEvent;this.isImmediatePropagationStopped=ir,g&&!this.isSimulated&&g.stopImmediatePropagation(),this.stopPropagation()}},A.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},A.event.addProp),A.each({focus:"focusin",blur:"focusout"},function(g,_){A.event.special[g]={setup:function(){return P(this,g,L),!1},trigger:function(){return P(this,g),!0},_default:function(T){return Zt.get(T.target,g)},delegateType:_}}),A.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(g,_){A.event.special[g]={delegateType:_,bindType:_,handle:function(T){var R,z=T.relatedTarget,q=T.handleObj;return(!z||z!==this&&!A.contains(this,z))&&(T.type=q.origType,R=q.handler.apply(this,arguments),T.type=_),R}}}),A.fn.extend({on:function(g,_,T,R){return D(this,g,_,T,R)},one:function(g,_,T,R){return D(this,g,_,T,R,1)},off:function(g,_,T){var R,H;if(g&&g.preventDefault&&g.handleObj)return R=g.handleObj,A(g.delegateTarget).off(R.namespace?R.origType+"."+R.namespace:R.origType,R.selector,R.handler),this;if("object"==typeof g){for(H in g)this.off(H,_,g[H]);return this}return(!1===_||"function"==typeof _)&&(T=_,_=void 0),!1===T&&(T=M),this.each(function(){A.event.remove(this,g,T,_)})}});var N=/<script|<style|<link/i,k=/checked\s*(?:[^=]|=\s*.checked.)/i,F=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function K(g,_){return Dt(g,"table")&&Dt(11!==_.nodeType?_:_.firstChild,"tr")&&A(g).children("tbody")[0]||g}function ne(g){return g.type=(null!==g.getAttribute("type"))+"/"+g.type,g}function me(g){return"true/"===(g.type||"").slice(0,5)?g.type=g.type.slice(5):g.removeAttribute("type"),g}function Re(g,_){var T,R,H,q,ae,re;if(1===_.nodeType){if(Zt.hasData(g)&&(re=Zt.get(g).events))for(H in Zt.remove(_,"handle events"),re)for(T=0,R=re[H].length;T<R;T++)A.event.add(_,H,re[H][T]);Vn.hasData(g)&&(q=Vn.access(g),ae=A.extend({},q),Vn.set(_,ae))}}function ot(g,_){var T=_.nodeName.toLowerCase();"input"===T&&Nr.test(g.type)?_.checked=g.checked:("input"===T||"textarea"===T)&&(_.defaultValue=g.defaultValue)}function Xe(g,_,T,R){_=Be(_);var H,z,q,ae,re,ve,xe=0,ct=g.length,De=ct-1,je=_[0],Tt=nt(je);if(Tt||ct>1&&"string"==typeof je&&!Qe.checkClone&&k.test(je))return g.each(function(In){var Kt=g.eq(In);Tt&&(_[0]=je.call(this,In,Kt.html())),Xe(Kt,_,T,R)});if(ct&&(z=(H=yt(_,g[0].ownerDocument,!1,g,R)).firstChild,1===H.childNodes.length&&(H=z),z||R)){for(ae=(q=A.map(ar(H,"script"),ne)).length;xe<ct;xe++)re=H,xe!==De&&(re=A.clone(re,!0,!0),ae&&A.merge(q,ar(re,"script"))),T.call(g[xe],re,xe);if(ae)for(ve=q[q.length-1].ownerDocument,A.map(q,me),xe=0;xe<ae;xe++)Ri.test((re=q[xe]).type||"")&&!Zt.access(re,"globalEval")&&A.contains(ve,re)&&(re.src&&"module"!==(re.type||"").toLowerCase()?A._evalUrl&&!re.noModule&&A._evalUrl(re.src,{nonce:re.nonce||re.getAttribute("nonce")},ve):it(re.textContent.replace(F,""),re,ve))}return g}function It(g,_,T){for(var R,H=_?A.filter(_,g):g,z=0;null!=(R=H[z]);z++)!T&&1===R.nodeType&&A.cleanData(ar(R)),R.parentNode&&(T&&Vt(R)&&En(ar(R,"script")),R.parentNode.removeChild(R));return g}A.extend({htmlPrefilter:function(g){return g},clone:function(g,_,T){var R,H,z,q,ae=g.cloneNode(!0),re=Vt(g);if(!(Qe.noCloneChecked||1!==g.nodeType&&11!==g.nodeType||A.isXMLDoc(g)))for(q=ar(ae),R=0,H=(z=ar(g)).length;R<H;R++)ot(z[R],q[R]);if(_)if(T)for(z=z||ar(g),q=q||ar(ae),R=0,H=z.length;R<H;R++)Re(z[R],q[R]);else Re(g,ae);return(q=ar(ae,"script")).length>0&&En(q,!re&&ar(g,"script")),ae},cleanData:function(g){for(var _,T,R,H=A.event.special,z=0;void 0!==(T=g[z]);z++)if(Wr(T)){if(_=T[Zt.expando]){if(_.events)for(R in _.events)H[R]?A.event.remove(T,R):A.removeEvent(T,R,_.handle);T[Zt.expando]=void 0}T[Vn.expando]&&(T[Vn.expando]=void 0)}}}),A.fn.extend({detach:function(g){return It(this,g,!0)},remove:function(g){return It(this,g)},text:function(g){return Kn(this,function(_){return void 0===_?A.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=_)})},null,g,arguments.length)},append:function(){return Xe(this,arguments,function(g){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||K(this,g).appendChild(g)})},prepend:function(){return Xe(this,arguments,function(g){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var _=K(this,g);_.insertBefore(g,_.firstChild)}})},before:function(){return Xe(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this)})},after:function(){return Xe(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this.nextSibling)})},empty:function(){for(var g,_=0;null!=(g=this[_]);_++)1===g.nodeType&&(A.cleanData(ar(g,!1)),g.textContent="");return this},clone:function(g,_){return g=g??!1,_=_??g,this.map(function(){return A.clone(this,g,_)})},html:function(g){return Kn(this,function(_){var T=this[0]||{},R=0,H=this.length;if(void 0===_&&1===T.nodeType)return T.innerHTML;if("string"==typeof _&&!N.test(_)&&!pn[(On.exec(_)||["",""])[1].toLowerCase()]){_=A.htmlPrefilter(_);try{for(;R<H;R++)1===(T=this[R]||{}).nodeType&&(A.cleanData(ar(T,!1)),T.innerHTML=_);T=0}catch{}}T&&this.empty().append(_)},null,g,arguments.length)},replaceWith:function(){var g=[];return Xe(this,arguments,function(_){var T=this.parentNode;A.inArray(this,g)<0&&(A.cleanData(ar(this)),T&&T.replaceChild(_,this))},g)}}),A.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(g,_){A.fn[g]=function(T){for(var R,H=[],z=A(T),q=z.length-1,ae=0;ae<=q;ae++)R=ae===q?this:this.clone(!0),A(z[ae])[_](R),Fe.apply(H,R.get());return this.pushStack(H)}});var Tn=new RegExp("^("+Ar+")(?!px)[a-z%]+$","i"),Jt=/^--/,Qn=function(g){var _=g.ownerDocument.defaultView;return(!_||!_.opener)&&(_=J),_.getComputedStyle(g)},Lr=function(g,_,T){var R,H,z={};for(H in _)z[H]=g.style[H],g.style[H]=_[H];for(H in R=T.call(g),_)g.style[H]=z[H];return R},Ae=new RegExp(kn.join("|"),"i"),_e="[\\x20\\t\\r\\n\\f]",at=new RegExp("^"+_e+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_e+"+$","g");function Pt(g,_,T){var R,H,z,q,ae=Jt.test(_),re=g.style;return(T=T||Qn(g))&&(q=T.getPropertyValue(_)||T[_],ae&&q&&(q=q.replace(at,"$1")||void 0),""===q&&!Vt(g)&&(q=A.style(g,_)),!Qe.pixelBoxStyles()&&Tn.test(q)&&Ae.test(_)&&(R=re.width,H=re.minWidth,z=re.maxWidth,re.minWidth=re.maxWidth=re.width=q,q=T.width,re.width=R,re.minWidth=H,re.maxWidth=z)),void 0!==q?q+"":q}function on(g,_){return{get:function(){if(!g())return(this.get=_).apply(this,arguments);delete this.get}}}!function(){function g(){if(ve){re.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ve.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",yn.appendChild(re).appendChild(ve);var xe=J.getComputedStyle(ve);T="1%"!==xe.top,ae=12===_(xe.marginLeft),ve.style.right="60%",z=36===_(xe.right),R=36===_(xe.width),ve.style.position="absolute",H=12===_(ve.offsetWidth/3),yn.removeChild(re),ve=null}}function _(xe){return Math.round(parseFloat(xe))}var T,R,H,z,q,ae,re=Ee.createElement("div"),ve=Ee.createElement("div");ve.style&&(ve.style.backgroundClip="content-box",ve.cloneNode(!0).style.backgroundClip="",Qe.clearCloneStyle="content-box"===ve.style.backgroundClip,A.extend(Qe,{boxSizingReliable:function(){return g(),R},pixelBoxStyles:function(){return g(),z},pixelPosition:function(){return g(),T},reliableMarginLeft:function(){return g(),ae},scrollboxSize:function(){return g(),H},reliableTrDimensions:function(){var xe,ct,De,je;return null==q&&(xe=Ee.createElement("table"),ct=Ee.createElement("tr"),De=Ee.createElement("div"),xe.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ct.style.cssText="border:1px solid",ct.style.height="1px",De.style.height="9px",De.style.display="block",yn.appendChild(xe).appendChild(ct).appendChild(De),je=J.getComputedStyle(ct),q=parseInt(je.height,10)+parseInt(je.borderTopWidth,10)+parseInt(je.borderBottomWidth,10)===ct.offsetHeight,yn.removeChild(xe)),q}}))}();var Nn=["Webkit","Moz","ms"],Gt=Ee.createElement("div").style,qn={};function ai(g){return A.cssProps[g]||qn[g]||(g in Gt?g:qn[g]=function Bn(g){for(var _=g[0].toUpperCase()+g.slice(1),T=Nn.length;T--;)if((g=Nn[T]+_)in Gt)return g}(g)||g)}var ui=/^(none|table(?!-c[ea]).+)/,Ga={position:"absolute",visibility:"hidden",display:"block"},fl={letterSpacing:"0",fontWeight:"400"};function to(g,_,T){var R=Or.exec(_);return R?Math.max(0,R[2]-(T||0))+(R[3]||"px"):_}function Zr(g,_,T,R,H,z){var q="width"===_?1:0,ae=0,re=0;if(T===(R?"border":"content"))return 0;for(;q<4;q+=2)"margin"===T&&(re+=A.css(g,T+kn[q],!0,H)),R?("content"===T&&(re-=A.css(g,"padding"+kn[q],!0,H)),"margin"!==T&&(re-=A.css(g,"border"+kn[q]+"Width",!0,H))):(re+=A.css(g,"padding"+kn[q],!0,H),"padding"!==T?re+=A.css(g,"border"+kn[q]+"Width",!0,H):ae+=A.css(g,"border"+kn[q]+"Width",!0,H));return!R&&z>=0&&(re+=Math.max(0,Math.ceil(g["offset"+_[0].toUpperCase()+_.slice(1)]-z-re-ae-.5))||0),re}function Rt(g,_,T){var R=Qn(g),z=(!Qe.boxSizingReliable()||T)&&"border-box"===A.css(g,"boxSizing",!1,R),q=z,ae=Pt(g,_,R),re="offset"+_[0].toUpperCase()+_.slice(1);if(Tn.test(ae)){if(!T)return ae;ae="auto"}return(!Qe.boxSizingReliable()&&z||!Qe.reliableTrDimensions()&&Dt(g,"tr")||"auto"===ae||!parseFloat(ae)&&"inline"===A.css(g,"display",!1,R))&&g.getClientRects().length&&(z="border-box"===A.css(g,"boxSizing",!1,R),(q=re in g)&&(ae=g[re])),(ae=parseFloat(ae)||0)+Zr(g,_,T||(z?"border":"content"),q,R,ae)+"px"}function un(g,_,T,R,H){return new un.prototype.init(g,_,T,R,H)}A.extend({cssHooks:{opacity:{get:function(g,_){if(_){var T=Pt(g,"opacity");return""===T?"1":T}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(g,_,T,R){if(g&&3!==g.nodeType&&8!==g.nodeType&&g.style){var H,z,q,ae=Sr(_),re=Jt.test(_),ve=g.style;if(re||(_=ai(ae)),q=A.cssHooks[_]||A.cssHooks[ae],void 0===T)return q&&"get"in q&&void 0!==(H=q.get(g,!1,R))?H:ve[_];if("string"==(z=typeof T)&&(H=Or.exec(T))&&H[1]&&(T=Hr(g,_,H),z="number"),null==T||T!=T)return;"number"===z&&!re&&(T+=H&&H[3]||(A.cssNumber[ae]?"":"px")),!Qe.clearCloneStyle&&""===T&&0===_.indexOf("background")&&(ve[_]="inherit"),(!q||!("set"in q)||void 0!==(T=q.set(g,T,R)))&&(re?ve.setProperty(_,T):ve[_]=T)}},css:function(g,_,T,R){var H,z,q,ae=Sr(_);return Jt.test(_)||(_=ai(ae)),(q=A.cssHooks[_]||A.cssHooks[ae])&&"get"in q&&(H=q.get(g,!0,T)),void 0===H&&(H=Pt(g,_,R)),"normal"===H&&_ in fl&&(H=fl[_]),""===T||T?(z=parseFloat(H),!0===T||isFinite(z)?z||0:H):H}}),A.each(["height","width"],function(g,_){A.cssHooks[_]={get:function(T,R,H){if(R)return!ui.test(A.css(T,"display"))||T.getClientRects().length&&T.getBoundingClientRect().width?Rt(T,_,H):Lr(T,Ga,function(){return Rt(T,_,H)})},set:function(T,R,H){var z,q=Qn(T),ae=!Qe.scrollboxSize()&&"absolute"===q.position,ve=(ae||H)&&"border-box"===A.css(T,"boxSizing",!1,q),xe=H?Zr(T,_,H,ve,q):0;return ve&&ae&&(xe-=Math.ceil(T["offset"+_[0].toUpperCase()+_.slice(1)]-parseFloat(q[_])-Zr(T,_,"border",!1,q)-.5)),xe&&(z=Or.exec(R))&&"px"!==(z[3]||"px")&&(T.style[_]=R,R=A.css(T,_)),to(0,R,xe)}}}),A.cssHooks.marginLeft=on(Qe.reliableMarginLeft,function(g,_){if(_)return(parseFloat(Pt(g,"marginLeft"))||g.getBoundingClientRect().left-Lr(g,{marginLeft:0},function(){return g.getBoundingClientRect().left}))+"px"}),A.each({margin:"",padding:"",border:"Width"},function(g,_){A.cssHooks[g+_]={expand:function(T){for(var R=0,H={},z="string"==typeof T?T.split(" "):[T];R<4;R++)H[g+kn[R]+_]=z[R]||z[R-2]||z[0];return H}},"margin"!==g&&(A.cssHooks[g+_].set=to)}),A.fn.extend({css:function(g,_){return Kn(this,function(T,R,H){var z,q,ae={},re=0;if(Array.isArray(R)){for(z=Qn(T),q=R.length;re<q;re++)ae[R[re]]=A.css(T,R[re],!1,z);return ae}return void 0!==H?A.style(T,R,H):A.css(T,R)},g,_,arguments.length>1)}}),A.Tween=un,un.prototype={constructor:un,init:function(g,_,T,R,H,z){this.elem=g,this.prop=T,this.easing=H||A.easing._default,this.options=_,this.start=this.now=this.cur(),this.end=R,this.unit=z||(A.cssNumber[T]?"":"px")},cur:function(){var g=un.propHooks[this.prop];return g&&g.get?g.get(this):un.propHooks._default.get(this)},run:function(g){var _,T=un.propHooks[this.prop];return this.pos=_=this.options.duration?A.easing[this.easing](g,this.options.duration*g,0,1,this.options.duration):g,this.now=(this.end-this.start)*_+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),T&&T.set?T.set(this):un.propHooks._default.set(this),this}},un.prototype.init.prototype=un.prototype,un.propHooks={_default:{get:function(g){var _;return 1!==g.elem.nodeType||null!=g.elem[g.prop]&&null==g.elem.style[g.prop]?g.elem[g.prop]:(_=A.css(g.elem,g.prop,""))&&"auto"!==_?_:0},set:function(g){A.fx.step[g.prop]?A.fx.step[g.prop](g):1!==g.elem.nodeType||!A.cssHooks[g.prop]&&null==g.elem.style[ai(g.prop)]?g.elem[g.prop]=g.now:A.style(g.elem,g.prop,g.now+g.unit)}}},un.propHooks.scrollTop=un.propHooks.scrollLeft={set:function(g){g.elem.nodeType&&g.elem.parentNode&&(g.elem[g.prop]=g.now)}},A.easing={linear:function(g){return g},swing:function(g){return.5-Math.cos(g*Math.PI)/2},_default:"swing"},A.fx=un.prototype.init,A.fx.step={};var lr,Xn,no=/^(?:toggle|show|hide)$/,li=/queueHooks$/;function So(){Xn&&(!1===Ee.hidden&&J.requestAnimationFrame?J.requestAnimationFrame(So):J.setTimeout(So,A.fx.interval),A.fx.tick())}function Vr(){return J.setTimeout(function(){lr=void 0}),lr=Date.now()}function ro(g,_){var T,R=0,H={height:g};for(_=_?1:0;R<4;R+=2-_)H["margin"+(T=kn[R])]=H["padding"+T]=g;return _&&(H.opacity=H.width=g),H}function Ao(g,_,T){for(var R,H=(Ur.tweeners[_]||[]).concat(Ur.tweeners["*"]),z=0,q=H.length;z<q;z++)if(R=H[z].call(T,_,g))return R}function Ur(g,_,T){var R,H,z=0,q=Ur.prefilters.length,ae=A.Deferred().always(function(){delete re.elem}),re=function(){if(H)return!1;for(var ct=lr||Vr(),De=Math.max(0,ve.startTime+ve.duration-ct),Tt=1-(De/ve.duration||0),In=0,Kt=ve.tweens.length;In<Kt;In++)ve.tweens[In].run(Tt);return ae.notifyWith(g,[ve,Tt,De]),Tt<1&&Kt?De:(Kt||ae.notifyWith(g,[ve,1,0]),ae.resolveWith(g,[ve]),!1)},ve=ae.promise({elem:g,props:A.extend({},_),opts:A.extend(!0,{specialEasing:{},easing:A.easing._default},T),originalProperties:_,originalOptions:T,startTime:lr||Vr(),duration:T.duration,tweens:[],createTween:function(ct,De){var je=A.Tween(g,ve.opts,ct,De,ve.opts.specialEasing[ct]||ve.opts.easing);return ve.tweens.push(je),je},stop:function(ct){var De=0,je=ct?ve.tweens.length:0;if(H)return this;for(H=!0;De<je;De++)ve.tweens[De].run(1);return ct?(ae.notifyWith(g,[ve,1,0]),ae.resolveWith(g,[ve,ct])):ae.rejectWith(g,[ve,ct]),this}}),xe=ve.props;for(function qa(g,_){var T,R,H,z,q;for(T in g)if(H=_[R=Sr(T)],z=g[T],Array.isArray(z)&&(H=z[1],z=g[T]=z[0]),T!==R&&(g[R]=z,delete g[T]),(q=A.cssHooks[R])&&"expand"in q)for(T in z=q.expand(z),delete g[R],z)T in g||(g[T]=z[T],_[T]=H);else _[R]=H}(xe,ve.opts.specialEasing);z<q;z++)if(R=Ur.prefilters[z].call(ve,g,xe,ve.opts))return nt(R.stop)&&(A._queueHooks(ve.elem,ve.opts.queue).stop=R.stop.bind(R)),R;return A.map(xe,Ao,ve),nt(ve.opts.start)&&ve.opts.start.call(g,ve),ve.progress(ve.opts.progress).done(ve.opts.done,ve.opts.complete).fail(ve.opts.fail).always(ve.opts.always),A.fx.timer(A.extend(re,{elem:g,anim:ve,queue:ve.opts.queue})),ve}A.Animation=A.extend(Ur,{tweeners:{"*":[function(g,_){var T=this.createTween(g,_);return Hr(T.elem,g,Or.exec(_),T),T}]},tweener:function(g,_){nt(g)?(_=g,g=["*"]):g=g.match(Nt);for(var T,R=0,H=g.length;R<H;R++)(Ur.tweeners[T=g[R]]=Ur.tweeners[T]||[]).unshift(_)},prefilters:[function Fn(g,_,T){var R,H,z,q,ae,re,ve,xe,ct="width"in _||"height"in _,De=this,je={},Tt=g.style,In=g.nodeType&&Er(g),Kt=Zt.get(g,"fxshow");for(R in T.queue||(null==(q=A._queueHooks(g,"fx")).unqueued&&(q.unqueued=0,ae=q.empty.fire,q.empty.fire=function(){q.unqueued||ae()}),q.unqueued++,De.always(function(){De.always(function(){q.unqueued--,A.queue(g,"fx").length||q.empty.fire()})})),_)if(no.test(H=_[R])){if(delete _[R],z=z||"toggle"===H,H===(In?"hide":"show")){if("show"!==H||!Kt||void 0===Kt[R])continue;In=!0}je[R]=Kt&&Kt[R]||A.style(g,R)}if((re=!A.isEmptyObject(_))||!A.isEmptyObject(je))for(R in ct&&1===g.nodeType&&(T.overflow=[Tt.overflow,Tt.overflowX,Tt.overflowY],null==(ve=Kt&&Kt.display)&&(ve=Zt.get(g,"display")),"none"===(xe=A.css(g,"display"))&&(ve?xe=ve:(ur([g],!0),ve=g.style.display||ve,xe=A.css(g,"display"),ur([g]))),("inline"===xe||"inline-block"===xe&&null!=ve)&&"none"===A.css(g,"float")&&(re||(De.done(function(){Tt.display=ve}),null==ve&&(ve="none"===(xe=Tt.display)?"":xe)),Tt.display="inline-block")),T.overflow&&(Tt.overflow="hidden",De.always(function(){Tt.overflow=T.overflow[0],Tt.overflowX=T.overflow[1],Tt.overflowY=T.overflow[2]})),re=!1,je)re||(Kt?"hidden"in Kt&&(In=Kt.hidden):Kt=Zt.access(g,"fxshow",{display:ve}),z&&(Kt.hidden=!In),In&&ur([g],!0),De.done(function(){for(R in In||ur([g]),Zt.remove(g,"fxshow"),je)A.style(g,R,je[R])})),re=Ao(In?Kt[R]:0,R,De),R in Kt||(Kt[R]=re.start,In&&(re.end=re.start,re.start=0))}],prefilter:function(g,_){_?Ur.prefilters.unshift(g):Ur.prefilters.push(g)}}),A.speed=function(g,_,T){var R=g&&"object"==typeof g?A.extend({},g):{complete:T||!T&&_||nt(g)&&g,duration:g,easing:T&&_||_&&!nt(_)&&_};return A.fx.off?R.duration=0:"number"!=typeof R.duration&&(R.duration=R.duration in A.fx.speeds?A.fx.speeds[R.duration]:A.fx.speeds._default),(null==R.queue||!0===R.queue)&&(R.queue="fx"),R.old=R.complete,R.complete=function(){nt(R.old)&&R.old.call(this),R.queue&&A.dequeue(this,R.queue)},R},A.fn.extend({fadeTo:function(g,_,T,R){return this.filter(Er).css("opacity",0).show().end().animate({opacity:_},g,T,R)},animate:function(g,_,T,R){var H=A.isEmptyObject(g),z=A.speed(_,T,R),q=function(){var ae=Ur(this,A.extend({},g),z);(H||Zt.get(this,"finish"))&&ae.stop(!0)};return q.finish=q,H||!1===z.queue?this.each(q):this.queue(z.queue,q)},stop:function(g,_,T){var R=function(H){var z=H.stop;delete H.stop,z(T)};return"string"!=typeof g&&(T=_,_=g,g=void 0),_&&this.queue(g||"fx",[]),this.each(function(){var H=!0,z=null!=g&&g+"queueHooks",q=A.timers,ae=Zt.get(this);if(z)ae[z]&&ae[z].stop&&R(ae[z]);else for(z in ae)ae[z]&&ae[z].stop&&li.test(z)&&R(ae[z]);for(z=q.length;z--;)q[z].elem===this&&(null==g||q[z].queue===g)&&(q[z].anim.stop(T),H=!1,q.splice(z,1));(H||!T)&&A.dequeue(this,g)})},finish:function(g){return!1!==g&&(g=g||"fx"),this.each(function(){var _,T=Zt.get(this),R=T[g+"queue"],H=T[g+"queueHooks"],z=A.timers,q=R?R.length:0;for(T.finish=!0,A.queue(this,g,[]),H&&H.stop&&H.stop.call(this,!0),_=z.length;_--;)z[_].elem===this&&z[_].queue===g&&(z[_].anim.stop(!0),z.splice(_,1));for(_=0;_<q;_++)R[_]&&R[_].finish&&R[_].finish.call(this);delete T.finish})}}),A.each(["toggle","show","hide"],function(g,_){var T=A.fn[_];A.fn[_]=function(R,H,z){return null==R||"boolean"==typeof R?T.apply(this,arguments):this.animate(ro(_,!0),R,H,z)}}),A.each({slideDown:ro("show"),slideUp:ro("hide"),slideToggle:ro("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,_){A.fn[g]=function(T,R,H){return this.animate(_,T,R,H)}}),A.timers=[],A.fx.tick=function(){var g,_=0,T=A.timers;for(lr=Date.now();_<T.length;_++)!(g=T[_])()&&T[_]===g&&T.splice(_--,1);T.length||A.fx.stop(),lr=void 0},A.fx.timer=function(g){A.timers.push(g),A.fx.start()},A.fx.interval=13,A.fx.start=function(){Xn||(Xn=!0,So())},A.fx.stop=function(){Xn=null},A.fx.speeds={slow:600,fast:200,_default:400},A.fn.delay=function(g,_){return g=A.fx&&A.fx.speeds[g]||g,this.queue(_=_||"fx",function(T,R){var H=J.setTimeout(T,g);R.stop=function(){J.clearTimeout(H)}})},function(){var g=Ee.createElement("input"),T=Ee.createElement("select").appendChild(Ee.createElement("option"));g.type="checkbox",Qe.checkOn=""!==g.value,Qe.optSelected=T.selected,(g=Ee.createElement("input")).value="t",g.type="radio",Qe.radioValue="t"===g.value}();var Go,ds=A.expr.attrHandle;A.fn.extend({attr:function(g,_){return Kn(this,A.attr,g,_,arguments.length>1)},removeAttr:function(g){return this.each(function(){A.removeAttr(this,g)})}}),A.extend({attr:function(g,_,T){var R,H,z=g.nodeType;if(3!==z&&8!==z&&2!==z)return typeof g.getAttribute>"u"?A.prop(g,_,T):((1!==z||!A.isXMLDoc(g))&&(H=A.attrHooks[_.toLowerCase()]||(A.expr.match.bool.test(_)?Go:void 0)),void 0!==T?null===T?void A.removeAttr(g,_):H&&"set"in H&&void 0!==(R=H.set(g,T,_))?R:(g.setAttribute(_,T+""),T):H&&"get"in H&&null!==(R=H.get(g,_))?R:(R=A.find.attr(g,_))??void 0)},attrHooks:{type:{set:function(g,_){if(!Qe.radioValue&&"radio"===_&&Dt(g,"input")){var T=g.value;return g.setAttribute("type",_),T&&(g.value=T),_}}}},removeAttr:function(g,_){var T,R=0,H=_&&_.match(Nt);if(H&&1===g.nodeType)for(;T=H[R++];)g.removeAttribute(T)}}),Go={set:function(g,_,T){return!1===_?A.removeAttr(g,T):g.setAttribute(T,T),T}},A.each(A.expr.match.bool.source.match(/\w+/g),function(g,_){var T=ds[_]||A.find.attr;ds[_]=function(R,H,z){var q,ae,re=H.toLowerCase();return z||(ae=ds[re],ds[re]=q,q=null!=T(R,H,z)?re:null,ds[re]=ae),q}});var ei=/^(?:input|select|textarea|button)$/i,xo=/^(?:a|area)$/i;function is(g){return(g.match(Nt)||[]).join(" ")}function ci(g){return g.getAttribute&&g.getAttribute("class")||""}function io(g){return Array.isArray(g)?g:"string"==typeof g&&g.match(Nt)||[]}A.fn.extend({prop:function(g,_){return Kn(this,A.prop,g,_,arguments.length>1)},removeProp:function(g){return this.each(function(){delete this[A.propFix[g]||g]})}}),A.extend({prop:function(g,_,T){var R,H,z=g.nodeType;if(3!==z&&8!==z&&2!==z)return(1!==z||!A.isXMLDoc(g))&&(H=A.propHooks[_=A.propFix[_]||_]),void 0!==T?H&&"set"in H&&void 0!==(R=H.set(g,T,_))?R:g[_]=T:H&&"get"in H&&null!==(R=H.get(g,_))?R:g[_]},propHooks:{tabIndex:{get:function(g){var _=A.find.attr(g,"tabindex");return _?parseInt(_,10):ei.test(g.nodeName)||xo.test(g.nodeName)&&g.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Qe.optSelected||(A.propHooks.selected={get:function(g){return null},set:function(g){}}),A.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){A.propFix[this.toLowerCase()]=this}),A.fn.extend({addClass:function(g){var _,T,R,H,z,q;return nt(g)?this.each(function(ae){A(this).addClass(g.call(this,ae,ci(this)))}):(_=io(g)).length?this.each(function(){if(R=ci(this),T=1===this.nodeType&&" "+is(R)+" "){for(z=0;z<_.length;z++)T.indexOf(" "+(H=_[z])+" ")<0&&(T+=H+" ");q=is(T),R!==q&&this.setAttribute("class",q)}}):this},removeClass:function(g){var _,T,R,H,z,q;return nt(g)?this.each(function(ae){A(this).removeClass(g.call(this,ae,ci(this)))}):arguments.length?(_=io(g)).length?this.each(function(){if(R=ci(this),T=1===this.nodeType&&" "+is(R)+" "){for(z=0;z<_.length;z++)for(H=_[z];T.indexOf(" "+H+" ")>-1;)T=T.replace(" "+H+" "," ");q=is(T),R!==q&&this.setAttribute("class",q)}}):this:this.attr("class","")},toggleClass:function(g,_){var T,R,H,z,q=typeof g,ae="string"===q||Array.isArray(g);return nt(g)?this.each(function(re){A(this).toggleClass(g.call(this,re,ci(this),_),_)}):"boolean"==typeof _&&ae?_?this.addClass(g):this.removeClass(g):(T=io(g),this.each(function(){if(ae)for(z=A(this),H=0;H<T.length;H++)z.hasClass(R=T[H])?z.removeClass(R):z.addClass(R);else(void 0===g||"boolean"===q)&&((R=ci(this))&&Zt.set(this,"__className__",R),this.setAttribute&&this.setAttribute("class",R||!1===g?"":Zt.get(this,"__className__")||""))}))},hasClass:function(g){var _,T,R=0;for(_=" "+g+" ";T=this[R++];)if(1===T.nodeType&&(" "+is(ci(T))+" ").indexOf(_)>-1)return!0;return!1}});var Oi=/\r/g;A.fn.extend({val:function(g){var _,T,R,H=this[0];return arguments.length?(R=nt(g),this.each(function(z){var q;1===this.nodeType&&(null==(q=R?g.call(this,z,A(this).val()):g)?q="":"number"==typeof q?q+="":Array.isArray(q)&&(q=A.map(q,function(ae){return null==ae?"":ae+""})),(!(_=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()])||!("set"in _)||void 0===_.set(this,q,"value"))&&(this.value=q))})):H?(_=A.valHooks[H.type]||A.valHooks[H.nodeName.toLowerCase()])&&"get"in _&&void 0!==(T=_.get(H,"value"))?T:"string"==typeof(T=H.value)?T.replace(Oi,""):T??"":void 0}}),A.extend({valHooks:{option:{get:function(g){return A.find.attr(g,"value")??is(A.text(g))}},select:{get:function(g){var _,T,R,H=g.options,z=g.selectedIndex,q="select-one"===g.type,ae=q?null:[],re=q?z+1:H.length;for(R=z<0?re:q?z:0;R<re;R++)if(((T=H[R]).selected||R===z)&&!T.disabled&&(!T.parentNode.disabled||!Dt(T.parentNode,"optgroup"))){if(_=A(T).val(),q)return _;ae.push(_)}return ae},set:function(g,_){for(var T,R,H=g.options,z=A.makeArray(_),q=H.length;q--;)((R=H[q]).selected=A.inArray(A.valHooks.option.get(R),z)>-1)&&(T=!0);return T||(g.selectedIndex=-1),z}}}}),A.each(["radio","checkbox"],function(){A.valHooks[this]={set:function(g,_){if(Array.isArray(_))return g.checked=A.inArray(A(g).val(),_)>-1}},Qe.checkOn||(A.valHooks[this].get=function(g){return null===g.getAttribute("value")?"on":g.value})}),Qe.focusin="onfocusin"in J;var hr=/^(?:focusinfocus|focusoutblur)$/,ss=function(g){g.stopPropagation()};A.extend(A.event,{trigger:function(g,_,T,R){var H,z,q,ae,re,ve,xe,ct,De=[T||Ee],je=ce.call(g,"type")?g.type:g,Tt=ce.call(g,"namespace")?g.namespace.split("."):[];if(z=ct=q=T=T||Ee,3!==T.nodeType&&8!==T.nodeType&&!hr.test(je+A.event.triggered)&&(je.indexOf(".")>-1&&(Tt=je.split("."),je=Tt.shift(),Tt.sort()),re=je.indexOf(":")<0&&"on"+je,(g=g[A.expando]?g:new A.Event(je,"object"==typeof g&&g)).isTrigger=R?2:3,g.namespace=Tt.join("."),g.rnamespace=g.namespace?new RegExp("(^|\\.)"+Tt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g.result=void 0,g.target||(g.target=T),_=null==_?[g]:A.makeArray(_,[g]),xe=A.event.special[je]||{},R||!xe.trigger||!1!==xe.trigger.apply(T,_))){if(!R&&!xe.noBubble&&!Ne(T)){for(hr.test((ae=xe.delegateType||je)+je)||(z=z.parentNode);z;z=z.parentNode)De.push(z),q=z;q===(T.ownerDocument||Ee)&&De.push(q.defaultView||q.parentWindow||J)}for(H=0;(z=De[H++])&&!g.isPropagationStopped();)ct=z,g.type=H>1?ae:xe.bindType||je,(ve=(Zt.get(z,"events")||Object.create(null))[g.type]&&Zt.get(z,"handle"))&&ve.apply(z,_),(ve=re&&z[re])&&ve.apply&&Wr(z)&&(g.result=ve.apply(z,_),!1===g.result&&g.preventDefault());return g.type=je,!R&&!g.isDefaultPrevented()&&(!xe._default||!1===xe._default.apply(De.pop(),_))&&Wr(T)&&re&&nt(T[je])&&!Ne(T)&&((q=T[re])&&(T[re]=null),A.event.triggered=je,g.isPropagationStopped()&&ct.addEventListener(je,ss),T[je](),g.isPropagationStopped()&&ct.removeEventListener(je,ss),A.event.triggered=void 0,q&&(T[re]=q)),g.result}},simulate:function(g,_,T){var R=A.extend(new A.Event,T,{type:g,isSimulated:!0});A.event.trigger(R,null,_)}}),A.fn.extend({trigger:function(g,_){return this.each(function(){A.event.trigger(g,_,this)})},triggerHandler:function(g,_){var T=this[0];if(T)return A.event.trigger(g,_,T,!0)}}),Qe.focusin||A.each({focus:"focusin",blur:"focusout"},function(g,_){var T=function(R){A.event.simulate(_,R.target,A.event.fix(R))};A.event.special[_]={setup:function(){var R=this.ownerDocument||this.document||this,H=Zt.access(R,_);H||R.addEventListener(g,T,!0),Zt.access(R,_,(H||0)+1)},teardown:function(){var R=this.ownerDocument||this.document||this,H=Zt.access(R,_)-1;H?Zt.access(R,_,H):(R.removeEventListener(g,T,!0),Zt.remove(R,_))}}});var Mo=J.location,qo={guid:Date.now()},so=/\?/;A.parseXML=function(g){var _,T;if(!g||"string"!=typeof g)return null;try{_=(new J.DOMParser).parseFromString(g,"text/xml")}catch{}return T=_&&_.getElementsByTagName("parsererror")[0],(!_||T)&&A.error("Invalid XML: "+(T?A.map(T.childNodes,function(R){return R.textContent}).join("\n"):g)),_};var oo=/\[\]$/,ao=/\r?\n/g,mi=/^(?:submit|button|image|reset|file)$/i,pl=/^(?:input|select|textarea|keygen)/i;function yi(g,_,T,R){var H;if(Array.isArray(_))A.each(_,function(z,q){T||oo.test(g)?R(g,q):yi(g+"["+("object"==typeof q&&null!=q?z:"")+"]",q,T,R)});else if(T||"object"!==He(_))R(g,_);else for(H in _)yi(g+"["+H+"]",_[H],T,R)}A.param=function(g,_){var T,R=[],H=function(z,q){var ae=nt(q)?q():q;R[R.length]=encodeURIComponent(z)+"="+encodeURIComponent(ae??"")};if(null==g)return"";if(Array.isArray(g)||g.jquery&&!A.isPlainObject(g))A.each(g,function(){H(this.name,this.value)});else for(T in g)yi(T,g[T],_,H);return R.join("&")},A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var g=A.prop(this,"elements");return g?A.makeArray(g):this}).filter(function(){var g=this.type;return this.name&&!A(this).is(":disabled")&&pl.test(this.nodeName)&&!mi.test(g)&&(this.checked||!Nr.test(g))}).map(function(g,_){var T=A(this).val();return null==T?null:Array.isArray(T)?A.map(T,function(R){return{name:_.name,value:R.replace(ao,"\r\n")}}):{name:_.name,value:T.replace(ao,"\r\n")}}).get()}});var _s=/%20/g,Ro=/#.*$/,Wa=/([?&])_=[^&]*/,ga=/^(.*?):[ \t]*([^\r\n]*)$/gm,uo=/^(?:GET|HEAD)$/,ma=/^\/\//,mc={},hs={},yc="*/".concat("*"),Za=Ee.createElement("a");function gl(g){return function(_,T){"string"!=typeof _&&(T=_,_="*");var R,H=0,z=_.toLowerCase().match(Nt)||[];if(nt(T))for(;R=z[H++];)"+"===R[0]?(R=R.slice(1)||"*",(g[R]=g[R]||[]).unshift(T)):(g[R]=g[R]||[]).push(T)}}function Ru(g,_,T,R){var H={},z=g===hs;function q(ae){var re;return H[ae]=!0,A.each(g[ae]||[],function(ve,xe){var ct=xe(_,T,R);return"string"!=typeof ct||z||H[ct]?z?!(re=ct):void 0:(_.dataTypes.unshift(ct),q(ct),!1)}),re}return q(_.dataTypes[0])||!H["*"]&&q("*")}function ml(g,_){var T,R,H=A.ajaxSettings.flatOptions||{};for(T in _)void 0!==_[T]&&((H[T]?g:R||(R={}))[T]=_[T]);return R&&A.extend(!0,g,R),g}Za.href=Mo.href,A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mo.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Mo.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(g,_){return _?ml(ml(g,A.ajaxSettings),_):ml(A.ajaxSettings,g)},ajaxPrefilter:gl(mc),ajaxTransport:gl(hs),ajax:function(g,_){"object"==typeof g&&(_=g,g=void 0);var T,R,H,z,q,ae,re,ve,xe,ct,De=A.ajaxSetup({},_=_||{}),je=De.context||De,Tt=De.context&&(je.nodeType||je.jquery)?A(je):A.event,In=A.Deferred(),Kt=A.Callbacks("once memory"),Wn=De.statusCode||{},Cr={},ti={},Pn="canceled",xn={readyState:0,getResponseHeader:function(Dn){var jn;if(re){if(!z)for(z={};jn=ga.exec(H);)z[jn[1].toLowerCase()+" "]=(z[jn[1].toLowerCase()+" "]||[]).concat(jn[2]);jn=z[Dn.toLowerCase()+" "]}return null==jn?null:jn.join(", ")},getAllResponseHeaders:function(){return re?H:null},setRequestHeader:function(Dn,jn){return null==re&&(Dn=ti[Dn.toLowerCase()]=ti[Dn.toLowerCase()]||Dn,Cr[Dn]=jn),this},overrideMimeType:function(Dn){return null==re&&(De.mimeType=Dn),this},statusCode:function(Dn){var jn;if(Dn)if(re)xn.always(Dn[xn.status]);else for(jn in Dn)Wn[jn]=[Wn[jn],Dn[jn]];return this},abort:function(Dn){var jn=Dn||Pn;return T&&T.abort(jn),vi(0,jn),this}};if(In.promise(xn),De.url=((g||De.url||Mo.href)+"").replace(ma,Mo.protocol+"//"),De.type=_.method||_.type||De.method||De.type,De.dataTypes=(De.dataType||"*").toLowerCase().match(Nt)||[""],null==De.crossDomain){ae=Ee.createElement("a");try{ae.href=De.url,ae.href=ae.href,De.crossDomain=Za.protocol+"//"+Za.host!=ae.protocol+"//"+ae.host}catch{De.crossDomain=!0}}if(De.data&&De.processData&&"string"!=typeof De.data&&(De.data=A.param(De.data,De.traditional)),Ru(mc,De,_,xn),re)return xn;for(xe in(ve=A.event&&De.global)&&0==A.active++&&A.event.trigger("ajaxStart"),De.type=De.type.toUpperCase(),De.hasContent=!uo.test(De.type),R=De.url.replace(Ro,""),De.hasContent?De.data&&De.processData&&0===(De.contentType||"").indexOf("application/x-www-form-urlencoded")&&(De.data=De.data.replace(_s,"+")):(ct=De.url.slice(R.length),De.data&&(De.processData||"string"==typeof De.data)&&(R+=(so.test(R)?"&":"?")+De.data,delete De.data),!1===De.cache&&(R=R.replace(Wa,"$1"),ct=(so.test(R)?"&":"?")+"_="+qo.guid+++ct),De.url=R+ct),De.ifModified&&(A.lastModified[R]&&xn.setRequestHeader("If-Modified-Since",A.lastModified[R]),A.etag[R]&&xn.setRequestHeader("If-None-Match",A.etag[R])),(De.data&&De.hasContent&&!1!==De.contentType||_.contentType)&&xn.setRequestHeader("Content-Type",De.contentType),xn.setRequestHeader("Accept",De.dataTypes[0]&&De.accepts[De.dataTypes[0]]?De.accepts[De.dataTypes[0]]+("*"!==De.dataTypes[0]?", "+yc+"; q=0.01":""):De.accepts["*"]),De.headers)xn.setRequestHeader(xe,De.headers[xe]);if(De.beforeSend&&(!1===De.beforeSend.call(je,xn,De)||re))return xn.abort();if(Pn="abort",Kt.add(De.complete),xn.done(De.success),xn.fail(De.error),T=Ru(hs,De,_,xn)){if(xn.readyState=1,ve&&Tt.trigger("ajaxSend",[xn,De]),re)return xn;De.async&&De.timeout>0&&(q=J.setTimeout(function(){xn.abort("timeout")},De.timeout));try{re=!1,T.send(Cr,vi)}catch(Dn){if(re)throw Dn;vi(-1,Dn)}}else vi(-1,"No Transport");function vi(Dn,jn,js,ws){var Ki,zi,Es,ni,ln,Gi=jn;re||(re=!0,q&&J.clearTimeout(q),T=void 0,H=ws||"",xn.readyState=Dn>0?4:0,Ki=Dn>=200&&Dn<300||304===Dn,js&&(ni=function yl(g,_,T){for(var R,H,z,q,ae=g.contents,re=g.dataTypes;"*"===re[0];)re.shift(),void 0===R&&(R=g.mimeType||_.getResponseHeader("Content-Type"));if(R)for(H in ae)if(ae[H]&&ae[H].test(R)){re.unshift(H);break}if(re[0]in T)z=re[0];else{for(H in T){if(!re[0]||g.converters[H+" "+re[0]]){z=H;break}q||(q=H)}z=z||q}if(z)return z!==re[0]&&re.unshift(z),T[z]}(De,xn,js)),!Ki&&A.inArray("script",De.dataTypes)>-1&&A.inArray("json",De.dataTypes)<0&&(De.converters["text script"]=function(){}),ni=function vl(g,_,T,R){var H,z,q,ae,re,ve={},xe=g.dataTypes.slice();if(xe[1])for(q in g.converters)ve[q.toLowerCase()]=g.converters[q];for(z=xe.shift();z;)if(g.responseFields[z]&&(T[g.responseFields[z]]=_),!re&&R&&g.dataFilter&&(_=g.dataFilter(_,g.dataType)),re=z,z=xe.shift())if("*"===z)z=re;else if("*"!==re&&re!==z){if(!(q=ve[re+" "+z]||ve["* "+z]))for(H in ve)if((ae=H.split(" "))[1]===z&&(q=ve[re+" "+ae[0]]||ve["* "+ae[0]])){!0===q?q=ve[H]:!0!==ve[H]&&(z=ae[0],xe.unshift(ae[1]));break}if(!0!==q)if(q&&g.throws)_=q(_);else try{_=q(_)}catch(ct){return{state:"parsererror",error:q?ct:"No conversion from "+re+" to "+z}}}return{state:"success",data:_}}(De,ni,xn,Ki),Ki?(De.ifModified&&((ln=xn.getResponseHeader("Last-Modified"))&&(A.lastModified[R]=ln),(ln=xn.getResponseHeader("etag"))&&(A.etag[R]=ln)),204===Dn||"HEAD"===De.type?Gi="nocontent":304===Dn?Gi="notmodified":(Gi=ni.state,zi=ni.data,Ki=!(Es=ni.error))):(Es=Gi,(Dn||!Gi)&&(Gi="error",Dn<0&&(Dn=0))),xn.status=Dn,xn.statusText=(jn||Gi)+"",Ki?In.resolveWith(je,[zi,Gi,xn]):In.rejectWith(je,[xn,Gi,Es]),xn.statusCode(Wn),Wn=void 0,ve&&Tt.trigger(Ki?"ajaxSuccess":"ajaxError",[xn,De,Ki?zi:Es]),Kt.fireWith(je,[xn,Gi]),ve&&(Tt.trigger("ajaxComplete",[xn,De]),--A.active||A.event.trigger("ajaxStop")))}return xn},getJSON:function(g,_,T){return A.get(g,_,T,"json")},getScript:function(g,_){return A.get(g,void 0,_,"script")}}),A.each(["get","post"],function(g,_){A[_]=function(T,R,H,z){return nt(R)&&(z=z||H,H=R,R=void 0),A.ajax(A.extend({url:T,type:_,dataType:z,data:R,success:H},A.isPlainObject(T)&&T))}}),A.ajaxPrefilter(function(g){var _;for(_ in g.headers)"content-type"===_.toLowerCase()&&(g.contentType=g.headers[_]||"")}),A._evalUrl=function(g,_,T){return A.ajax({url:g,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(R){A.globalEval(R,_,T)}})},A.fn.extend({wrapAll:function(g){var _;return this[0]&&(nt(g)&&(g=g.call(this[0])),_=A(g,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&_.insertBefore(this[0]),_.map(function(){for(var T=this;T.firstElementChild;)T=T.firstElementChild;return T}).append(this)),this},wrapInner:function(g){return nt(g)?this.each(function(_){A(this).wrapInner(g.call(this,_))}):this.each(function(){var _=A(this),T=_.contents();T.length?T.wrapAll(g):_.append(g)})},wrap:function(g){var _=nt(g);return this.each(function(T){A(this).wrapAll(_?g.call(this,T):g)})},unwrap:function(g){return this.parent(g).not("body").each(function(){A(this).replaceWith(this.childNodes)}),this}}),A.expr.pseudos.hidden=function(g){return!A.expr.pseudos.visible(g)},A.expr.pseudos.visible=function(g){return!!(g.offsetWidth||g.offsetHeight||g.getClientRects().length)},A.ajaxSettings.xhr=function(){try{return new J.XMLHttpRequest}catch{}};var _l={0:200,1223:204},ya=A.ajaxSettings.xhr();Qe.cors=!!ya&&"withCredentials"in ya,Qe.ajax=ya=!!ya,A.ajaxTransport(function(g){var _,T;if(Qe.cors||ya&&!g.crossDomain)return{send:function(R,H){var z,q=g.xhr();if(q.open(g.type,g.url,g.async,g.username,g.password),g.xhrFields)for(z in g.xhrFields)q[z]=g.xhrFields[z];for(z in g.mimeType&&q.overrideMimeType&&q.overrideMimeType(g.mimeType),!g.crossDomain&&!R["X-Requested-With"]&&(R["X-Requested-With"]="XMLHttpRequest"),R)q.setRequestHeader(z,R[z]);_=function(ae){return function(){_&&(_=T=q.onload=q.onerror=q.onabort=q.ontimeout=q.onreadystatechange=null,"abort"===ae?q.abort():"error"===ae?"number"!=typeof q.status?H(0,"error"):H(q.status,q.statusText):H(_l[q.status]||q.status,q.statusText,"text"!==(q.responseType||"text")||"string"!=typeof q.responseText?{binary:q.response}:{text:q.responseText},q.getAllResponseHeaders()))}},q.onload=_(),T=q.onerror=q.ontimeout=_("error"),void 0!==q.onabort?q.onabort=T:q.onreadystatechange=function(){4===q.readyState&&J.setTimeout(function(){_&&T()})},_=_("abort");try{q.send(g.hasContent&&g.data||null)}catch(ae){if(_)throw ae}},abort:function(){_&&_()}}}),A.ajaxPrefilter(function(g){g.crossDomain&&(g.contents.script=!1)}),A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(g){return A.globalEval(g),g}}}),A.ajaxPrefilter("script",function(g){void 0===g.cache&&(g.cache=!1),g.crossDomain&&(g.type="GET")}),A.ajaxTransport("script",function(g){var _,T;if(g.crossDomain||g.scriptAttrs)return{send:function(R,H){_=A("<script>").attr(g.scriptAttrs||{}).prop({charset:g.scriptCharset,src:g.url}).on("load error",T=function(z){_.remove(),T=null,z&&H("error"===z.type?404:200,z.type)}),Ee.head.appendChild(_[0])},abort:function(){T&&T()}}});var g,Bs=[],lo=/(=)\?(?=&|$)|\?\?/;A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var g=Bs.pop()||A.expando+"_"+qo.guid++;return this[g]=!0,g}}),A.ajaxPrefilter("json jsonp",function(g,_,T){var R,H,z,q=!1!==g.jsonp&&(lo.test(g.url)?"url":"string"==typeof g.data&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&lo.test(g.data)&&"data");if(q||"jsonp"===g.dataTypes[0])return R=g.jsonpCallback=nt(g.jsonpCallback)?g.jsonpCallback():g.jsonpCallback,q?g[q]=g[q].replace(lo,"$1"+R):!1!==g.jsonp&&(g.url+=(so.test(g.url)?"&":"?")+g.jsonp+"="+R),g.converters["script json"]=function(){return z||A.error(R+" was not called"),z[0]},g.dataTypes[0]="json",H=J[R],J[R]=function(){z=arguments},T.always(function(){void 0===H?A(J).removeProp(R):J[R]=H,g[R]&&(g.jsonpCallback=_.jsonpCallback,Bs.push(R)),z&&nt(H)&&H(z[0]),z=H=void 0}),"script"}),Qe.createHTMLDocument=((g=Ee.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===g.childNodes.length),A.parseHTML=function(g,_,T){return"string"!=typeof g?[]:("boolean"==typeof _&&(T=_,_=!1),_||(Qe.createHTMLDocument?((R=(_=Ee.implementation.createHTMLDocument("")).createElement("base")).href=Ee.location.href,_.head.appendChild(R)):_=Ee),z=!T&&[],(H=fn.exec(g))?[_.createElement(H[1])]:(H=yt([g],_,z),z&&z.length&&A(z).remove(),A.merge([],H.childNodes)));var R,H,z},A.fn.load=function(g,_,T){var R,H,z,q=this,ae=g.indexOf(" ");return ae>-1&&(R=is(g.slice(ae)),g=g.slice(0,ae)),nt(_)?(T=_,_=void 0):_&&"object"==typeof _&&(H="POST"),q.length>0&&A.ajax({url:g,type:H||"GET",dataType:"html",data:_}).done(function(re){z=arguments,q.html(R?A("<div>").append(A.parseHTML(re)).find(R):re)}).always(T&&function(re,ve){q.each(function(){T.apply(this,z||[re.responseText,ve,re])})}),this},A.expr.pseudos.animated=function(g){return A.grep(A.timers,function(_){return g===_.elem}).length},A.offset={setOffset:function(g,_,T){var R,H,z,q,ae,re,xe=A.css(g,"position"),ct=A(g),De={};"static"===xe&&(g.style.position="relative"),ae=ct.offset(),z=A.css(g,"top"),re=A.css(g,"left"),("absolute"===xe||"fixed"===xe)&&(z+re).indexOf("auto")>-1?(q=(R=ct.position()).top,H=R.left):(q=parseFloat(z)||0,H=parseFloat(re)||0),nt(_)&&(_=_.call(g,T,A.extend({},ae))),null!=_.top&&(De.top=_.top-ae.top+q),null!=_.left&&(De.left=_.left-ae.left+H),"using"in _?_.using.call(g,De):ct.css(De)}},A.fn.extend({offset:function(g){if(arguments.length)return void 0===g?this:this.each(function(H){A.offset.setOffset(this,g,H)});var _,T,R=this[0];return R?R.getClientRects().length?{top:(_=R.getBoundingClientRect()).top+(T=R.ownerDocument.defaultView).pageYOffset,left:_.left+T.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var g,_,T,R=this[0],H={top:0,left:0};if("fixed"===A.css(R,"position"))_=R.getBoundingClientRect();else{for(_=this.offset(),T=R.ownerDocument,g=R.offsetParent||T.documentElement;g&&(g===T.body||g===T.documentElement)&&"static"===A.css(g,"position");)g=g.parentNode;g&&g!==R&&1===g.nodeType&&((H=A(g).offset()).top+=A.css(g,"borderTopWidth",!0),H.left+=A.css(g,"borderLeftWidth",!0))}return{top:_.top-H.top-A.css(R,"marginTop",!0),left:_.left-H.left-A.css(R,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent;g&&"static"===A.css(g,"position");)g=g.offsetParent;return g||yn})}}),A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(g,_){var T="pageYOffset"===_;A.fn[g]=function(R){return Kn(this,function(H,z,q){var ae;if(Ne(H)?ae=H:9===H.nodeType&&(ae=H.defaultView),void 0===q)return ae?ae[_]:H[z];ae?ae.scrollTo(T?ae.pageXOffset:q,T?q:ae.pageYOffset):H[z]=q},g,R,arguments.length)}}),A.each(["top","left"],function(g,_){A.cssHooks[_]=on(Qe.pixelPosition,function(T,R){if(R)return R=Pt(T,_),Tn.test(R)?A(T).position()[_]+"px":R})}),A.each({Height:"height",Width:"width"},function(g,_){A.each({padding:"inner"+g,content:_,"":"outer"+g},function(T,R){A.fn[R]=function(H,z){var q=arguments.length&&(T||"boolean"!=typeof H),ae=T||(!0===H||!0===z?"margin":"border");return Kn(this,function(re,ve,xe){var ct;return Ne(re)?0===R.indexOf("outer")?re["inner"+g]:re.document.documentElement["client"+g]:9===re.nodeType?(ct=re.documentElement,Math.max(re.body["scroll"+g],ct["scroll"+g],re.body["offset"+g],ct["offset"+g],ct["client"+g])):void 0===xe?A.css(re,ve,ae):A.style(re,ve,xe,ae)},_,q?H:void 0,q)}})}),A.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(g,_){A.fn[_]=function(T){return this.on(_,T)}}),A.fn.extend({bind:function(g,_,T){return this.on(g,null,_,T)},unbind:function(g,_){return this.off(g,null,_)},delegate:function(g,_,T,R){return this.on(_,g,T,R)},undelegate:function(g,_,T){return 1===arguments.length?this.off(g,"**"):this.off(_,g||"**",T)},hover:function(g,_){return this.mouseenter(g).mouseleave(_||g)}}),A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(g,_){A.fn[_]=function(T,R){return arguments.length>0?this.on(_,null,T,R):this.trigger(_)}});var vc=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;A.proxy=function(g,_){var T,R,H;if("string"==typeof _&&(T=g[_],_=g,g=T),nt(g))return R=Ce.call(arguments,2),H=function(){return g.apply(_||this,R.concat(Ce.call(arguments)))},H.guid=g.guid=g.guid||A.guid++,H},A.holdReady=function(g){g?A.readyWait++:A.ready(!0)},A.isArray=Array.isArray,A.parseJSON=JSON.parse,A.nodeName=Dt,A.isFunction=nt,A.isWindow=Ne,A.camelCase=Sr,A.type=He,A.now=Date.now,A.isNumeric=function(g){var _=A.type(g);return("number"===_||"string"===_)&&!isNaN(g-parseFloat(g))},A.trim=function(g){return null==g?"":(g+"").replace(vc,"$1")},void 0!==(d=function(){return A}.apply(Je,[]))&&(Ut.exports=d);var Wo=J.jQuery,_c=J.$;return A.noConflict=function(g){return J.$===A&&(J.$=_c),g&&J.jQuery===A&&(J.jQuery=Wo),A},typeof W>"u"&&(J.jQuery=J.$=A),A})},9751:(Ut,Je,X)=>{"use strict";X.d(Je,{y:()=>Fe});var d=X(2961),J=X(727),W=X(8822),ge=X(9635),Se=X(2416),Ce=X(576),Be=X(2806);let Fe=(()=>{class ce{constructor(et){et&&(this._subscribe=et)}lift(et){const Qe=new ce;return Qe.source=this,Qe.operator=et,Qe}subscribe(et,Qe,nt){const Ne=function ie(ce){return ce&&ce instanceof d.Lv||function oe(ce){return ce&&(0,Ce.m)(ce.next)&&(0,Ce.m)(ce.error)&&(0,Ce.m)(ce.complete)}(ce)&&(0,J.Nn)(ce)}(et)?et:new d.Hp(et,Qe,nt);return(0,Be.x)(()=>{const{operator:Ee,source:rt}=this;Ne.add(Ee?Ee.call(Ne,rt):rt?this._subscribe(Ne):this._trySubscribe(Ne))}),Ne}_trySubscribe(et){try{return this._subscribe(et)}catch(Qe){et.error(Qe)}}forEach(et,Qe){return new(Qe=Le(Qe))((nt,Ne)=>{const Ee=new d.Hp({next:rt=>{try{et(rt)}catch(it){Ne(it),Ee.unsubscribe()}},error:Ne,complete:nt});this.subscribe(Ee)})}_subscribe(et){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(et)}[W.L](){return this}pipe(...et){return(0,ge.U)(et)(this)}toPromise(et){return new(et=Le(et))((Qe,nt)=>{let Ne;this.subscribe(Ee=>Ne=Ee,Ee=>nt(Ee),()=>Qe(Ne))})}}return ce.create=$e=>new ce($e),ce})();function Le(ce){var $e;return null!==($e=ce??Se.v.Promise)&&void 0!==$e?$e:Promise}},7579:(Ut,Je,X)=>{"use strict";X.d(Je,{x:()=>Be});var d=X(9751),J=X(727);const ge=(0,X(3888).d)(Le=>function(){Le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=X(8737),Ce=X(2806);let Be=(()=>{class Le extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const ce=new Fe(this,this);return ce.operator=ie,ce}_throwIfClosed(){if(this.closed)throw new ge}next(ie){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(ie)}})}error(ie){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:ce}=this;for(;ce.length;)ce.shift().error(ie)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:ce,isStopped:$e,observers:et}=this;return ce||$e?J.Lc:(this.currentObservers=null,et.push(ie),new J.w0(()=>{this.currentObservers=null,(0,Se.P)(et,ie)}))}_checkFinalizedStatuses(ie){const{hasError:ce,thrownError:$e,isStopped:et}=this;ce?ie.error($e):et&&ie.complete()}asObservable(){const ie=new d.y;return ie.source=this,ie}}return Le.create=(oe,ie)=>new Fe(oe,ie),Le})();class Fe extends Be{constructor(oe,ie){super(),this.destination=oe,this.source=ie}next(oe){var ie,ce;null===(ce=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===ce||ce.call(ie,oe)}error(oe){var ie,ce;null===(ce=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===ce||ce.call(ie,oe)}complete(){var oe,ie;null===(ie=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===ie||ie.call(oe)}_subscribe(oe){var ie,ce;return null!==(ce=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(oe))&&void 0!==ce?ce:J.Lc}}},2961:(Ut,Je,X)=>{"use strict";X.d(Je,{Hp:()=>nt,Lv:()=>ce});var d=X(576),J=X(727),W=X(2416),ge=X(7849);function Se(){}const Ce=Le("C",void 0,void 0);function Le(He,ze,A){return{kind:He,value:ze,error:A}}var oe=X(3410),ie=X(2806);class ce extends J.w0{constructor(ze){super(),this.isStopped=!1,ze?(this.destination=ze,(0,J.Nn)(ze)&&ze.add(this)):this.destination=it}static create(ze,A,dt){return new nt(ze,A,dt)}next(ze){this.isStopped?rt(function Fe(He){return Le("N",He,void 0)}(ze),this):this._next(ze)}error(ze){this.isStopped?rt(function Be(He){return Le("E",void 0,He)}(ze),this):(this.isStopped=!0,this._error(ze))}complete(){this.isStopped?rt(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ze){this.destination.next(ze)}_error(ze){try{this.destination.error(ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function et(He,ze){return $e.call(He,ze)}class Qe{constructor(ze){this.partialObserver=ze}next(ze){const{partialObserver:A}=this;if(A.next)try{A.next(ze)}catch(dt){Ne(dt)}}error(ze){const{partialObserver:A}=this;if(A.error)try{A.error(ze)}catch(dt){Ne(dt)}else Ne(ze)}complete(){const{partialObserver:ze}=this;if(ze.complete)try{ze.complete()}catch(A){Ne(A)}}}class nt extends ce{constructor(ze,A,dt){let tt;if(super(),(0,d.m)(ze)||!ze)tt={next:ze??void 0,error:A??void 0,complete:dt??void 0};else{let be;this&&W.v.useDeprecatedNextContext?(be=Object.create(ze),be.unsubscribe=()=>this.unsubscribe(),tt={next:ze.next&&et(ze.next,be),error:ze.error&&et(ze.error,be),complete:ze.complete&&et(ze.complete,be)}):tt=ze}this.destination=new Qe(tt)}}function Ne(He){W.v.useDeprecatedSynchronousErrorHandling?(0,ie.O)(He):(0,ge.h)(He)}function rt(He,ze){const{onStoppedNotification:A}=W.v;A&&oe.z.setTimeout(()=>A(He,ze))}const it={closed:!0,next:Se,error:function Ee(He){throw He},complete:Se}},727:(Ut,Je,X)=>{"use strict";X.d(Je,{Lc:()=>Ce,w0:()=>Se,Nn:()=>Be});var d=X(576);const W=(0,X(3888).d)(Le=>function(ie){Le(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((ce,$e)=>`${$e+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var ge=X(8737);class Se{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const et of ie)et.remove(this);else ie.remove(this);const{initialTeardown:ce}=this;if((0,d.m)(ce))try{ce()}catch(et){oe=et instanceof W?et.errors:[et]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const et of $e)try{Fe(et)}catch(Qe){oe=oe??[],Qe instanceof W?oe=[...oe,...Qe.errors]:oe.push(Qe)}}if(oe)throw new W(oe)}}add(oe){var ie;if(oe&&oe!==this)if(this.closed)Fe(oe);else{if(oe instanceof Se){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(oe)}}_hasParent(oe){const{_parentage:ie}=this;return ie===oe||Array.isArray(ie)&&ie.includes(oe)}_addParent(oe){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(oe),ie):ie?[ie,oe]:oe}_removeParent(oe){const{_parentage:ie}=this;ie===oe?this._parentage=null:Array.isArray(ie)&&(0,ge.P)(ie,oe)}remove(oe){const{_finalizers:ie}=this;ie&&(0,ge.P)(ie,oe),oe instanceof Se&&oe._removeParent(this)}}Se.EMPTY=(()=>{const Le=new Se;return Le.closed=!0,Le})();const Ce=Se.EMPTY;function Be(Le){return Le instanceof Se||Le&&"closed"in Le&&(0,d.m)(Le.remove)&&(0,d.m)(Le.add)&&(0,d.m)(Le.unsubscribe)}function Fe(Le){(0,d.m)(Le)?Le():Le.unsubscribe()}},2416:(Ut,Je,X)=>{"use strict";X.d(Je,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ut,Je,X)=>{"use strict";X.d(Je,{E:()=>J});const J=new(X(9751).y)(Se=>Se.complete())},8996:(Ut,Je,X)=>{"use strict";X.d(Je,{D:()=>ze});var d=X(8421),J=X(5363),W=X(9468),Ce=X(9751),Fe=X(2202),Le=X(576),oe=X(9672);function ce(A,dt){if(!A)throw new Error("Iterable cannot be null");return new Ce.y(tt=>{(0,oe.f)(tt,dt,()=>{const be=A[Symbol.asyncIterator]();(0,oe.f)(tt,dt,()=>{be.next().then(Mt=>{Mt.done?tt.complete():tt.next(Mt.value)})},0,!0)})})}var $e=X(3670),et=X(8239),Qe=X(1144),nt=X(6495),Ne=X(2206),Ee=X(4532),rt=X(3260);function ze(A,dt){return dt?function He(A,dt){if(null!=A){if((0,$e.c)(A))return function ge(A,dt){return(0,d.Xf)(A).pipe((0,W.R)(dt),(0,J.Q)(dt))}(A,dt);if((0,Qe.z)(A))return function Be(A,dt){return new Ce.y(tt=>{let be=0;return dt.schedule(function(){be===A.length?tt.complete():(tt.next(A[be++]),tt.closed||this.schedule())})})}(A,dt);if((0,et.t)(A))return function Se(A,dt){return(0,d.Xf)(A).pipe((0,W.R)(dt),(0,J.Q)(dt))}(A,dt);if((0,Ne.D)(A))return ce(A,dt);if((0,nt.T)(A))return function ie(A,dt){return new Ce.y(tt=>{let be;return(0,oe.f)(tt,dt,()=>{be=A[Fe.h](),(0,oe.f)(tt,dt,()=>{let Mt,Wt;try{({value:Mt,done:Wt}=be.next())}catch(Dt){return void tt.error(Dt)}Wt?tt.complete():tt.next(Mt)},0,!0)}),()=>(0,Le.m)(be?.return)&&be.return()})}(A,dt);if((0,rt.L)(A))return function it(A,dt){return ce((0,rt.Q)(A),dt)}(A,dt)}throw(0,Ee.z)(A)}(A,dt):(0,d.Xf)(A)}},8421:(Ut,Je,X)=>{"use strict";X.d(Je,{Xf:()=>$e});var d=X(655),J=X(1144),W=X(8239),ge=X(9751),Se=X(3670),Ce=X(2206),Be=X(4532),Fe=X(6495),Le=X(3260),oe=X(576),ie=X(7849),ce=X(8822);function $e(He){if(He instanceof ge.y)return He;if(null!=He){if((0,Se.c)(He))return function et(He){return new ge.y(ze=>{const A=He[ce.L]();if((0,oe.m)(A.subscribe))return A.subscribe(ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,J.z)(He))return function Qe(He){return new ge.y(ze=>{for(let A=0;A<He.length&&!ze.closed;A++)ze.next(He[A]);ze.complete()})}(He);if((0,W.t)(He))return function nt(He){return new ge.y(ze=>{He.then(A=>{ze.closed||(ze.next(A),ze.complete())},A=>ze.error(A)).then(null,ie.h)})}(He);if((0,Ce.D)(He))return Ee(He);if((0,Fe.T)(He))return function Ne(He){return new ge.y(ze=>{for(const A of He)if(ze.next(A),ze.closed)return;ze.complete()})}(He);if((0,Le.L)(He))return function rt(He){return Ee((0,Le.Q)(He))}(He)}throw(0,Be.z)(He)}function Ee(He){return new ge.y(ze=>{(function it(He,ze){var A,dt,tt,be;return(0,d.mG)(this,void 0,void 0,function*(){try{for(A=(0,d.KL)(He);!(dt=yield A.next()).done;)if(ze.next(dt.value),ze.closed)return}catch(Mt){tt={error:Mt}}finally{try{dt&&!dt.done&&(be=A.return)&&(yield be.call(A))}finally{if(tt)throw tt.error}}ze.complete()})})(He,ze).catch(A=>ze.error(A))})}},6451:(Ut,Je,X)=>{"use strict";X.d(Je,{T:()=>Ce});var d=X(8189),J=X(8421),W=X(515),ge=X(7669),Se=X(8996);function Ce(...Be){const Fe=(0,ge.yG)(Be),Le=(0,ge._6)(Be,1/0),oe=Be;return oe.length?1===oe.length?(0,J.Xf)(oe[0]):(0,d.J)(Le)((0,Se.D)(oe,Fe)):W.E}},5403:(Ut,Je,X)=>{"use strict";X.d(Je,{x:()=>J});var d=X(2961);function J(ge,Se,Ce,Be,Fe){return new W(ge,Se,Ce,Be,Fe)}class W extends d.Lv{constructor(Se,Ce,Be,Fe,Le,oe){super(Se),this.onFinalize=Le,this.shouldUnsubscribe=oe,this._next=Ce?function(ie){try{Ce(ie)}catch(ce){Se.error(ce)}}:super._next,this._error=Fe?function(ie){try{Fe(ie)}catch(ce){Se.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=Be?function(){try{Be()}catch(ie){Se.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},4004:(Ut,Je,X)=>{"use strict";X.d(Je,{U:()=>W});var d=X(4482),J=X(5403);function W(ge,Se){return(0,d.e)((Ce,Be)=>{let Fe=0;Ce.subscribe((0,J.x)(Be,Le=>{Be.next(ge.call(Se,Le,Fe++))}))})}},8189:(Ut,Je,X)=>{"use strict";X.d(Je,{J:()=>W});var d=X(5577),J=X(4671);function W(ge=1/0){return(0,d.z)(J.y,ge)}},5577:(Ut,Je,X)=>{"use strict";X.d(Je,{z:()=>Fe});var d=X(4004),J=X(8421),W=X(4482),ge=X(9672),Se=X(5403),Be=X(576);function Fe(Le,oe,ie=1/0){return(0,Be.m)(oe)?Fe((ce,$e)=>(0,d.U)((et,Qe)=>oe(ce,et,$e,Qe))((0,J.Xf)(Le(ce,$e))),ie):("number"==typeof oe&&(ie=oe),(0,W.e)((ce,$e)=>function Ce(Le,oe,ie,ce,$e,et,Qe,nt){const Ne=[];let Ee=0,rt=0,it=!1;const He=()=>{it&&!Ne.length&&!Ee&&oe.complete()},ze=dt=>Ee<ce?A(dt):Ne.push(dt),A=dt=>{et&&oe.next(dt),Ee++;let tt=!1;(0,J.Xf)(ie(dt,rt++)).subscribe((0,Se.x)(oe,be=>{$e?.(be),et?ze(be):oe.next(be)},()=>{tt=!0},void 0,()=>{if(tt)try{for(Ee--;Ne.length&&Ee<ce;){const be=Ne.shift();Qe?(0,ge.f)(oe,Qe,()=>A(be)):A(be)}He()}catch(be){oe.error(be)}}))};return Le.subscribe((0,Se.x)(oe,ze,()=>{it=!0,He()})),()=>{nt?.()}}(ce,$e,Le,ie)))}},5363:(Ut,Je,X)=>{"use strict";X.d(Je,{Q:()=>ge});var d=X(9672),J=X(4482),W=X(5403);function ge(Se,Ce=0){return(0,J.e)((Be,Fe)=>{Be.subscribe((0,W.x)(Fe,Le=>(0,d.f)(Fe,Se,()=>Fe.next(Le),Ce),()=>(0,d.f)(Fe,Se,()=>Fe.complete(),Ce),Le=>(0,d.f)(Fe,Se,()=>Fe.error(Le),Ce)))})}},3099:(Ut,Je,X)=>{"use strict";X.d(Je,{B:()=>Se});var d=X(8421),J=X(7579),W=X(2961),ge=X(4482);function Se(Be={}){const{connector:Fe=(()=>new J.x),resetOnError:Le=!0,resetOnComplete:oe=!0,resetOnRefCountZero:ie=!0}=Be;return ce=>{let $e,et,Qe,nt=0,Ne=!1,Ee=!1;const rt=()=>{et?.unsubscribe(),et=void 0},it=()=>{rt(),$e=Qe=void 0,Ne=Ee=!1},He=()=>{const ze=$e;it(),ze?.unsubscribe()};return(0,ge.e)((ze,A)=>{nt++,!Ee&&!Ne&&rt();const dt=Qe=Qe??Fe();A.add(()=>{nt--,0===nt&&!Ee&&!Ne&&(et=Ce(He,ie))}),dt.subscribe(A),!$e&&nt>0&&($e=new W.Hp({next:tt=>dt.next(tt),error:tt=>{Ee=!0,rt(),et=Ce(it,Le,tt),dt.error(tt)},complete:()=>{Ne=!0,rt(),et=Ce(it,oe),dt.complete()}}),(0,d.Xf)(ze).subscribe($e))})(ce)}}function Ce(Be,Fe,...Le){if(!0===Fe)return void Be();if(!1===Fe)return;const oe=new W.Hp({next:()=>{oe.unsubscribe(),Be()}});return(0,d.Xf)(Fe(...Le)).subscribe(oe)}},9468:(Ut,Je,X)=>{"use strict";X.d(Je,{R:()=>J});var d=X(4482);function J(W,ge=0){return(0,d.e)((Se,Ce)=>{Ce.add(W.schedule(()=>Se.subscribe(Ce),ge))})}},8505:(Ut,Je,X)=>{"use strict";X.d(Je,{b:()=>Se});var d=X(576),J=X(4482),W=X(5403),ge=X(4671);function Se(Ce,Be,Fe){const Le=(0,d.m)(Ce)||Be||Fe?{next:Ce,error:Be,complete:Fe}:Ce;return Le?(0,J.e)((oe,ie)=>{var ce;null===(ce=Le.subscribe)||void 0===ce||ce.call(Le);let $e=!0;oe.subscribe((0,W.x)(ie,et=>{var Qe;null===(Qe=Le.next)||void 0===Qe||Qe.call(Le,et),ie.next(et)},()=>{var et;$e=!1,null===(et=Le.complete)||void 0===et||et.call(Le),ie.complete()},et=>{var Qe;$e=!1,null===(Qe=Le.error)||void 0===Qe||Qe.call(Le,et),ie.error(et)},()=>{var et,Qe;$e&&(null===(et=Le.unsubscribe)||void 0===et||et.call(Le)),null===(Qe=Le.finalize)||void 0===Qe||Qe.call(Le)}))}):ge.y}},4408:(Ut,Je,X)=>{"use strict";X.d(Je,{o:()=>Se});var d=X(727);class J extends d.w0{constructor(Be,Fe){super()}schedule(Be,Fe=0){return this}}const W={setInterval(Ce,Be,...Fe){const{delegate:Le}=W;return Le?.setInterval?Le.setInterval(Ce,Be,...Fe):setInterval(Ce,Be,...Fe)},clearInterval(Ce){const{delegate:Be}=W;return(Be?.clearInterval||clearInterval)(Ce)},delegate:void 0};var ge=X(8737);class Se extends J{constructor(Be,Fe){super(Be,Fe),this.scheduler=Be,this.work=Fe,this.pending=!1}schedule(Be,Fe=0){var Le;if(this.closed)return this;this.state=Be;const oe=this.id,ie=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(ie,oe,Fe)),this.pending=!0,this.delay=Fe,this.id=null!==(Le=this.id)&&void 0!==Le?Le:this.requestAsyncId(ie,this.id,Fe),this}requestAsyncId(Be,Fe,Le=0){return W.setInterval(Be.flush.bind(Be,this),Le)}recycleAsyncId(Be,Fe,Le=0){if(null!=Le&&this.delay===Le&&!1===this.pending)return Fe;null!=Fe&&W.clearInterval(Fe)}execute(Be,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Le=this._execute(Be,Fe);if(Le)return Le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Be,Fe){let oe,Le=!1;try{this.work(Be)}catch(ie){Le=!0,oe=ie||new Error("Scheduled action threw falsy error")}if(Le)return this.unsubscribe(),oe}unsubscribe(){if(!this.closed){const{id:Be,scheduler:Fe}=this,{actions:Le}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(Le,this),null!=Be&&(this.id=this.recycleAsyncId(Fe,Be,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ut,Je,X)=>{"use strict";X.d(Je,{v:()=>W});var d=X(6063);class J{constructor(Se,Ce=J.now){this.schedulerActionCtor=Se,this.now=Ce}schedule(Se,Ce=0,Be){return new this.schedulerActionCtor(this,Se).schedule(Be,Ce)}}J.now=d.l.now;class W extends J{constructor(Se,Ce=J.now){super(Se,Ce),this.actions=[],this._active=!1}flush(Se){const{actions:Ce}=this;if(this._active)return void Ce.push(Se);let Be;this._active=!0;do{if(Be=Se.execute(Se.state,Se.delay))break}while(Se=Ce.shift());if(this._active=!1,Be){for(;Se=Ce.shift();)Se.unsubscribe();throw Be}}}},4986:(Ut,Je,X)=>{"use strict";X.d(Je,{z:()=>W});var d=X(4408);const W=new(X(7565).v)(d.o)},6063:(Ut,Je,X)=>{"use strict";X.d(Je,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(Ut,Je,X)=>{"use strict";X.d(Je,{z:()=>d});const d={setTimeout(J,W,...ge){const{delegate:Se}=d;return Se?.setTimeout?Se.setTimeout(J,W,...ge):setTimeout(J,W,...ge)},clearTimeout(J){const{delegate:W}=d;return(W?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(Ut,Je,X)=>{"use strict";X.d(Je,{h:()=>J});const J=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ut,Je,X)=>{"use strict";X.d(Je,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ut,Je,X)=>{"use strict";X.d(Je,{_6:()=>Ce,jO:()=>ge,yG:()=>Se});var d=X(576);function W(Be){return Be[Be.length-1]}function ge(Be){return(0,d.m)(W(Be))?Be.pop():void 0}function Se(Be){return function J(Be){return Be&&(0,d.m)(Be.schedule)}(W(Be))?Be.pop():void 0}function Ce(Be,Fe){return"number"==typeof W(Be)?Be.pop():Fe}},8737:(Ut,Je,X)=>{"use strict";function d(J,W){if(J){const ge=J.indexOf(W);0<=ge&&J.splice(ge,1)}}X.d(Je,{P:()=>d})},3888:(Ut,Je,X)=>{"use strict";function d(J){const ge=J(Se=>{Error.call(Se),Se.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}X.d(Je,{d:()=>d})},2806:(Ut,Je,X)=>{"use strict";X.d(Je,{O:()=>ge,x:()=>W});var d=X(2416);let J=null;function W(Se){if(d.v.useDeprecatedSynchronousErrorHandling){const Ce=!J;if(Ce&&(J={errorThrown:!1,error:null}),Se(),Ce){const{errorThrown:Be,error:Fe}=J;if(J=null,Be)throw Fe}}else Se()}function ge(Se){d.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=Se)}},9672:(Ut,Je,X)=>{"use strict";function d(J,W,ge,Se=0,Ce=!1){const Be=W.schedule(function(){ge(),Ce?J.add(this.schedule(null,Se)):this.unsubscribe()},Se);if(J.add(Be),!Ce)return Be}X.d(Je,{f:()=>d})},4671:(Ut,Je,X)=>{"use strict";function d(J){return J}X.d(Je,{y:()=>d})},1144:(Ut,Je,X)=>{"use strict";X.d(Je,{z:()=>d});const d=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Ut,Je,X)=>{"use strict";X.d(Je,{D:()=>J});var d=X(576);function J(W){return Symbol.asyncIterator&&(0,d.m)(W?.[Symbol.asyncIterator])}},576:(Ut,Je,X)=>{"use strict";function d(J){return"function"==typeof J}X.d(Je,{m:()=>d})},3670:(Ut,Je,X)=>{"use strict";X.d(Je,{c:()=>W});var d=X(8822),J=X(576);function W(ge){return(0,J.m)(ge[d.L])}},6495:(Ut,Je,X)=>{"use strict";X.d(Je,{T:()=>W});var d=X(2202),J=X(576);function W(ge){return(0,J.m)(ge?.[d.h])}},8239:(Ut,Je,X)=>{"use strict";X.d(Je,{t:()=>J});var d=X(576);function J(W){return(0,d.m)(W?.then)}},3260:(Ut,Je,X)=>{"use strict";X.d(Je,{L:()=>ge,Q:()=>W});var d=X(655),J=X(576);function W(Se){return(0,d.FC)(this,arguments,function*(){const Be=Se.getReader();try{for(;;){const{value:Fe,done:Le}=yield(0,d.qq)(Be.read());if(Le)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Fe)}}finally{Be.releaseLock()}})}function ge(Se){return(0,J.m)(Se?.getReader)}},4482:(Ut,Je,X)=>{"use strict";X.d(Je,{A:()=>J,e:()=>W});var d=X(576);function J(ge){return(0,d.m)(ge?.lift)}function W(ge){return Se=>{if(J(Se))return Se.lift(function(Ce){try{return ge(Ce,this)}catch(Be){this.error(Be)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Ut,Je,X)=>{"use strict";X.d(Je,{U:()=>W,z:()=>J});var d=X(4671);function J(...ge){return W(ge)}function W(ge){return 0===ge.length?d.y:1===ge.length?ge[0]:function(Ce){return ge.reduce((Be,Fe)=>Fe(Be),Ce)}}},7849:(Ut,Je,X)=>{"use strict";X.d(Je,{h:()=>W});var d=X(2416),J=X(3410);function W(ge){J.z.setTimeout(()=>{const{onUnhandledError:Se}=d.v;if(!Se)throw ge;Se(ge)})}},4532:(Ut,Je,X)=>{"use strict";function d(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}X.d(Je,{z:()=>d})},4946:()=>{!function(){var Ut,Je,ie,ce,$e,et,Qe,nt,Ne,rt,X=Math.abs,d=Math.sin,J=Math.cos,W=Math.max,ge=Math.min,Se=Math.ceil,Ce=Math.sqrt,Be=Math.pow,Fe={},Le={},oe={0:"0,",1:"17,",2:"34,",3:"51,",4:"68,",5:"85,",6:"102,",7:"119,",8:"136,",9:"153,",a:"170,",A:"170,",b:"187,",B:"187,",c:"204,",C:"204,",d:"221,",D:"221,",e:"238,",E:"238,",f:"255,",F:"255,"},Ee=document,it={};for(Ut=0;Ut<256;++Ut)Je=Ut.toString(16),Ut<16&&(Je="0"+Je),Le[Je]=Le[Je.toUpperCase()]=Ut.toString()+",";function He(M){return typeof M<"u"}function ze(M){return"object"==typeof M&&null!=M}function A(M,L,U){return isNaN(M)?U:ge(U,W(L,M))}function dt(){return!1}function tt(){return(new Date).valueOf()}function Mt(M){for(var U,D,L=M.length-1;L;)D=~~(Math.random()*L),U=M[L],M[L]=M[D],M[D]=U,--L}function Wt(M,L,U){this.x=M,this.y=L,this.z=U}function fn(M){this[1]={1:M[0],2:M[1],3:M[2]},this[2]={1:M[3],2:M[4],3:M[5]},this[3]={1:M[6],2:M[7],3:M[8]}}function Bt(M,L,U,D,P){var N,k,F,K,Re,ne=[],me=2/M;for(Re=Math.PI*(3-Ce(5)+(parseFloat(P)?parseFloat(P):0)),N=0;N<M;++N)F=Ce(1-(k=N*me-1+me/2)*k),ne.push([J(K=N*Re)*F*L,k*U,d(K)*F*D]);return ne}function Ue(M,L,U,D,P,N){var k,ne,me,Re,ot,Xe,F=[],K=2/M;for(ne=Math.PI*(3-Ce(5)+(parseFloat(N)?parseFloat(N):0)),me=0;me<M;++me)Re=me*K-1+K/2,ot=J(k=me*ne),Xe=d(k),F.push(L?[Re*U,ot*D,Xe*P]:[ot*U,Re*D,Xe*P]);return F}function Ve(M,L,U,D,P,N){var k,ne,me,Re,F=[],K=2*Math.PI/L;for(ne=0;ne<L;++ne)me=J(k=ne*K),Re=d(k),F.push(M?[N*U,me*D,Re*P]:[me*U,N*D,Re*P]);return F}function Ke(M,L,U,D,P){return Ue(M,0,L,U,D,P)}function st(M,L,U,D,P){return Ue(M,1,L,U,D,P)}function wt(M,L,U,D,P){return Ve(0,M,L,U,D,P=isNaN(P)?0:1*P)}function mt(M,L,U,D,P){return Ve(1,M,L,U,D,P=isNaN(P)?0:1*P)}function Ht(M,L){if(window.G_vmlCanvasManager)return null;var U=Ee.createElement("canvas");return U.width=M,U.height=L,U}function bn(M,L,U,D){var N,P=M.createLinearGradient(0,0,L,0);for(N in D)P.addColorStop(1-N,D[N]);M.fillStyle=P,M.fillRect(0,U,L,1)}function Xt(M,L,U){var k,F,K,ne,D=1024,P=1,N=M.weightGradient;if(M.gCanvas)F=M.gCanvas.getContext("2d"),P=M.gCanvas.height;else{if(ze(N[0])?P=N.length:N=[N],M.gCanvas=k=Ht(D,P),!k)return null;for(F=k.getContext("2d"),K=0;K<P;++K)bn(F,D,K,N[K])}return U=W(ge(U||0,P-1),0),"rgba("+(ne=F.getImageData(~~((D-1)*L),U,1,1).data)[0]+","+ne[1]+","+ne[2]+","+ne[3]/255+")"}function An(M,L,U,D,P,N,k,F,K,ne,me,Re){var It,Tn,ot=P+(F||0)+(K.length&&K[0]<0?X(K[0]):0),Xe=N+(F||0)+(K.length&&K[1]<0?X(K[1]):0);for(M.font=L,M.textBaseline="top",M.fillStyle=U,k&&(M.shadowColor=k),F&&(M.shadowBlur=F),K.length&&(M.shadowOffsetX=K[0],M.shadowOffsetY=K[1]),It=0;It<D.length;++It)Tn=0,me&&("right"==Re?Tn=ne-me[It]:"centre"==Re&&(Tn=(ne-me[It])/2)),M.fillText(D[It],ot+Tn,Xe),Xe+=parseInt(L)}function Jn(M,L,U,D,P,N,k){N?(M.beginPath(),M.moveTo(L,U+P-N),M.arcTo(L,U,L+N,U,N),M.arcTo(L+D,U,L+D,U+N,N),M.arcTo(L+D,U+P,L+D-N,U+P,N),M.arcTo(L,U+P,L,U+P-N,N),M.closePath(),M[k?"stroke":"fill"]()):M[k?"strokeRect":"fillRect"](L,U,D,P)}function Kn(M,L,U,D,P,N,k,F,K){this.strings=M,this.font=L,this.width=U,this.height=D,this.maxWidth=P,this.stringWidths=N,this.align=k,this.valign=F,this.scale=K}function $r(M,L,U){var D=Ht(L,U);return D?(D.getContext("2d").drawImage(M,(L-M.width)/2,(U-M.height)/2),D):null}function Mr(M,L,U){var D=Ht(L,U);return D?(D.getContext("2d").drawImage(M,0,0,L,U),D):null}function pi(M,L,U,D,P,N,k,F,K,ne){var Xe,It,Tn,Jt,Qn,Lr,Ae,_e,me=L+(2*F+N)*D,Re=U+(2*F+N)*D,ot=Ht(me,Re);return ot?(K*=D,Jt=me-(N*=D),Qn=Re-N,F=F*D+(It=Tn=N/2),Xe=ot.getContext("2d"),_e=ge(K,Jt/2,Qn/2),P&&(Xe.fillStyle=P,Jn(Xe,It,Tn,Jt,Qn,_e)),N&&(Xe.strokeStyle=k,Xe.lineWidth=N,Jn(Xe,It,Tn,Jt,Qn,_e,!0)),ne?((Ae=(Lr=Ht(me,Re)).getContext("2d")).drawImage(M,F,F,L,U),Ae.globalCompositeOperation="source-in",Ae.fillStyle=k,Ae.fillRect(0,0,me,Re),Ae.globalCompositeOperation="destination-over",Ae.drawImage(ot,0,0),Ae.globalCompositeOperation="source-over",Xe.drawImage(Lr,0,0)):Xe.drawImage(M,F,F,M.width,M.height),{image:ot,width:me/D,height:Re/D}):null}function oi(M,L,U){var k,F,K,ne,me,Re,Xe,D=parseInt(M.toString().length*U),P=parseInt(2*U*M.length),N=Ht(D,P);if(!N)return null;for((k=N.getContext("2d")).fillStyle="#000",k.fillRect(0,0,D,P),An(k,U+"px "+L,"#fff",M,0,0,0,0,[],"centre"),Xe={min:{x:K=(F=k.getImageData(0,0,D,P)).width,y:ne=F.height},max:{x:-1,y:-1}},Re=0;Re<ne;++Re)for(me=0;me<K;++me)F.data[4*(Re*K+me)+1]>0&&(me<Xe.min.x&&(Xe.min.x=me),me>Xe.max.x&&(Xe.max.x=me),Re<Xe.min.y&&(Xe.min.y=Re),Re>Xe.max.y&&(Xe.max.y=Re));return K!=D&&(Xe.min.x*=D/K,Xe.max.x*=D/K),ne!=P&&(Xe.min.y*=D/ne,Xe.max.y*=D/ne),N=null,Xe}function Zt(M){return"'"+M.replace(/(\'|\")/g,"").replace(/\s*,\s*/g,"', '")+"'"}function Vn(M,L,U){(U=U||Ee).addEventListener?U.addEventListener(M,L,!1):U.attachEvent("on"+M,L)}function zt(M,L,U){(U=U||Ee).removeEventListener?U.removeEventListener(M,L):U.detachEvent("on"+M,L)}function mr(M,L,U,D){var N,k,F,K,ne,me,P=D.imageScale;return L.complete?M.complete?(L.width=L.width,L.height=L.height,P&&(M.width=L.width*P,M.height=L.height*P),U.iw=M.width,U.ih=M.height,D.txtOpt&&(k=M,me=U.ih*(N=D.zoomMax*D.txtScale),(ne=U.iw*N)<L.naturalWidth||me<L.naturalHeight?(k=Mr(M,ne,me))&&(U.fimage=k):(ne=U.iw,me=U.ih,N=1),parseFloat(D.imageRadius)&&(U.image=U.fimage=M=function Sr(M,L,U,D,P){var N,k,F=parseFloat(L),K=W(U,D);return(N=Ht(U,D))?(L.indexOf("%")>0?F=K*F/100:F*=P,(k=N.getContext("2d")).globalCompositeOperation="source-over",k.fillStyle="#fff",F>=K/2?(F=ge(U,D)/2,k.beginPath(),k.moveTo(U/2,D/2),k.arc(U/2,D/2,F,0,2*Math.PI,!1),k.fill(),k.closePath()):(Jn(k,0,0,U,D,F=ge(U/2,D/2,F),!0),k.fill()),k.globalCompositeOperation="source-in",k.drawImage(M,0,0,U,D),N):null}(U.image,D.imageRadius,ne,me,N)),U.HasText()||(D.shadow&&(k=function Wr(M,L,U,D,P,N,k){var Xe,It,F=X(k[0]),K=X(k[1]),ne=L+(F>N?F+N:2*N)*D,me=U+(K>N?K+N:2*N)*D,Re=D*((N||0)+(k[0]<0?F:0)),ot=D*((N||0)+(k[1]<0?K:0));return(Xe=Ht(ne,me))?(It=Xe.getContext("2d"),P&&(It.shadowColor=P),N&&(It.shadowBlur=N*D),k&&(It.shadowOffsetX=k[0]*D,It.shadowOffsetY=k[1]*D),It.drawImage(M,Re,ot,L,U),{image:Xe,width:ne/D,height:me/D}):null}(U.image,ne,me,N,D.shadow,D.shadowBlur,D.shadowOffset),k&&(U.fimage=k.image,U.w=k.width,U.h=k.height)),(D.bgColour||D.bgOutlineThickness)&&(F="tag"==D.bgColour?wr(U.a,"background-color"):D.bgColour,K="tag"==D.bgOutline?wr(U.a,"color"):D.bgOutline||D.textColour,ne=U.fimage.width,me=U.fimage.height,"colour"==D.outlineMethod&&(k=pi(U.fimage,ne,me,N,F,D.bgOutlineThickness,U.outline.colour,D.padding,D.bgRadius,1))&&(U.oimage=k.image),(k=pi(U.fimage,ne,me,N,F,D.bgOutlineThickness,K,D.padding,D.bgRadius))&&(U.fimage=k.image,U.w=k.width,U.h=k.height)),"size"==D.outlineMethod&&(D.outlineIncrease>0?(U.iw+=2*D.outlineIncrease,U.ih+=2*D.outlineIncrease,k=Mr(U.fimage,ne=N*U.iw,me=N*U.ih),U.oimage=k,U.fimage=$r(U.fimage,U.oimage.width,U.oimage.height)):(k=Mr(U.fimage,ne=N*(U.iw+2*D.outlineIncrease),me=N*(U.ih+2*D.outlineIncrease)),U.oimage=$r(k,U.fimage.width,U.fimage.height))))),void U.Init()):Vn("load",function(){mr(M,L,U,D)},M):Vn("load",function(){mr(M,L,U,D)},L)}function wr(M,L){var U=Ee.defaultView,D=L.replace(/\-([a-z])/g,function(P){return P.charAt(1).toUpperCase()});return U&&U.getComputedStyle&&U.getComputedStyle(M,null).getPropertyValue(L)||M.currentStyle&&M.currentStyle[D]}function Rr(M,L,U){var P,D=1;return L?D=1*(M.getAttribute(L)||U):(P=wr(M,"font-size"))&&(D=P.indexOf("px")>-1&&1*P.replace("px","")||P.indexOf("pt")>-1&&1.25*P.replace("pt","")||3.3*P),D}function Ar(M){return M.target&&He(M.target.id)?M.target.id:M.srcElement.parentNode.id}function Or(M,L){var U,D,P=parseInt(wr(L,"width"))/L.width,N=parseInt(wr(L,"height"))/L.height;return He(M.offsetX)?U={x:M.offsetX,y:M.offsetY}:(D=Ri(L.id),He(M.changedTouches)&&(M=M.changedTouches[0]),M.pageX&&(U={x:M.pageX-D.x,y:M.pageY-D.y})),U&&P&&N&&(U.x/=P,U.y/=N),U}function kn(M){var U=yt.tc[(M.target||M.fromElement.parentNode).id];U&&(U.mx=U.my=-1,U.UnFreeze(),U.EndDrag())}function yn(M){var L,D,P,U=yt,N=Ar(M);for(L in U.tc)(D=U.tc[L]).tttimer&&(clearTimeout(D.tttimer),D.tttimer=null);N&&U.tc[N]&&((P=Or(M,(D=U.tc[N]).canvas))&&(D.mx=P.x,D.my=P.y,D.Drag(M,P)),D.drawn=0)}function Vt(M){var L=yt,U=Ee.addEventListener?0:1,D=Ar(M);D&&M.button==U&&L.tc[D]&&L.tc[D].BeginDrag(M)}function wn(M){var P,L=yt,U=Ee.addEventListener?0:1,D=Ar(M);D&&M.button==U&&L.tc[D]&&(P=L.tc[D],yn(M),!P.EndDrag()&&!P.touchState&&P.Clicked(M))}function Er(M){var D,L=Ar(M),U=L&&yt.tc[L];U&&M.changedTouches&&(1==M.touches.length&&0==U.touchState?(U.touchState=1,U.BeginDrag(M),(D=Or(M,U.canvas))&&(U.mx=D.x,U.my=D.y,U.drawn=0)):2==M.targetTouches.length&&U.pinchZoom?(U.touchState=3,U.EndDrag(),U.BeginPinch(M)):(U.EndDrag(),U.EndPinch(),U.touchState=0))}function Hr(M){var L=Ar(M),U=L&&yt.tc[L];if(U&&M.changedTouches){switch(U.touchState){case 1:U.Draw(),U.Clicked();break;case 2:U.EndDrag();break;case 3:U.EndPinch()}U.touchState=0}}function xr(M){var L,D,P,U=yt,N=Ar(M);for(L in U.tc)(D=U.tc[L]).tttimer&&(clearTimeout(D.tttimer),D.tttimer=null);if((D=N&&U.tc[N])&&M.changedTouches&&D.touchState){switch(D.touchState){case 1:case 2:(P=Or(M,D.canvas))&&(D.mx=P.x,D.my=P.y,D.Drag(M,P)&&(D.touchState=2));break;case 3:D.Pinch(M)}D.drawn=0}}function gi(M){var L=yt,U=Ar(M);U&&L.tc[U]&&(M.cancelBubble=!0,M.returnValue=!1,M.preventDefault&&M.preventDefault(),L.tc[U].Wheel((M.wheelDelta||M.detail)>0))}function ur(M){var L,U=yt;for(L in clearTimeout(U.scrollTimer),U.tc)U.tc[L].Pause();U.scrollTimer=setTimeout(function(){var D,P=yt;for(D in P.tc)P.tc[D].Resume()},U.scrollPause)}function Nr(){On(tt())}function On(M){var U,L=yt.tc;for(U in yt.NextFrame(yt.interval),M=M||tt(),L)L[U].Draw(M)}function Ri(M){var U=Ee.getElementById(M).getBoundingClientRect(),D=Ee.documentElement,P=Ee.body,N=window;return{x:U.left+(N.pageXOffset||D.scrollLeft)-(D.clientLeft||P.clientLeft),y:U.top+(N.pageYOffset||D.scrollTop)-(D.clientTop||P.clientTop)}}function ar(M){this.e=M,this.br=0,this.line=[],this.text=[],this.original=M.innerText||M.textContent}function En(M,L){this.ts=null,this.tc=M,this.tag=L,this.x=this.y=this.w=this.h=this.sc=1,this.z=0,this.pulse=1,this.pulsate=M.pulsateTo<1,this.colour=M.outlineColour,this.adash=~~M.outlineDash,this.agap=~~M.outlineDashSpace||this.adash,this.aspeed=1*M.outlineDashSpeed,"tag"==this.colour?this.colour=wr(L.a,"color"):"tagbg"==this.colour&&(this.colour=wr(L.a,"background-color")),this.Draw=this.pulsate?this.DrawPulsate:this.DrawSimple,this.radius=0|M.outlineRadius,this.SetMethod(M.outlineMethod)}function Ir(M,L,U,D,P,N,k,F,K,ne,me,Re,ot,Xe){this.tc=M,this.image=null,this.text=L,this.text_original=Xe,this.line_widths=[],this.title=U.title||null,this.a=U,this.position=new Wt(D[0],D[1],D[2]),this.x=this.y=this.z=0,this.w=P,this.h=N,this.colour=k||M.textColour,this.bgColour=F||M.bgColour,this.bgRadius=0|K,this.bgOutline=ne||this.colour,this.bgOutlineThickness=0|me,this.textFont=Re||M.textFont,this.padding=0|ot,this.sc=this.alpha=1,this.weighted=!M.weight,this.outline=new En(M,this)}function yt(M,L,U){var D,P,F,K,N=Ee.getElementById(M),k=["id","class","innerHTML"];if(!N)throw 0;if(He(window.G_vmlCanvasManager)&&(N=window.G_vmlCanvasManager.initElement(N),this.ie=parseFloat(navigator.appVersion.split("MSIE")[1])),N&&(!N.getContext||!N.getContext("2d").fillText)){for(P=Ee.createElement("DIV"),D=0;D<k.length;++D)P[k[D]]=N[k[D]];throw N.parentNode.insertBefore(P,N),N.parentNode.removeChild(N),0}for(D in yt.options)this[D]=U&&He(U[D])?U[D]:He(yt[D])?yt[D]:yt.options[D];if(this.canvas=N,this.ctxt=N.getContext("2d"),this.z1=250/W(this.depth,.001),this.z2=this.z1/this.zoom,this.radius=.0075*ge(N.height,N.width),this.max_radius=100,this.max_weight=[],this.min_weight=[],this.textFont=this.textFont&&Zt(this.textFont),this.textHeight*=1,this.imageRadius=this.imageRadius.toString(),this.pulsateTo=A(this.pulsateTo,0,1),this.minBrightness=A(this.minBrightness,0,1),this.maxBrightness=A(this.maxBrightness,this.minBrightness,1),this.ctxt.textBaseline="top",this.lx=(this.lock+"").indexOf("x")+1,this.ly=(this.lock+"").indexOf("y")+1,this.frozen=this.dx=this.dy=this.fixedAnim=this.touchState=0,this.fixedAlpha=1,this.source=L||M,this.repeatTags=ge(64,~~this.repeatTags),this.minTags=ge(200,~~this.minTags),~~this.scrollPause>0?yt.scrollPause=~~this.scrollPause:this.scrollPause=0,this.minTags>0&&this.repeatTags<1&&(D=this.GetTags().length)&&(this.repeatTags=Se(this.minTags/D)-1),this.transform=fn.Identity(),this.startTime=this.time=tt(),this.mx=this.my=-1,this.centreImage&&function Nt(M){var L=new Image;L.onload=function(){var U=L.width/2,D=L.height/2;M.centreFunc=function(P,N,k,F,K){P.setTransform(1,0,0,1,0,0),P.globalAlpha=1,P.drawImage(L,F-U,K-D)}},L.src=M.centreImage}(this),this.Animate=this.dragControl?this.AnimateDrag:this.AnimatePosition,this.animTiming="function"==typeof yt[this.animTiming]?yt[this.animTiming]:yt.Smooth,this.shadowBlur||this.shadowOffset[0]||this.shadowOffset[1]?(this.ctxt.shadowColor=this.shadow,this.shadow=this.ctxt.shadowColor,this.shadowAlpha=function Qt(){var L,M=Ht(3,3);return!!M&&((L=M.getContext("2d")).strokeStyle="#000",L.shadowColor="#fff",L.shadowBlur=3,L.globalAlpha=0,L.strokeRect(2,2,2,2),L.globalAlpha=1,M=null,L.getImageData(2,2,1,1).data[0]>0)}()):delete this.shadow,this.Load(),L&&this.hideTags&&(K=this,yt.loaded?K.HideTags():Vn("load",function(){K.HideTags()},window)),this.yaw=this.initial?this.initial[0]*this.maxSpeed:0,this.pitch=this.initial?this.initial[1]*this.maxSpeed:0,this.tooltip?(this.ctitle=N.title,N.title="","native"==this.tooltip?this.Tooltip=this.TooltipNative:(this.Tooltip=this.TooltipDiv,this.ttdiv||(this.ttdiv=Ee.createElement("div"),this.ttdiv.className=this.tooltipClass,this.ttdiv.style.position="absolute",this.ttdiv.style.zIndex=N.style.zIndex+1,Vn("mouseover",function(K){K.target.style.display="none"},this.ttdiv),Ee.body.appendChild(this.ttdiv)))):this.Tooltip=this.TooltipNone,!this.noMouse&&!it[M])for(it[M]=[["mousemove",yn],["mouseout",kn],["mouseup",wn],["touchstart",Er],["touchend",Hr],["touchcancel",Hr],["touchmove",xr]],this.dragControl&&(it[M].push(["mousedown",Vt]),it[M].push(["selectstart",dt])),this.wheelZoom&&(it[M].push(["mousewheel",gi]),it[M].push(["DOMMouseScroll",gi])),this.scrollPause&&it[M].push(["scroll",ur,window]),D=0;D<it[M].length;++D)Vn((P=it[M][D])[0],P[1],P[2]?P[2]:N);yt.started||(F=window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,yt.NextFrame=F?yt.NextFrameRAF:yt.NextFrameTimeout,yt.interval=this.interval,yt.NextFrame(this.interval),yt.started=1)}function zr(M){var L=M.targetTouches[0],U=M.targetTouches[1];return Ce(Be(U.pageX-L.pageX,2)+Be(U.pageY-L.pageY,2))}function ir(M,L){yt.tc[L]&&yt.tc[L][M]()}for(Ut in(Qe=Wt.prototype).length=function(){return Ce(this.x*this.x+this.y*this.y+this.z*this.z)},Qe.dot=function(M){return this.x*M.x+this.y*M.y+this.z*M.z},Qe.cross=function(M){return new Wt(this.y*M.z-this.z*M.y,this.z*M.x-this.x*M.z,this.x*M.y-this.y*M.x)},Qe.angle=function(M){var U,L=this.dot(M);return 0==L?Math.PI/2:(U=L/(this.length()*M.length()))>=1?0:U<=-1?Math.PI:Math.acos(U)},Qe.unit=function(){var M=this.length();return new Wt(this.x/M,this.y/M,this.z/M)},et=fn.prototype,fn.Identity=function(){return new fn([1,0,0,0,1,0,0,0,1])},fn.Rotation=function(M,L){var U=d(M),D=J(M),P=1-D;return new fn([D+Be(L.x,2)*P,L.x*L.y*P-L.z*U,L.x*L.z*P+L.y*U,L.y*L.x*P+L.z*U,D+Be(L.y,2)*P,L.y*L.z*P-L.x*U,L.z*L.x*P-L.y*U,L.z*L.y*P+L.x*U,D+Be(L.z,2)*P])},et.mul=function(M){var U,D,L=[],P=M.xform?1:0;for(U=1;U<=3;++U)for(D=1;D<=3;++D)L.push(P?this[U][1]*M[1][D]+this[U][2]*M[2][D]+this[U][3]*M[3][D]:this[U][D]*M);return new fn(L)},et.xform=function(M){var L={},U=M.x,D=M.y,P=M.z;return L.x=U*this[1][1]+D*this[2][1]+P*this[3][1],L.y=U*this[1][2]+D*this[2][2]+P*this[3][2],L.z=U*this[1][3]+D*this[2][3]+P*this[3][3],L},(Ne=Kn.prototype).SetImage=function(M,L,U,D,P,N,k,F){this.image=M,this.iwidth=L*this.scale,this.iheight=U*this.scale,this.ipos=D,this.ipad=P*this.scale,this.iscale=F,this.ialign=N,this.ivalign=k},Ne.Align=function(M,L,U){var D=0;return"right"==U||"bottom"==U?D=L-M:"left"!=U&&"top"!=U&&(D=(L-M)/2),D},Ne.Create=function(M,L,U,D,P,N,k,F,K){var ne,me,Re,ot,Xe,It,Tn,Jt,Qn,Lr,Ae,_e,at,Pt,on,qn,Bn,Nn=X(k[0]),Gt=X(k[1]);return F=W(F,Nn+N,Gt+N),me=this.width+(Xe=2*(F+D)),Re=this.height+(Tn=2*(F+D)),Qn=Lr=F+D,this.image&&(Ae=_e=F+D,at=this.iwidth,Pt=this.iheight,"top"==this.ipos||"bottom"==this.ipos?(at<this.width?Ae+=this.Align(at,this.width,this.ialign):Qn+=this.Align(this.width,at,this.align),"top"==this.ipos?Lr+=Pt+this.ipad:_e+=this.height+this.ipad,me=W(me,at+Xe),Re+=Pt+this.ipad):(Pt<this.height?_e+=this.Align(Pt,this.height,this.ivalign):Lr+=this.Align(this.height,Pt,this.valign),"right"==this.ipos?Ae+=this.width+this.ipad:Qn+=at+this.ipad,me+=at+this.ipad,Re=W(Re,Pt+Tn))),(ne=Ht(me,Re))?(Xe=Tn=D/2,on=ge(K,(It=me-D)/2,(Jt=Re-D)/2),ot=ne.getContext("2d"),L&&(ot.fillStyle=L,Jn(ot,Xe,Tn,It,Jt,on)),D&&(ot.strokeStyle=U,ot.lineWidth=D,Jn(ot,Xe,Tn,It,Jt,on,!0)),(N||Nn||Gt)&&(qn=Ht(me,Re))&&(Bn=ot,ot=qn.getContext("2d")),An(ot,this.font,M,this.strings,Qn,Lr,0,0,[],this.maxWidth,this.stringWidths,this.align),this.image&&ot.drawImage(this.image,Ae,_e,at,Pt),Bn&&(ot=Bn,P&&(ot.shadowColor=P),N&&(ot.shadowBlur=N),ot.shadowOffsetX=k[0],ot.shadowOffsetY=k[1],ot.drawImage(qn,0,0)),ne):null},(nt=ar.prototype).Empty=function(){for(var M=0;M<this.text.length;++M)if(this.text[M].length)return!1;return!0},nt.Lines=function(M){var U,D,P,L=M?1:0;for(D=(U=(M=M||this.e).childNodes).length,P=0;P<D;++P)"BR"==U[P].nodeName?(this.text.push(this.line.join(" ")),this.br=1):3==U[P].nodeType?this.br?(this.line=[U[P].nodeValue],this.br=0):this.line.push(U[P].nodeValue):this.Lines(U[P]);return L||this.br||this.text.push(this.line.join(" ")),this.text},nt.SplitWidth=function(M,L,U,D){var P,N,k,F=[];for(L.font=D+"px "+U,P=0;P<this.text.length;++P){for(k=this.text[P].split(/\s+/),this.line=[k[0]],N=1;N<k.length;++N)L.measureText(this.line.join(" ")+" "+k[N]).width>M?(F.push(this.line.join(" ")),this.line=[k[N]]):this.line.push(k[N]);F.push(this.line.join(" "))}return this.text=F},(ie=En.prototype).SetMethod=function(M){var L={block:["PreDraw","DrawBlock"],colour:["PreDraw","DrawColour"],outline:["PostDraw","DrawOutline"],classic:["LastDraw","DrawOutline"],size:["PreDraw","DrawSize"],none:["LastDraw"]},U=L[M]||L.outline;"none"==M?this.Draw=function(){return 1}:this.drawFunc=this[U[1]],this[U[0]]=this.Draw},ie.Update=function(M,L,U,D,P,N,k,F){var K=this.tc.outlineOffset,ne=2*K;this.x=P*M+k-K,this.y=P*L+F-K,this.w=P*U+ne,this.h=P*D+ne,this.sc=P,this.z=N},ie.Ants=function(M){if(this.adash){var me,L=this.adash,U=this.agap,D=this.aspeed,P=L+U,N=0,k=L,F=U,K=0,ne=0;D&&(ne=X(D)*(tt()-this.ts)/50,D<0&&(ne=864e4-ne),D=~~ne%P),D?(L>=D?(N=L-D,k=D):K=U-(F=P-D),me=[N,F,k,K]):me=[L,U],M.setLineDash(me)}},ie.DrawOutline=function(M,L,U,D,P,N){var k=ge(this.radius,P/2,D/2);M.strokeStyle=N,this.Ants(M),Jn(M,L,U,D,P,k,!0)},ie.DrawSize=function(M,L,U,D,P,N,k,F,K){var Re,ot,ne=k.w,me=k.h;return this.pulsate?(ot=k.fimage||k.image,k.h*=Re=1+((k.image?(k.image.height+this.tc.outlineIncrease)/k.image.height:k.oscale)-1)*(1-this.pulse),k.w*=Re):ot=k.oimage,k.alpha=1,k.Draw(M,F,K,ot),k.h=me,k.w=ne,1},ie.DrawColour=function(M,L,U,D,P,N,k,F,K){return k.oimage?(this.pulse<1?(k.alpha=1-Be(this.pulse,2),k.Draw(M,F,K,k.fimage),k.alpha=this.pulse):k.alpha=1,k.Draw(M,F,K,k.oimage),1):this[k.image?"DrawColourImage":"DrawColourText"](M,L,U,D,P,N,k,F,K)},ie.DrawColourText=function(M,L,U,D,P,N,k,F,K){var ne=k.colour;return k.colour=N,k.alpha=1,k.Draw(M,F,K),k.colour=ne,1},ie.DrawColourImage=function(M,L,U,D,P,N,k,F,K){var ne=M.canvas,me=~~W(L,0),Re=~~W(U,0),ot=ge(ne.width-me,D)+.5|0,Xe=ge(ne.height-Re,P)+.5|0;return rt?(rt.width=ot,rt.height=Xe):rt=Ht(ot,Xe),rt?(rt.getContext("2d").drawImage(ne,me,Re,ot,Xe,0,0,ot,Xe),M.clearRect(me,Re,ot,Xe),k.alpha=this.pulsate?1-Be(this.pulse,2):1,k.Draw(M,F,K),M.setTransform(1,0,0,1,0,0),M.save(),M.beginPath(),M.rect(me,Re,ot,Xe),M.clip(),M.globalCompositeOperation="source-in",M.fillStyle=N,M.fillRect(me,Re,ot,Xe),M.restore(),M.globalAlpha=1,M.globalCompositeOperation="destination-over",M.drawImage(rt,0,0,ot,Xe,me,Re,ot,Xe),M.globalCompositeOperation="source-over",1):this.SetMethod("outline")},ie.DrawBlock=function(M,L,U,D,P,N){var k=ge(this.radius,P/2,D/2);M.fillStyle=N,Jn(M,L,U,D,P,k)},ie.DrawSimple=function(M,L,U,D,P,N){var k=this.tc;return M.setTransform(1,0,0,1,0,0),M.strokeStyle=this.colour,M.lineWidth=k.outlineThickness,M.shadowBlur=M.shadowOffsetX=M.shadowOffsetY=0,M.globalAlpha=N?P:1,this.drawFunc(M,this.x,this.y,this.w,this.h,this.colour,L,U,D)},ie.DrawPulsate=function(M,L,U,D){var P=tt()-this.ts,N=this.tc,k=N.pulsateTo+(1-N.pulsateTo)*(.5+J(2*Math.PI*P/(1e3*N.pulsateTime))/2);return this.pulse=k=yt.Smooth(1,k),this.DrawSimple(M,L,U,D,k,1)},ie.Active=function(M,L,U){var D=L>=this.x&&U>=this.y&&L<=this.x+this.w&&U<=this.y+this.h;return this.ts=D?this.ts||tt():null,D},ie.PreDraw=ie.PostDraw=ie.LastDraw=dt,(ce=Ir.prototype).Init=function(M){var L=this.tc;this.textHeight=L.textHeight,this.HasText()?this.Measure(L.ctxt,L):(this.w=this.iw,this.h=this.ih),this.SetShadowColour=L.shadowAlpha?this.SetShadowColourAlpha:this.SetShadowColourFixed,this.SetDraw(L)},ce.Draw=dt,ce.HasText=function(){return this.text&&this.text[0].length>0},ce.EqualTo=function(M){var L=M.getElementsByTagName("img");return this.a.href!=M.href?0:L.length?this.image.src==L[0].src:(M.innerText||M.textContent)==this.text_original},ce.SetImage=function(M){this.image=this.fimage=M},ce.SetDraw=function(M){this.Draw=this.fimage?M.ie>7?this.DrawImageIE:this.DrawImage:this.DrawText,M.noSelect&&(this.CheckActive=dt)},ce.MeasureText=function(M){var L,P,U=this.text.length,D=0;for(L=0;L<U;++L)this.line_widths[L]=P=M.measureText(this.text[L]).width,D=W(D,P);return D},ce.Measure=function(M,L){var D,P,N,k,F,K,ne,me,Re,U=oi(this.text,this.textFont,this.textHeight);ne=U?U.max.y+U.min.y:this.textHeight,M.font=this.font=this.textHeight+"px "+this.textFont,K=this.MeasureText(M),L.txtOpt&&(k=[(D=L.txtScale)*L.shadowOffset[0],D*L.shadowOffset[1]],M.font=N=(P=D*this.textHeight)+"px "+this.textFont,F=this.MeasureText(M),Re=new Kn(this.text,N,F+D,D*ne+D,F,this.line_widths,L.textAlign,L.textVAlign,D),this.image&&Re.SetImage(this.image,this.iw,this.ih,L.imagePosition,L.imagePadding,L.imageAlign,L.imageVAlign,L.imageScale),me=Re.Create(this.colour,this.bgColour,this.bgOutline,D*this.bgOutlineThickness,L.shadow,D*L.shadowBlur,k,D*this.padding,D*this.bgRadius),"colour"==L.outlineMethod?this.oimage=Re.Create(this.outline.colour,this.bgColour,this.outline.colour,D*this.bgOutlineThickness,L.shadow,D*L.shadowBlur,k,D*this.padding,D*this.bgRadius):"size"==L.outlineMethod&&(P=(U=oi(this.text,this.textFont,this.textHeight+L.outlineIncrease)).max.y+U.min.y,M.font=N=D*(this.textHeight+L.outlineIncrease)+"px "+this.textFont,F=this.MeasureText(M),Re=new Kn(this.text,N,F+D,D*P+D,F,this.line_widths,L.textAlign,L.textVAlign,D),this.image&&Re.SetImage(this.image,this.iw+L.outlineIncrease,this.ih+L.outlineIncrease,L.imagePosition,L.imagePadding,L.imageAlign,L.imageVAlign,L.imageScale),this.oimage=Re.Create(this.colour,this.bgColour,this.bgOutline,D*this.bgOutlineThickness,L.shadow,D*L.shadowBlur,k,D*this.padding,D*this.bgRadius),this.oscale=this.oimage.width/me.width,L.outlineIncrease>0?me=$r(me,this.oimage.width,this.oimage.height):this.oimage=$r(this.oimage,me.width,me.height)),me&&(this.fimage=me,K=this.fimage.width/D,ne=this.fimage.height/D),this.SetDraw(L),L.txtOpt=!!this.fimage),this.h=ne,this.w=K},ce.SetFont=function(M,L,U,D){this.textFont=M,this.colour=L,this.bgColour=U,this.bgOutline=D,this.Measure(this.tc.ctxt,this.tc)},ce.SetWeight=function(M){var D,P,L=this.tc,U=L.weightMode.split(/[, ]/),N=M.length;if(this.HasText()){for(this.weighted=!0,P=0;P<N;++P)"both"==(D=U[P]||"size")?(this.Weight(M[P],L.ctxt,L,"size",L.min_weight[P],L.max_weight[P],P),this.Weight(M[P],L.ctxt,L,"colour",L.min_weight[P],L.max_weight[P],P)):this.Weight(M[P],L.ctxt,L,D,L.min_weight[P],L.max_weight[P],P);this.Measure(L.ctxt,L)}},ce.Weight=function(M,L,U,D,P,N,k){var F=((M=isNaN(M)?1:M)-P)/(N-P);"colour"==D?this.colour=Xt(U,F,k):"bgcolour"==D?this.bgColour=Xt(U,F,k):"bgoutline"==D?this.bgOutline=Xt(U,F,k):"outline"==D?this.outline.colour=Xt(U,F,k):"size"==D&&(this.textHeight=U.weightSizeMin>0&&U.weightSizeMax>U.weightSizeMin?U.weightSize*(U.weightSizeMin+(U.weightSizeMax-U.weightSizeMin)*F):W(1,M*U.weightSize))},ce.SetShadowColourFixed=function(M,L,U){M.shadowColor=L},ce.SetShadowColourAlpha=function(M,L,U){M.shadowColor=function vt(M,L){var D,P,U=M,N=(1*L).toPrecision(3)+")";return"#"===M[0]?(Fe[M]||(Fe[M]=4===M.length?"rgba("+oe[M[1]]+oe[M[2]]+oe[M[3]]:"rgba("+Le[M.substr(1,2)]+Le[M.substr(3,2)]+Le[M.substr(5,2)]),U=Fe[M]+N):"rgb("===M.substr(0,4)||"hsl("===M.substr(0,4)?U=M.replace("(","a(").replace(")",","+N):("rgba("===M.substr(0,5)||"hsla("===M.substr(0,5))&&(D=M.lastIndexOf(",")+1,P=M.indexOf(")"),L*=parseFloat(M.substring(D,P)),U=M.substr(0,D)+L.toPrecision(3)+")"),U}(L,U)},ce.DrawText=function(M,L,U){var F,K,D=this.tc,P=this.x,N=this.y,k=this.sc;for(M.globalAlpha=this.alpha,M.fillStyle=this.colour,D.shadow&&this.SetShadowColour(M,D.shadow,this.alpha),M.font=this.font,P+=L/k,N+=U/k-this.h/2,F=0;F<this.text.length;++F)K=P,"right"==D.textAlign?K+=this.w/2-this.line_widths[F]:K-="centre"==D.textAlign?this.line_widths[F]/2:this.w/2,M.setTransform(k,0,0,k,k*K,k*N),M.fillText(this.text[F],0,0),N+=this.textHeight},ce.DrawImage=function(M,L,U,D){var P=this.x,N=this.y,k=this.sc,F=D||this.fimage,K=this.w,ne=this.h,me=this.alpha,Re=this.shadow;M.globalAlpha=me,Re&&this.SetShadowColour(M,Re,me),M.setTransform(k,0,0,k,k*(P+=L/k-K/2),k*(N+=U/k-ne/2)),M.drawImage(F,0,0,K,ne)},ce.DrawImageIE=function(M,L,U){var D=this.fimage,P=this.sc,N=D.width=this.w*P,k=D.height=this.h*P,F=this.x*P+L-N/2,K=this.y*P+U-k/2;M.setTransform(1,0,0,1,0,0),M.globalAlpha=this.alpha,M.drawImage(D,F,K)},ce.Calc=function(M,L){var U,D=this.tc,P=D.minBrightness,N=D.maxBrightness,k=D.max_radius;return U=M.xform(this.position),this.xformed=U,U=function pn(M,L,U,D){var P=M.radius*M.z1/(M.z1+M.z2+L.z);return{x:L.x*P*U,y:L.y*P*D,z:L.z,w:(M.z1-L.z)/M.z2}}(D,U,D.stretchX,D.stretchY),this.x=U.x,this.y=U.y,this.z=U.z,this.sc=U.w,this.alpha=L*A(P+(N-P)*(k-this.z)/(2*k),0,1),this.xformed},ce.UpdateActive=function(M,L,U){var D=this.outline,P=this.w,N=this.h;return D.Update(this.x-P/2,this.y-N/2,P,N,this.sc,this.z,L,U),D},ce.CheckActive=function(M,L,U){var D=this.tc,P=this.UpdateActive(M,L,U);return P.Active(M,D.mx,D.my)?P:null},ce.Clicked=function(M){var P,L=this.a,U=L.target,D=L.href;if(""==U||"_self"==U){if(Ee.createEvent){if((P=Ee.createEvent("MouseEvents")).initMouseEvent("click",1,1,window,0,0,0,0,0,0,0,0,0,0,null),!L.dispatchEvent(P))return}else if(L.fireEvent&&!L.fireEvent("onclick"))return;Ee.location=D}else if(self.frames[U])self.frames[U].document.location=D;else{try{if(top.frames[U])return void(top.frames[U].document.location=D)}catch{}window.open(D,U)}},($e=yt.prototype).SourceElements=function(){return Ee.querySelectorAll?Ee.querySelectorAll("#"+this.source):[Ee.getElementById(this.source)]},$e.HideTags=function(){var L,M=this.SourceElements();for(L=0;L<M.length;++L)M[L].style.display="none"},$e.GetTags=function(){var L,D,P,N,M=this.SourceElements(),U=[];for(N=0;N<=this.repeatTags;++N)for(D=0;D<M.length;++D)for(L=M[D].getElementsByTagName("a"),P=0;P<L.length;++P)U.push(L[P]);return U},$e.Message=function(M){var U,D,N,k,F,K,L=[],P=M.split("");for(U=0;U<P.length;++U)" "!=P[U]&&(D=U-P.length/2,(N=Ee.createElement("A")).href="#",N.innerText=P[U],F=100*d(D/9),K=-100*J(D/9),(k=new Ir(this,P[U],N,[F,0,K],2,18,"#000","#fff",0,0,0,"monospace",2,P[U])).Init(),L.push(k));return L},$e.CreateTag=function(M){var L,U,D,P,N,k,F,K,ne=[0,0,0];return"text"!=this.imageMode&&(L=M.getElementsByTagName("img")).length&&((U=new Image).src=L[0].src,!this.imageMode)?((D=new Ir(this,"",M,ne,0,0)).SetImage(U),mr(U,L[0],D,this),D):("image"!=this.imageMode&&(P=(N=new ar(M)).Lines(),N.Empty()?N=null:(k=this.textFont||Zt(wr(M,"font-family")),this.splitWidth&&(P=N.SplitWidth(this.splitWidth,this.ctxt,k,this.textHeight)),F="tag"==this.bgColour?wr(M,"background-color"):this.bgColour,K="tag"==this.bgOutline?wr(M,"color"):this.bgOutline)),N||U?(D=new Ir(this,P,M,ne,2,this.textHeight+2,this.textColour||wr(M,"color"),F,this.bgRadius,K,this.bgOutlineThickness,k,this.padding,N&&N.original),U?(D.SetImage(U),mr(U,L[0],D,this)):D.Init(),D):void 0)},$e.UpdateTag=function(M,L){var U=this.textColour||wr(L,"color"),D=this.textFont||Zt(wr(L,"font-family")),P="tag"==this.bgColour?wr(L,"background-color"):this.bgColour,N="tag"==this.bgOutline?wr(L,"color"):this.bgOutline;M.a=L,M.title=L.title,(M.colour!=U||M.textFont!=D||M.bgColour!=P||M.bgOutline!=N)&&M.SetFont(D,U,P,N)},$e.Weight=function(M){var U,D,P,k,L=M.length,N=[],F=this.weightFrom?this.weightFrom.split(/[, ]/):[null],K=F.length;for(D=0;D<L;++D)for(N[D]=[],P=0;P<K;++P)U=Rr(M[D].a,F[P],this.textHeight),(!this.max_weight[P]||U>this.max_weight[P])&&(this.max_weight[P]=U),(!this.min_weight[P]||U<this.min_weight[P])&&(this.min_weight[P]=U),N[D][P]=U;for(P=0;P<K;++P)this.max_weight[P]>this.min_weight[P]&&(k=1);if(k)for(D=0;D<L;++D)M[D].SetWeight(N[D])},$e.Load=function(){var U,D,P,N,k,F,K,ne,M=this.GetTags(),L=[],me=[],Re={sphere:Bt,vcylinder:Ke,hcylinder:st,vring:wt,hring:mt};if(M.length){for(me.length=M.length,ne=0;ne<M.length;++ne)me[ne]=ne;for(this.shuffleTags&&Mt(me),this.max_radius=W(N=100*this.radiusX,W(k=100*this.radiusY,F=100*this.radiusZ)),ne=0;ne<M.length;++ne)(D=this.CreateTag(M[me[ne]]))&&L.push(D);for(this.weight&&this.Weight(L,!0),this.shapeArgs?this.shapeArgs[0]=L.length:(U=(P=this.shape.toString().split(/[(),]/)).shift(),this.shape="function"==typeof window[U]?window[U]:Re[U]||Re.sphere,this.shapeArgs=[L.length,N,k,F].concat(P)),K=this.shape.apply(this,this.shapeArgs),this.listLength=L.length,ne=0;ne<L.length;++ne)L[ne].position=new Wt(K[ne][0],K[ne][1],K[ne][2])}this.noTagsMessage&&!L.length&&(L=this.Message("No "+(ne=this.imageMode&&"both"!=this.imageMode?this.imageMode+" ":"")+"tags")),this.taglist=L},$e.Update=function(){var D,k,F,K,ne,me,M=this.GetTags(),L=[],U=this.taglist,P=[],N=[];if(!this.shapeArgs)return this.Load();if(M.length){for(K=this.listLength=M.length,F=U.length,ne=0;ne<F;++ne)L.push(U[ne]),N.push(ne);for(ne=0;ne<K;++ne){for(me=0,D=0;me<F;++me)U[me].EqualTo(M[ne])&&(this.UpdateTag(L[me],M[ne]),D=N[me]=-1);D||P.push(ne)}for(ne=0,me=0;ne<F;++ne)-1==N[me]?N.splice(me,1):++me;if(N.length){for(Mt(N);N.length&&P.length;)ne=N.shift(),me=P.shift(),L[ne]=this.CreateTag(M[me]);for(N.sort(function(Re,ot){return Re-ot});N.length;)L.splice(N.pop(),1)}for(me=L.length/(P.length+1),ne=0;P.length;)L.splice(Se(++ne*me),0,this.CreateTag(M[P.shift()]));for(this.shapeArgs[0]=K=L.length,k=this.shape.apply(this,this.shapeArgs),ne=0;ne<K;++ne)L[ne].position=new Wt(k[ne][0],k[ne][1],k[ne][2]);this.weight&&this.Weight(L)}this.taglist=L},$e.SetShadow=function(M){M.shadowBlur=this.shadowBlur,M.shadowOffsetX=this.shadowOffset[0],M.shadowOffsetY=this.shadowOffset[1]},$e.Draw=function(M){if(!this.paused){var ne,me,Re,Qn,L=this.canvas,U=L.width,D=L.height,P=0,N=(M-this.time)*yt.interval/1e3,k=U/2+this.offsetX,F=D/2+this.offsetY,K=this.ctxt,ot=-1,Xe=this.taglist,It=Xe.length,Tn=this.frontSelect,Jt=this.centreFunc==dt;if(this.time=M,this.frozen&&this.drawn)return this.Animate(U,D,N);for(Qn=this.AnimateFixed(),K.setTransform(1,0,0,1,0,0),Re=0;Re<It;++Re)Xe[Re].Calc(this.transform,this.fixedAlpha);if(Xe=function be(M,L){var P,U=[],D=M.length;for(P=0;P<D;++P)U.push(M[P]);return U.sort(L),U}(Xe,function(Lr,Ae){return Ae.z-Lr.z}),Qn&&this.fixedAnim.active)ne=this.fixedAnim.tag.UpdateActive(K,k,F);else{for(this.active=null,Re=0;Re<It;++Re)(me=this.mx>=0&&this.my>=0&&this.taglist[Re].CheckActive(K,k,F))&&me.sc>P&&(!Tn||me.z<=0)&&(ot=Re,(ne=me).tag=this.taglist[Re],P=me.sc);this.active=ne}for(this.txtOpt||this.shadow&&this.SetShadow(K),K.clearRect(0,0,U,D),Re=0;Re<It;++Re){if(!Jt&&Xe[Re].z<=0){try{this.centreFunc(K,U,D,k,F)}catch(Lr){alert(Lr),this.centreFunc=dt}Jt=!0}ne&&ne.tag==Xe[Re]&&ne.PreDraw(K,Xe[Re],k,F)||Xe[Re].Draw(K,k,F),ne&&ne.tag==Xe[Re]&&ne.PostDraw(K)}this.freezeActive&&ne?this.Freeze():(this.UnFreeze(),this.drawn=It==this.listLength),this.fixedCallback&&(this.fixedCallback(this,this.fixedCallbackTag),this.fixedCallback=null),Qn||this.Animate(U,D,N),ne&&ne.LastDraw(K),L.style.cursor=ne?this.activeCursor:"",this.Tooltip(ne,this.taglist[ot])}},$e.TooltipNone=function(){},$e.TooltipNative=function(M,L){this.canvas.title=M?L&&L.title?L.title:"":this.ctitle},$e.SetTTDiv=function(M,L){var U=this,D=U.ttdiv.style;M!=U.ttdiv.innerHTML&&(D.display="none"),U.ttdiv.innerHTML=M,L&&(L.title=U.ttdiv.innerHTML),"none"==D.display&&!U.tttimer&&(U.tttimer=setTimeout(function(){var P=Ri(U.canvas.id);D.display="block",D.left=P.x+U.mx+"px",D.top=P.y+U.my+24+"px",U.tttimer=null},U.tooltipDelay))},$e.TooltipDiv=function(M,L){M&&L&&L.title?this.SetTTDiv(L.title,L):!M&&-1!=this.mx&&-1!=this.my&&this.ctitle.length?this.SetTTDiv(this.ctitle):this.ttdiv.style.display="none"},$e.Transform=function(M,L,U){if(L||U){var D=d(L),P=J(L),N=d(U),k=J(U),F=new fn([k,0,N,0,1,0,-N,0,k]),K=new fn([1,0,0,0,P,-D,0,D,P]);M.transform=M.transform.mul(F.mul(K))}},$e.AnimateFixed=function(){var M,L,U,D,P;return this.fadeIn&&((L=tt()-this.startTime)>=this.fadeIn?(this.fadeIn=0,this.fixedAlpha=1):this.fixedAlpha=L/this.fadeIn),!!this.fixedAnim&&(this.fixedAnim.transform||(this.fixedAnim.transform=this.transform),M=this.fixedAnim,L=tt()-M.t0,U=M.angle,P=this.animTiming(M.t,L),this.transform=M.transform,L>=M.t?(this.fixedCallbackTag=M.tag,this.fixedCallback=M.cb,this.fixedAnim=this.yaw=this.pitch=0):U*=P,D=fn.Rotation(U,M.axis),this.transform=this.transform.mul(D),0!=this.fixedAnim)},$e.AnimatePosition=function(M,L,U){var k,F,D=this,P=D.mx,N=D.my;!D.frozen&&P>=0&&N>=0&&P<M&&N<L?(k=D.maxSpeed,F=D.reverse?-1:1,D.lx||(D.yaw=(2*P*k/M-k)*F*U),D.ly||(D.pitch=(2*N*k/L-k)*-F*U),D.initial=null):D.initial||(D.frozen&&!D.freezeDecel?D.yaw=D.pitch=0:D.Decel(D)),this.Transform(D,D.pitch,D.yaw)},$e.AnimateDrag=function(M,L,U){var D=this,P=100*U*D.maxSpeed/D.max_radius/D.zoom;D.dx||D.dy?(D.lx||(D.yaw=D.dx*P/D.stretchX),D.ly||(D.pitch=D.dy*-P/D.stretchY),D.dx=D.dy=0,D.initial=null):D.initial||D.Decel(D),this.Transform(D,D.pitch,D.yaw)},$e.Freeze=function(){this.frozen||(this.preFreeze=[this.yaw,this.pitch],this.frozen=1,this.drawn=0)},$e.UnFreeze=function(){this.frozen&&(this.yaw=this.preFreeze[0],this.pitch=this.preFreeze[1],this.frozen=0)},$e.Decel=function(M){var L=M.minSpeed,U=X(M.yaw),D=X(M.pitch);!M.lx&&U>L&&(M.yaw=U>M.z0?M.yaw*M.decel:0),!M.ly&&D>L&&(M.pitch=D>M.z0?M.pitch*M.decel:0)},$e.Zoom=function(M){this.z2=this.z1*(1/M),this.drawn=0},$e.Clicked=function(M){var L=this.active;try{L&&L.tag&&(!1===this.clickToFront||null===this.clickToFront?L.tag.Clicked(M):this.TagToFront(L.tag,this.clickToFront,function(){L.tag.Clicked(M)},!0))}catch{}},$e.Wheel=function(M){this.zoom=ge(this.zoomMax,W(this.zoomMin,this.zoom+this.zoomStep*(M?1:-1))),this.Zoom(this.zoom)},$e.BeginDrag=function(M){this.down=Or(M,this.canvas),M.cancelBubble=!0,M.returnValue=!1,M.preventDefault&&M.preventDefault()},$e.Drag=function(M,L){if(this.dragControl&&this.down){var D=L.x-this.down.x,P=L.y-this.down.y;(this.dragging||D*D+P*P>this.dragThreshold*this.dragThreshold)&&(this.dx=D,this.dy=P,this.dragging=1,this.down=L)}return this.dragging},$e.EndDrag=function(){var M=this.dragging;return this.dragging=this.down=null,M},$e.BeginPinch=function(M){this.pinched=[zr(M),this.zoom],M.preventDefault&&M.preventDefault()},$e.Pinch=function(M){var U,D=this.pinched;D&&(U=zr(M),this.zoom=ge(this.zoomMax,W(this.zoomMin,D[1]*U/D[0])),this.Zoom(this.zoom))},$e.EndPinch=function(M){this.pinched=null},$e.Pause=function(){this.paused=!0},$e.Resume=function(){this.paused=!1},$e.SetSpeed=function(M){this.initial=M,this.yaw=M[0]*this.maxSpeed,this.pitch=M[1]*this.maxSpeed},$e.FindTag=function(M){if(!He(M))return null;if(He(M.index)&&(M=M.index),!ze(M))return this.taglist[M];var L,U,D;for(He(M.id)?(L="id",U=M.id):He(M.text)&&(L="innerText",U=M.text),D=0;D<this.taglist.length;++D)if(this.taglist[D].a[L]==U)return this.taglist[D]},$e.RotateTag=function(M,L,U,D,P,N){var k=M.Calc(this.transform,1),F=new Wt(k.x,k.y,k.z),K=function Dt(M,L){return L=L*Math.PI/180,M=M*Math.PI/180,new Wt(d(M)*J(L),-d(L),-J(M)*J(L))}(U,L),ne=F.angle(K),me=F.cross(K).unit();0==ne?(this.fixedCallbackTag=M,this.fixedCallback=P):this.fixedAnim={angle:-ne,axis:me,t:D,t0:tt(),cb:P,tag:M,active:N}},$e.TagToFront=function(M,L,U,D){this.RotateTag(M,0,0,L,U,D)},yt.Start=function(M,L,U){yt.Delete(M),yt.tc[M]=new yt(M,L,U)},yt.Linear=function(M,L){return L/M},yt.Smooth=function(M,L){return.5-J(L*Math.PI/M)/2},yt.Pause=function(M){ir("Pause",M)},yt.Resume=function(M){ir("Resume",M)},yt.Reload=function(M){ir("Load",M)},yt.Update=function(M){ir("Update",M)},yt.SetSpeed=function(M,L){return!(!ze(L)||!yt.tc[M]||isNaN(L[0])||isNaN(L[1])||(yt.tc[M].SetSpeed(L),0))},yt.TagToFront=function(M,L){return!!ze(L)&&(L.lat=L.lng=0,yt.RotateTag(M,L))},yt.RotateTag=function(M,L){if(ze(L)&&yt.tc[M]){isNaN(L.time)&&(L.time=500);var U=yt.tc[M].FindTag(L);if(U)return yt.tc[M].RotateTag(U,L.lat,L.lng,L.time,L.callback,L.active),!0}return!1},yt.Delete=function(M){var L,U;if(it[M]&&(U=Ee.getElementById(M)))for(L=0;L<it[M].length;++L)zt(it[M][L][0],it[M][L][1],U);delete it[M],delete yt.tc[M]},yt.NextFrameRAF=function(){requestAnimationFrame(On)},yt.NextFrameTimeout=function(M){setTimeout(Nr,M)},yt.tc={},yt.options={z1:2e4,z2:2e4,z0:2e-4,freezeActive:!1,freezeDecel:!1,activeCursor:"pointer",pulsateTo:1,pulsateTime:3,reverse:!1,depth:.5,maxSpeed:.05,minSpeed:0,decel:.95,interval:20,minBrightness:.1,maxBrightness:1,outlineColour:"#ffff99",outlineThickness:2,outlineOffset:5,outlineMethod:"outline",outlineRadius:0,textColour:"#ff99ff",textHeight:15,textFont:"Helvetica, Arial, sans-serif",shadow:"#000",shadowBlur:0,shadowOffset:[0,0],initial:null,hideTags:!0,zoom:1,weight:!1,weightMode:"size",weightFrom:null,weightSize:1,weightSizeMin:null,weightSizeMax:null,weightGradient:{0:"#f00",.33:"#ff0",.66:"#0f0",1:"#00f"},txtOpt:!0,txtScale:2,frontSelect:!1,wheelZoom:!0,zoomMin:.3,zoomMax:3,zoomStep:.05,shape:"sphere",lock:null,tooltip:null,tooltipDelay:300,tooltipClass:"tctooltip",radiusX:1,radiusY:1,radiusZ:1,stretchX:1,stretchY:1,offsetX:0,offsetY:0,shuffleTags:!1,noSelect:!1,noMouse:!1,imageScale:1,paused:!1,dragControl:!1,dragThreshold:4,centreFunc:dt,splitWidth:0,animTiming:"Smooth",clickToFront:!1,fadeIn:0,padding:0,bgColour:null,bgRadius:0,bgOutline:null,bgOutlineThickness:0,outlineIncrease:4,textAlign:"centre",textVAlign:"middle",imageMode:null,imagePosition:null,imagePadding:2,imageAlign:"centre",imageVAlign:"middle",noTagsMessage:!0,centreImage:null,pinchZoom:!1,repeatTags:0,minTags:0,imageRadius:0,scrollPause:!1,outlineDash:0,outlineDashSpace:0,outlineDashSpeed:1})yt[Ut]=yt.options[Ut];window.TagCanvas=yt,Vn("load",function(){yt.loaded=1},window)}()},655:(Ut,Je,X)=>{"use strict";function ge(Ue,Ve){var Ke={};for(var st in Ue)Object.prototype.hasOwnProperty.call(Ue,st)&&Ve.indexOf(st)<0&&(Ke[st]=Ue[st]);if(null!=Ue&&"function"==typeof Object.getOwnPropertySymbols){var wt=0;for(st=Object.getOwnPropertySymbols(Ue);wt<st.length;wt++)Ve.indexOf(st[wt])<0&&Object.prototype.propertyIsEnumerable.call(Ue,st[wt])&&(Ke[st[wt]]=Ue[st[wt]])}return Ke}function ce(Ue,Ve,Ke,st){return new(Ke||(Ke=Promise))(function(mt,Nt){function vt(bn){try{Qt(st.next(bn))}catch(Xt){Nt(Xt)}}function Ht(bn){try{Qt(st.throw(bn))}catch(Xt){Nt(Xt)}}function Qt(bn){bn.done?mt(bn.value):function wt(mt){return mt instanceof Ke?mt:new Ke(function(Nt){Nt(mt)})}(bn.value).then(vt,Ht)}Qt((st=st.apply(Ue,Ve||[])).next())})}function He(Ue){return this instanceof He?(this.v=Ue,this):new He(Ue)}function ze(Ue,Ve,Ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,st=Ke.apply(Ue,Ve||[]),mt=[];return wt={},Nt("next"),Nt("throw"),Nt("return"),wt[Symbol.asyncIterator]=function(){return this},wt;function Nt(An){st[An]&&(wt[An]=function(Jn){return new Promise(function(Kn,$r){mt.push([An,Jn,Kn,$r])>1||vt(An,Jn)})})}function vt(An,Jn){try{!function Ht(An){An.value instanceof He?Promise.resolve(An.value.v).then(Qt,bn):Xt(mt[0][2],An)}(st[An](Jn))}catch(Kn){Xt(mt[0][3],Kn)}}function Qt(An){vt("next",An)}function bn(An){vt("throw",An)}function Xt(An,Jn){An(Jn),mt.shift(),mt.length&&vt(mt[0][0],mt[0][1])}}function dt(Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Ve=Ue[Symbol.asyncIterator];return Ve?Ve.call(Ue):(Ue=function nt(Ue){var Ve="function"==typeof Symbol&&Symbol.iterator,Ke=Ve&&Ue[Ve],st=0;if(Ke)return Ke.call(Ue);if(Ue&&"number"==typeof Ue.length)return{next:function(){return Ue&&st>=Ue.length&&(Ue=void 0),{value:Ue&&Ue[st++],done:!Ue}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ue),Ke={},st("next"),st("throw"),st("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke);function st(mt){Ke[mt]=Ue[mt]&&function(Nt){return new Promise(function(vt,Ht){!function wt(mt,Nt,vt,Ht){Promise.resolve(Ht).then(function(Qt){mt({value:Qt,done:vt})},Nt)}(vt,Ht,(Nt=Ue[mt](Nt)).done,Nt.value)})}}}X.d(Je,{FC:()=>ze,KL:()=>dt,_T:()=>ge,mG:()=>ce,qq:()=>He})},4650:(Ut,Je,X)=>{"use strict";X.d(Je,{$8M:()=>Lu,$WT:()=>ai,$Z:()=>hw,AFp:()=>S_,AaK:()=>Fe,CRH:()=>PE,CZH:()=>Sp,CqO:()=>Ag,D6c:()=>hc,DdM:()=>bE,EJc:()=>WE,F4k:()=>gv,FYo:()=>Ay,FiY:()=>Ma,G48:()=>Mm,GfV:()=>G0,Gpc:()=>ie,JOm:()=>vn,LFG:()=>En,LSH:()=>my,Lbi:()=>x_,Lck:()=>iD,MMx:()=>am,NdJ:()=>xg,OlP:()=>er,Oqu:()=>$g,P3R:()=>F0,PXZ:()=>Rp,Q6J:()=>hv,QGY:()=>_h,Qsj:()=>UC,R0b:()=>Bo,RDi:()=>yC,Rgc:()=>Oh,SBq:()=>rh,Sil:()=>ED,Suo:()=>p_,TTD:()=>z,TgZ:()=>zf,X6Q:()=>oI,XFs:()=>zt,Xpm:()=>Jt,Xts:()=>vy,Y36:()=>uh,YKP:()=>wE,Yjl:()=>Nn,Yz7:()=>Xt,Z0I:()=>$r,ZZ4:()=>Id,_Bn:()=>_E,_UZ:()=>Tg,_Vd:()=>nh,_c5:()=>km,_uU:()=>Yw,aQg:()=>Pm,c2e:()=>_D,cJS:()=>Jn,cg1:()=>np,dDg:()=>P_,dqk:()=>kn,eFA:()=>U_,eJc:()=>wp,ekj:()=>Ug,eoX:()=>k_,f3M:()=>yt,g9A:()=>Dm,h0i:()=>Ah,hGG:()=>yI,iGM:()=>f_,ifc:()=>k,ip1:()=>Au,jDz:()=>i_,kL8:()=>Kg,lG2:()=>on,lqb:()=>Yc,lri:()=>tI,n5z:()=>Tc,oAB:()=>_e,q4F:()=>q0,qLn:()=>Sf,qOj:()=>tv,qZA:()=>sd,rWj:()=>Hi,sBO:()=>Np,s_b:()=>mp,soG:()=>or,tb:()=>F_,tp0:()=>gn,uIk:()=>uv,vHH:()=>Ne,vpe:()=>Tu,wAp:()=>rn,xp6:()=>rw,z2F:()=>Op,zSh:()=>Hl,zs3:()=>sh});var d=X(7579),J=X(727),W=X(9751),ge=X(6451),Se=X(3099);function Ce(i){for(let o in i)if(i[o]===Ce)return o;throw Error("Could not find renamed property on target object.")}function Be(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function Fe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Fe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Le(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const oe=Ce({__forward_ref__:Ce});function ie(i){return i.__forward_ref__=ie,i.toString=function(){return Fe(this())},i}function ce(i){return $e(i)?i():i}function $e(i){return"function"==typeof i&&i.hasOwnProperty(oe)&&i.__forward_ref__===ie}function et(i){return i&&!!i.\u0275providers}const nt="https://g.co/ng/security#xss";class Ne extends Error{constructor(o,a){super(Ee(o,a)),this.code=o}}function Ee(i,o){return`NG0${Math.abs(i)}${o?": "+o.trim():""}`}function rt(i){return"string"==typeof i?i:null==i?"":String(i)}function dt(i,o){throw new Ne(-201,!1)}function Nt(i,o){null==i&&function vt(i,o,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,i,null,"!=")}function Xt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Jn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Kn(i){return Mr(i,Wr)||Mr(i,Zt)}function $r(i){return null!==Kn(i)}function Mr(i,o){return i.hasOwnProperty(o)?i[o]:null}function Sr(i){return i&&(i.hasOwnProperty(oi)||i.hasOwnProperty(Vn))?i[oi]:null}const Wr=Ce({\u0275prov:Ce}),oi=Ce({\u0275inj:Ce}),Zt=Ce({ngInjectableDef:Ce}),Vn=Ce({ngInjectorDef:Ce});var zt=(()=>((zt=zt||{})[zt.Default=0]="Default",zt[zt.Host=1]="Host",zt[zt.Self=2]="Self",zt[zt.SkipSelf=4]="SkipSelf",zt[zt.Optional=8]="Optional",zt))();let mr;function Rr(i){const o=mr;return mr=i,o}function Ar(i,o,a){const l=Kn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&zt.Optional?null:void 0!==o?o:void dt(Fe(i))}const kn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Er={},Hr="__NG_DI_FLAG__",xr="ngTempTokenPath",gi="ngTokenPath",ur=/\n/gm,Nr="\u0275",On="__source";let Ri;function pn(i){const o=Ri;return Ri=i,o}function ar(i,o=zt.Default){if(void 0===Ri)throw new Ne(-203,!1);return null===Ri?Ar(i,void 0,o):Ri.get(i,o&zt.Optional?null:void 0,o)}function En(i,o=zt.Default){return(function wr(){return mr}()||ar)(ce(i),o)}function yt(i,o=zt.Default){return En(i,zr(o))}function zr(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function ir(i){const o=[];for(let a=0;a<i.length;a++){const l=ce(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Ne(900,!1);let h,p=zt.Default;for(let v=0;v<l.length;v++){const b=l[v],x=L(b);"number"==typeof x?-1===x?h=b.token:p|=x:h=b}o.push(En(h,p))}else o.push(En(l))}return o}function M(i,o){return i[Hr]=o,i.prototype[Hr]=o,i}function L(i){return i[Hr]}function P(i){return{toString:i}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),k=(()=>{return(i=k||(k={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",k;var i})();const F={},K=[],ne=Ce({\u0275cmp:Ce}),me=Ce({\u0275dir:Ce}),Re=Ce({\u0275pipe:Ce}),ot=Ce({\u0275mod:Ce}),Xe=Ce({\u0275fac:Ce}),It=Ce({__NG_ELEMENT_ID__:Ce});let Tn=0;function Jt(i){return P(()=>{const o=Ga(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||k.Emulated,id:"c"+Tn++,styles:i.styles||K,_:null,schemas:i.schemas||null,tView:null};fl(a);const l=i.dependencies;return a.directiveDefs=to(l,!1),a.pipeDefs=to(l,!0),a})}function Lr(i){return Gt(i)||qn(i)}function Ae(i){return null!==i}function _e(i){return P(()=>({type:i.type,bootstrap:i.bootstrap||K,declarations:i.declarations||K,imports:i.imports||K,exports:i.exports||K,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Pt(i,o){if(null==i)return F;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,o&&(o[h]=p)}return a}function on(i){return P(()=>{const o=Ga(i);return fl(o),o})}function Nn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Gt(i){return i[ne]||null}function qn(i){return i[me]||null}function Bn(i){return i[Re]||null}function ai(i){const o=Gt(i)||qn(i)||Bn(i);return null!==o&&o.standalone}function ui(i,o){const a=i[ot]||null;if(!a&&!0===o)throw new Error(`Type ${Fe(i)} does not have '\u0275mod' property.`);return a}function Ga(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||K,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Pt(i.inputs,o),outputs:Pt(i.outputs)}}function fl(i){i.features?.forEach(o=>o(i))}function to(i,o){if(!i)return null;const a=o?Bn:Lr;return()=>("function"==typeof i?i():i).map(l=>a(l)).filter(Ae)}const Zr=0,Rt=1,un=2,lr=3,Xn=4,no=5,li=6,So=7,Vr=8,ro=9,Ao=10,Fn=11,qa=12,Ur=13,Go=14,ds=15,ei=16,xo=17,is=18,ci=19,io=20,Oi=21,hr=22,Mo=1,qo=2,so=7,oo=8,ao=9,mi=10;function yi(i){return Array.isArray(i)&&"object"==typeof i[Mo]}function _s(i){return Array.isArray(i)&&!0===i[Mo]}function Ro(i){return 0!=(4&i.flags)}function Wa(i){return i.componentOffset>-1}function ga(i){return 1==(1&i.flags)}function Zi(i){return!!i.template}function uo(i){return 0!=(256&i[un])}function R(i,o){return i.hasOwnProperty(Xe)?i[Xe]:null}class H{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function z(){return q}function q(i){return i.type.prototype.ngOnChanges&&(i.setInput=re),ae}function ae(){const i=xe(this),o=i?.current;if(o){const a=i.previous;if(a===F)i.previous=o;else for(let l in o)a[l]=o[l];i.current=null,this.ngOnChanges(o)}}function re(i,o,a,l){const h=this.declaredInputs[a],p=xe(i)||function ct(i,o){return i[ve]=o}(i,{previous:F,current:null}),v=p.current||(p.current={}),b=p.previous,x=b[h];v[h]=new H(x&&x.currentValue,o,b===F),i[l]=o}z.ngInherit=!0;const ve="__ngSimpleChanges__";function xe(i){return i[ve]||null}const Tt=function(i,o,a){};function Wn(i){for(;Array.isArray(i);)i=i[Zr];return i}function ti(i,o){return Wn(o[i])}function Pn(i,o){return Wn(o[i.index])}function vi(i,o){return i.data[o]}function jn(i,o){const a=o[i];return yi(a)?a:a[Zr]}function ws(i){return 64==(64&i[un])}function zi(i,o){return null==o?null:i[o]}function Es(i){i[is]=0}function ni(i,o){i[no]+=o;let a=i,l=i[lr];for(;null!==l&&(1===o&&1===a[no]||-1===o&&0===a[no]);)l[no]+=o,a=l,l=l[lr]}const ln={lFrame:Cs(null),bindingsEnabled:!0};function sr(){return ln.bindingsEnabled}function ke(){return ln.lFrame.lView}function Mn(){return ln.lFrame.tView}function Br(){let i=wl();for(;null!==i&&64===i.type;)i=i.parent;return i}function wl(){return ln.lFrame.currentTNode}function fs(i,o){const a=ln.lFrame;a.currentTNode=i,a.isParent=o}function Oo(){return ln.lFrame.isParent}function wi(){return ln.lFrame.bindingIndex++}function Cl(i,o){const a=ln.lFrame;a.bindingIndex=a.bindingRootIndex=i,Pr(o)}function Pr(i){ln.lFrame.currentDirectiveIndex=i}function ki(){return ln.lFrame.currentQueryIndex}function Qa(i){ln.lFrame.currentQueryIndex=i}function wa(i){const o=i[Rt];return 2===o.type?o.declTNode:1===o.type?i[li]:null}function bl(i,o,a){if(a&zt.SkipSelf){let h=o,p=i;for(;!(h=h.parent,null!==h||a&zt.Host||(h=wa(p),null===h||(p=p[ds],10&h.type))););if(null===h)return!1;o=h,i=p}const l=ln.lFrame=Xa();return l.currentTNode=o,l.lView=i,!0}function Ko(i){const o=Xa(),a=i[Rt];ln.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Xa(){const i=ln.lFrame,o=null===i?null:i.child;return null===o?Cs(i):o}function Cs(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Ea(){const i=ln.lFrame;return ln.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ia=Ea;function Ca(){const i=Ea();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Fi(){return ln.lFrame.selectedIndex}function os(i){ln.lFrame.selectedIndex=i}function Dr(){const i=ln.lFrame;return vi(i.tView,i.selectedIndex)}function ye(i,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:x,ngAfterViewChecked:B,ngOnDestroy:G}=p;v&&(i.contentHooks??(i.contentHooks=[])).push(-a,v),b&&((i.contentHooks??(i.contentHooks=[])).push(a,b),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(a,b)),x&&(i.viewHooks??(i.viewHooks=[])).push(-a,x),B&&((i.viewHooks??(i.viewHooks=[])).push(a,B),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(a,B)),null!=G&&(i.destroyHooks??(i.destroyHooks=[])).push(a,G)}}function Ye(i,o,a){At(i,o,3,a)}function ut(i,o,a,l){(3&i[un])===a&&At(i,o,a,l)}function Ct(i,o){let a=i[un];(3&a)===o&&(a&=2047,a+=1,i[un]=a)}function At(i,o,a,l){const p=l??-1,v=o.length-1;let b=0;for(let x=void 0!==l?65535&i[is]:0;x<v;x++)if("number"==typeof o[x+1]){if(b=o[x],null!=l&&b>=l)break}else o[x]<0&&(i[is]+=65536),(b<p||-1==p)&&(sn(i,a,o,x),i[is]=(4294901760&i[is])+x+2),x++}function sn(i,o,a,l){const h=a[l]<0,p=a[l+1],b=i[h?-a[l]:a[l]];if(h){if(i[un]>>11<i[is]>>16&&(3&i[un])===o){i[un]+=2048,Tt(4,b,p);try{p.call(b)}finally{Tt(5,b,p)}}}else{Tt(4,b,p);try{p.call(b)}finally{Tt(5,b,p)}}}const nn=-1;class en{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Os(i,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const p=a[l++],v=a[l++],b=a[l++];i.setAttribute(o,v,b,p)}else{const p=h,v=a[++l];Xo(p)?i.setProperty(o,p,v):i.setAttribute(o,p,v),l++}}return l}function Qi(i){return 3===i||4===i||6===i}function Xo(i){return 64===i.charCodeAt(0)}function ba(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||tu(i,a,h,null,-1===a||2===a?o[++l]:null)}}return i}function tu(i,o,a,l,h){let p=0,v=i.length;if(-1===o)v=-1;else for(;p<i.length;){const b=i[p++];if("number"==typeof b){if(b===o){v=-1;break}if(b>o){v=p-1;break}}}for(;p<i.length;){const b=i[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==h&&(i[p+1]=h));if(l===i[p+1])return void(i[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==v&&(i.splice(v,0,o),p=v+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==h&&i.splice(p++,0,h)}function Da(i){return i!==nn}function nu(i){return 32767&i}function Pu(i,o){let a=function Nu(i){return i>>16}(i),l=o;for(;a>0;)l=l[ds],a--;return l}let Ec=!0;function ku(i){const o=Ec;return Ec=i,o}const Ic=255,Dl=5;let Cc=0;const ps={};function bc(i,o){const a=Ad(i,o);if(-1!==a)return a;const l=o[Rt];l.firstCreatePass&&(i.injectorIndex=o.length,mo(l.data,i),mo(o,null),mo(l.blueprint,null));const h=ri(i,o),p=i.injectorIndex;if(Da(h)){const v=nu(h),b=Pu(h,o),x=b[Rt].data;for(let B=0;B<8;B++)o[p+B]=b[v+B]|x[v+B]}return o[p+8]=h,p}function mo(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Ad(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function ri(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=Ta(h),null===l)return nn;if(a++,h=h[ds],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return nn}function Jo(i,o,a){!function Sd(i,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(It)&&(l=a[It]),null==l&&(l=a[It]=Cc++);const h=l&Ic;o.data[i+(h>>Dl)]|=1<<h}(i,o,a)}function xd(i,o,a){if(a&zt.Optional||void 0!==i)return i;dt()}function Fu(i,o,a,l){if(a&zt.Optional&&void 0===l&&(l=null),!(a&(zt.Self|zt.Host))){const h=i[ro],p=Rr(void 0);try{return h?h.get(o,l,a&zt.Optional):Ar(o,l,a&zt.Optional)}finally{Rr(p)}}return xd(l,0,a)}function Md(i,o,a,l=zt.Default,h){if(null!==i){if(1024&o[un]){const v=function nf(i,o,a,l,h){let p=i,v=o;for(;null!==p&&null!==v&&1024&v[un]&&!(256&v[un]);){const b=Sl(p,v,a,l|zt.Self,ps);if(b!==ps)return b;let x=p.parent;if(!x){const B=v[Oi];if(B){const G=B.get(a,ps,l);if(G!==ps)return G}x=Ta(v),v=v[ds]}p=x}return h}(i,o,a,l,ps);if(v!==ps)return v}const p=Sl(i,o,a,l,ps);if(p!==ps)return p}return Fu(o,a,l,h)}function Sl(i,o,a,l,h){const p=function tf(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(It)?i[It]:void 0;return"number"==typeof o?o>=0?o&Ic:Dc:o}(a);if("function"==typeof p){if(!bl(o,i,l))return l&zt.Host?xd(h,0,l):Fu(o,a,l,h);try{const v=p(l);if(null!=v||l&zt.Optional)return v;dt()}finally{Ia()}}else if("number"==typeof p){let v=null,b=Ad(i,o),x=nn,B=l&zt.Host?o[ei][li]:null;for((-1===b||l&zt.SkipSelf)&&(x=-1===b?ri(i,o):o[b+8],x!==nn&&Al(l,!1)?(v=o[Rt],b=nu(x),o=Pu(x,o)):b=-1);-1!==b;){const G=o[Rt];if(ea(p,b,G.data)){const te=Ei(b,o,a,v,l,B);if(te!==ps)return te}x=o[b+8],x!==nn&&Al(l,o[Rt].data[b+8]===B)&&ea(p,b,o)?(v=G,b=nu(x),o=Pu(x,o)):b=-1}}return h}function Ei(i,o,a,l,h,p){const v=o[Rt],b=v.data[i+8],G=ru(b,v,a,null==l?Wa(b)&&Ec:l!=v&&0!=(3&b.type),h&zt.Host&&p===b);return null!==G?Gr(o,v,G,b):ps}function ru(i,o,a,l,h){const p=i.providerIndexes,v=o.data,b=1048575&p,x=i.directiveStart,G=p>>20,de=h?b+G:i.directiveEnd;for(let Ie=l?b:b+G;Ie<de;Ie++){const We=v[Ie];if(Ie<x&&a===We||Ie>=x&&We.type===a)return Ie}if(h){const Ie=v[x];if(Ie&&Zi(Ie)&&Ie.type===a)return x}return null}function Gr(i,o,a,l){let h=i[a];const p=o.data;if(function Zn(i){return i instanceof en}(h)){const v=h;v.resolving&&function He(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${i}${a}`)}(function it(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():rt(i)}(p[a]));const b=ku(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?Rr(v.injectImpl):null;bl(i,l,zt.Default);try{h=i[a]=v.factory(void 0,p,i,l),o.firstCreatePass&&a>=l.directiveStart&&function Ge(i,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(l){const v=q(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,v)}h&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-i,h),p&&((a.preOrderHooks??(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],o)}finally{null!==x&&Rr(x),ku(b),v.resolving=!1,Ia()}}return h}function ea(i,o,a){return!!(a[o+(i>>Dl)]&1<<i)}function Al(i,o){return!(i&zt.Self||i&zt.Host&&o)}class iu{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Md(this._tNode,this._lView,o,zr(l),a)}}function Dc(){return new iu(Br(),ke())}function Tc(i){return P(()=>{const o=i.prototype.constructor,a=o[Xe]||ta(o),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const p=h[Xe]||ta(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function ta(i){return $e(i)?()=>{const o=ta(ce(i));return o&&o()}:R(i)}function Ta(i){const o=i[Rt],a=o.type;return 2===a?o.declTNode:1===a?i[li]:null}function Lu(i){return function Tl(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(Qi(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(Br(),i)}const su="__parameters__";function Aa(i,o,a){return P(()=>{const l=function Rd(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...p){if(this instanceof h)return l.apply(this,p),this;const v=new h(...p);return b.annotation=v,b;function b(x,B,G){const te=x.hasOwnProperty(su)?x[su]:Object.defineProperty(x,su,{value:[]})[su];for(;te.length<=G;)te.push(null);return(te[G]=te[G]||[]).push(v),x}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class er{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Xt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function na(i,o){i.forEach(a=>Array.isArray(a)?na(a,o):o(a))}function Oc(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function Vu(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Ns(i,o,a){let l=Hs(i,o);return l>=0?i[1|l]=a:(l=~l,function Ol(i,o,a,l){let h=i.length;if(h==o)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=a,i[o+1]=l}}(i,l,o,a)),l}function cr(i,o){const a=Hs(i,o);if(a>=0)return i[1|a]}function Hs(i,o){return function zs(i,o,a){let l=0,h=i.length>>a;for(;h!==l;){const p=l+(h-l>>1),v=i[p<<a];if(o===v)return p<<a;v>o?h=p:l=p+1}return~(h<<a)}(i,o,1)}const Ma=M(Aa("Optional"),8),gn=M(Aa("SkipSelf"),4);var vn=(()=>((vn=vn||{})[vn.Important=1]="Important",vn[vn.DashCase=2]="DashCase",vn))();const Bd=new Map;let No=0;const ue="__ngContext__";function fe(i,o){yi(o)?(i[ue]=o[io],function jd(i){Bd.set(i[io],i)}(o)):i[ue]=o}let Ss;function Ji(i,o){return Ss(i,o)}function Hd(i){const o=i[lr];return _s(o)?o[lr]:o}function Wu(i){return cf(i[Ur])}function Zu(i){return cf(i[Xn])}function cf(i){for(;null!==i&&!_s(i);)i=i[Xn];return i}function hu(i,o,a,l,h){if(null!=l){let p,v=!1;_s(l)?p=l:yi(l)&&(v=!0,l=l[Zr]);const b=Wn(l);0===i&&null!==a?null==h?ms(o,a,b):$n(o,a,b,h||null,!0):1===i&&null!==a?$n(o,a,b,h||null,!0):2===i?function sy(i,o,a){const l=Po(i,o);l&&function fu(i,o,a,l){i.removeChild(o,a,l)}(i,l,o,a)}(o,b,v):3===i&&o.destroyNode(b),null!=p&&function yf(i,o,a,l,h){const p=a[so];p!==Wn(a)&&hu(o,i,l,p,h);for(let b=mi;b<a.length;b++){const x=a[b];mf(x[Rt],x,i,o,l,p)}}(o,i,p,a,h)}}function hf(i,o,a){return i.createElement(o,a)}function C(i,o){const a=i[ao],l=a.indexOf(o),h=o[lr];512&o[un]&&(o[un]&=-513,ni(h,-1)),a.splice(l,1)}function $(i,o){if(i.length<=mi)return;const a=mi+o,l=i[a];if(l){const h=l[xo];null!==h&&h!==i&&C(h,l),o>0&&(i[a-1][Xn]=l[Xn]);const p=Vu(i,mi+o);!function Yp(i,o){mf(i,o,o[Fn],2,null,null),o[Zr]=null,o[li]=null}(l[Rt],l);const v=p[ci];null!==v&&v.detachView(p[Rt]),l[lr]=null,l[Xn]=null,l[un]&=-65}return l}function Z(i,o){if(!(128&o[un])){const a=o[Fn];a.destroyNode&&mf(i,o,a,3,null,null),function w(i){let o=i[Ur];if(!o)return pe(i[Rt],i);for(;o;){let a=null;if(yi(o))a=o[Ur];else{const l=o[mi];l&&(a=l)}if(!a){for(;o&&!o[Xn]&&o!==i;)yi(o)&&pe(o[Rt],o),o=o[lr];null===o&&(o=i),yi(o)&&pe(o[Rt],o),a=o&&o[Xn]}o=a}}(o)}}function pe(i,o){if(!(128&o[un])){o[un]&=-65,o[un]|=128,function gt(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof en)){const p=a[l+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const b=h[p[v]],x=p[v+1];Tt(4,b,x);try{x.call(b)}finally{Tt(5,b,x)}}else{Tt(4,h,p);try{p.call(h)}finally{Tt(5,h,p)}}}}}(i,o),function Me(i,o){const a=i.cleanup,l=o[So];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+3];v>=0?l[h=v]():l[h=-v].unsubscribe(),p+=2}else{const v=l[h=a[p+1]];a[p].call(v)}if(null!==l){for(let p=h+1;p<l.length;p++)(0,l[p])();o[So]=null}}(i,o),1===o[Rt].type&&o[Fn].destroy();const a=o[xo];if(null!==a&&_s(o[lr])){a!==o[lr]&&C(a,o);const l=o[ci];null!==l&&l.detachView(i)}!function $d(i){Bd.delete(i[io])}(o)}}function Ot(i,o,a){return function an(i,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[Zr];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:p}=i.data[l.directiveStart+h];if(p===k.None||p===k.Emulated)return null}return Pn(l,a)}}(i,o.parent,a)}function $n(i,o,a,l,h){i.insertBefore(o,a,l,h)}function ms(i,o,a){i.appendChild(o,a)}function Fa(i,o,a,l,h){null!==l?$n(i,o,a,l,h):ms(i,o,a)}function Po(i,o){return i.parentNode(o)}let Gd,ay,Xp,pu=function Wc(i,o,a){return 40&i.type?Pn(i,a):null};function jl(i,o,a,l){const h=Ot(i,l,o),p=o[Fn],b=function zd(i,o,a){return pu(i,o,a)}(l.parent||o[li],l,o);if(null!=h)if(Array.isArray(a))for(let x=0;x<a.length;x++)Fa(p,h,a[x],b,!1);else Fa(p,h,a,b,!1);void 0!==Gd&&Gd(p,l,o,a,h)}function Wd(i,o){if(null!==o){const a=o.type;if(3&a)return Pn(o,i);if(4&a)return gu(-1,i[o.index]);if(8&a){const l=o.child;if(null!==l)return Wd(i,l);{const h=i[o.index];return _s(h)?gu(-1,h):Wn(h)}}if(32&a)return Ji(o,i)()||Wn(i[o.index]);{const l=$l(i,o);return null!==l?Array.isArray(l)?l[0]:Wd(Hd(i[ei]),l):Wd(i,o.next)}}return null}function $l(i,o){return null!==o?i[ei][li].projection[o.projection]:null}function gu(i,o){const a=mi+i+1;if(a<o.length){const l=o[a],h=l[Rt].firstChild;if(null!==h)return Wd(l,h)}return o[so]}function gf(i,o,a,l,h,p,v){for(;null!=a;){const b=l[a.index],x=a.type;if(v&&0===o&&(b&&fe(Wn(b),l),a.flags|=2),32!=(32&a.flags))if(8&x)gf(i,o,a.child,l,h,p,!1),hu(o,i,h,b,p);else if(32&x){const B=Ji(a,l);let G;for(;G=B();)hu(o,i,h,G,p);hu(o,i,h,b,p)}else 16&x?oy(i,o,l,a,h,p):hu(o,i,h,b,p);a=v?a.projectionNext:a.next}}function mf(i,o,a,l,h,p){gf(a,l,i.firstChild,o,h,p,!1)}function oy(i,o,a,l,h,p){const v=a[ei],x=v[li].projection[l.projection];if(Array.isArray(x))for(let B=0;B<x.length;B++)hu(o,i,h,x[B],p);else gf(i,o,x,v[lr],h,p,!0)}function Ku(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function Zd(i,o,a){const{mergedAttrs:l,classes:h,styles:p}=a;null!==l&&Os(i,o,l),null!==h&&Ku(i,o,h),null!==p&&function Qp(i,o,a){i.setAttribute(o,"style",a)}(i,o,p)}function yC(i){ay=i}function D0(i){return function uy(){if(void 0===Xp&&(Xp=null,kn.trustedTypes))try{Xp=kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Xp}()?.createScriptURL(i)||i}class T0{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nt})`}}function yu(i){return i instanceof T0?i.changingThisBreaksApplicationSecurity:i}function ko(i,o){const a=function Yd(i){return i instanceof T0&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${nt})`)}return a===o}const M0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Vi=(()=>((Vi=Vi||{})[Vi.NONE=0]="NONE",Vi[Vi.HTML=1]="HTML",Vi[Vi.STYLE=2]="STYLE",Vi[Vi.SCRIPT=3]="SCRIPT",Vi[Vi.URL=4]="URL",Vi[Vi.RESOURCE_URL=5]="RESOURCE_URL",Vi))();function my(i){const o=bf();return o?o.sanitize(Vi.URL,i)||"":ko(i,"URL")?yu(i):function wf(i){return(i=String(i)).match(M0)?i:"unsafe:"+i}(rt(i))}function rg(i){const o=bf();if(o)return D0(o.sanitize(Vi.RESOURCE_URL,i)||"");if(ko(i,"ResourceURL"))return D0(yu(i));throw new Ne(904,!1)}function F0(i,o,a){return function MC(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?rg:my}(o,a)(i)}function bf(){const i=ke();return i&&i[qa]}const vy=new er("ENVIRONMENT_INITIALIZER"),Kc=new er("INJECTOR",-1),Xd=new er("INJECTOR_DEF_TYPES");class L0{get(o,a=Er){if(a===Er){const l=new Error(`NullInjectorError: No provider for ${Fe(o)}!`);throw l.name="NullInjectorError",l}return a}}function Df(...i){return{\u0275providers:Jd(0,i),\u0275fromNgModule:!0}}function Jd(i,...o){const a=[],l=new Set;let h;return na(o,p=>{const v=p;_y(v,a,[],l)&&(h||(h=[]),h.push(v))}),void 0!==h&&V0(h,a),a}function V0(i,o){for(let a=0;a<i.length;a++){const{providers:h}=i[a];wy(h,p=>{o.push(p)})}}function _y(i,o,a,l){if(!(i=ce(i)))return!1;let h=null,p=Sr(i);const v=!p&&Gt(i);if(p||v){if(v&&!v.standalone)return!1;h=i}else{const x=i.ngModule;if(p=Sr(x),!p)return!1;h=x}const b=l.has(h);if(v){if(b)return!1;if(l.add(h),v.dependencies){const x="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const B of x)_y(B,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let B;l.add(h);try{na(p.imports,G=>{_y(G,o,a,l)&&(B||(B=[]),B.push(G))})}finally{}void 0!==B&&V0(B,o)}if(!b){const B=R(h)||(()=>new h);o.push({provide:h,useFactory:B,deps:K},{provide:Xd,useValue:h,multi:!0},{provide:vy,useValue:()=>En(h),multi:!0})}const x=p.providers;null==x||b||wy(x,G=>{o.push(G)})}}return h!==i&&void 0!==i.providers}function wy(i,o){for(let a of i)et(a)&&(a=a.\u0275providers),Array.isArray(a)?wy(a,o):o(a)}const OC=Ce({provide:String,useValue:Ce});function Ey(i){return null!==i&&"object"==typeof i&&OC in i}function Yu(i){return"function"==typeof i}const Hl=new er("Set Injector scope."),sg={},PC={};let Iy;function og(){return void 0===Iy&&(Iy=new L0),Iy}class Yc{}class B0 extends Yc{get destroyed(){return this._destroyed}constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,th(o,v=>this.processProvider(v)),this.records.set(Kc,eh(void 0,this)),h.has("environment")&&this.records.set(Yc,eh(void 0,this));const p=this.records.get(Hl);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Xd.multi,K,zt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=pn(this),l=Rr(void 0);try{return o()}finally{pn(a),Rr(l)}}get(o,a=Er,l=zt.Default){this.assertNotDestroyed(),l=zr(l);const h=pn(this),p=Rr(void 0);try{if(!(l&zt.SkipSelf)){let b=this.records.get(o);if(void 0===b){const x=function Ty(i){return"function"==typeof i||"object"==typeof i&&i instanceof er}(o)&&Kn(o);b=x&&this.injectableDefInScope(x)?eh(Cy(o),sg):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(l&zt.Self?og():this.parent).get(o,a=l&zt.Optional&&a===Er?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[xr]=v[xr]||[]).unshift(Fe(o)),h)throw v;return function U(i,o,a,l){const h=i[xr];throw o[On]&&h.unshift(o[On]),i.message=function D(i,o,a,l=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==Nr?i.slice(2):i;let h=Fe(o);if(Array.isArray(o))h=o.map(Fe).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let b=o[v];p.push(v+":"+("string"==typeof b?JSON.stringify(b):Fe(b)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(ur,"\n  ")}`}("\n"+i.message,h,a,l),i[gi]=h,i[xr]=null,i}(v,o,"R3InjectorError",this.source)}throw v}finally{Rr(p),pn(h)}}resolveInjectorInitializers(){const o=pn(this),a=Rr(void 0);try{const l=this.get(vy.multi,K,zt.Self);for(const h of l)h()}finally{pn(o),Rr(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(Fe(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(o){let a=Yu(o=ce(o))?o:ce(o&&o.provide);const l=function FC(i){return Ey(i)?eh(void 0,i.useValue):eh(by(i),sg)}(o);if(Yu(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=eh(void 0,sg,!0),h.factory=()=>ir(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===sg&&(a.value=PC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function j0(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ce(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Cy(i){const o=Kn(i),a=null!==o?o.factory:R(i);if(null!==a)return a;if(i instanceof er)throw new Ne(204,!1);if(i instanceof Function)return function kC(i){const o=i.length;if(o>0)throw function ou(i,o){const a=[];for(let l=0;l<i;l++)a.push(o);return a}(o,"?"),new Ne(204,!1);const a=function pi(i){return i&&(i[Wr]||i[Zt])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ne(204,!1)}function by(i,o,a){let l;if(Yu(i)){const h=ce(i);return R(h)||Cy(h)}if(Ey(i))l=()=>ce(i.useValue);else if(function U0(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...ir(i.deps||[]));else if(function NC(i){return!(!i||!i.useExisting)}(i))l=()=>En(ce(i.useExisting));else{const h=ce(i&&(i.useClass||i.provide));if(!function Dy(i){return!!i.deps}(i))return R(h)||Cy(h);l=()=>new h(...ir(i.deps))}return l}function eh(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function th(i,o){for(const a of i)Array.isArray(a)?th(a,o):a&&et(a)?th(a.\u0275providers,o):o(a)}class LC{}class $0{}class z0{resolveComponentFactory(o){throw function VC(i){const o=Error(`No component factory found for ${Fe(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let nh=(()=>{class i{}return i.NULL=new z0,i})();function ag(){return Qu(Br(),ke())}function Qu(i,o){return new rh(Pn(i,o))}let rh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=ag,i})();function Tf(i){return i instanceof rh?i.nativeElement:i}class Ay{}let UC=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function BC(){const i=ke(),a=jn(Br().index,i);return(yi(a)?a:i)[Fn]}(),i})(),jC=(()=>{class i{}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:()=>null}),i})();class G0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const q0=new G0("15.2.8"),ug={},xy="ngOriginalError";function My(i){return i[xy]}class Sf{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&My(o);for(;a&&My(a);)a=My(a);return a||null}}function vu(i){return i instanceof Function?i():i}function X0(i,o,a){let l=i.length;for(;;){const h=i.indexOf(o,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const p=o.length;if(h+p===l||i.charCodeAt(h+p)<=32)return h}a=h+1}}const Ry="ng-template";function Oy(i,o,a){let l=0,h=!0;for(;l<i.length;){let p=i[l++];if("string"==typeof p&&h){const v=i[l++];if(a&&"class"===p&&-1!==X0(v.toLowerCase(),o,0))return!0}else{if(1===p){for(;l<i.length&&"string"==typeof(p=i[l++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function Ny(i){return 4===i.type&&i.value!==Ry}function ih(i,o,a){return o===(4!==i.type||a?i.value:Ry)}function Py(i,o,a){let l=4;const h=i.attrs||[],p=function ew(i){for(let o=0;o<i.length;o++)if(Qi(i[o]))return o;return i.length}(h);let v=!1;for(let b=0;b<o.length;b++){const x=o[b];if("number"!=typeof x){if(!v)if(4&l){if(l=2|1&l,""!==x&&!ih(i,x,a)||""===x&&1===o.length){if(Va(l))return!1;v=!0}}else{const B=8&l?x:o[++b];if(8&l&&null!==i.attrs){if(!Oy(i.attrs,B,a)){if(Va(l))return!1;v=!0}continue}const te=J0(8&l?"class":x,h,Ny(i),a);if(-1===te){if(Va(l))return!1;v=!0;continue}if(""!==B){let de;de=te>p?"":h[te+1].toLowerCase();const Ie=8&l?de:null;if(Ie&&-1!==X0(Ie,B,0)||2&l&&B!==de){if(Va(l))return!1;v=!0}}}}else{if(!v&&!Va(l)&&!Va(x))return!1;if(v&&Va(x))continue;v=!1,l=x|1&l}}return Va(l)||v}function Va(i){return 0==(1&i)}function J0(i,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let p=!1;for(;h<o.length;){const v=o[h];if(v===i)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function tw(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,i)}function xf(i,o,a=!1){for(let l=0;l<o.length;l++)if(Py(i,o[l],a))return!0;return!1}function nw(i,o){return i?":not("+o.trim()+")":o}function KC(i){let o=i[0],a=1,l=2,h="",p=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&l){const b=i[++a];h+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?h+="."+v:4&l&&(h+=" "+v);else""!==h&&!Va(v)&&(o+=nw(p,h),h=""),l=v,p=p||!Va(l);a++}return""!==h&&(o+=nw(p,h)),o}const Un={};function rw(i){iw(Mn(),ke(),Fi()+i,!1)}function iw(i,o,a,l){if(!l)if(3==(3&o[un])){const p=i.preOrderCheckHooks;null!==p&&Ye(o,p,a)}else{const p=i.preOrderHooks;null!==p&&ut(o,p,0,a)}os(a)}function ow(i,o=null,a=null,l){const h=ky(i,o,a,l);return h.resolveInjectorInitializers(),h}function ky(i,o=null,a=null,l,h=new Set){const p=[a||K,Df(i)];return l=l||("object"==typeof i?void 0:Fe(i)),new B0(p,o||og(),l||null,h)}let sh=(()=>{class i{static create(a,l){if(Array.isArray(a))return ow({name:""},l,a,"");{const h=a.name??"";return ow({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=Er,i.NULL=new L0,i.\u0275prov=Xt({token:i,providedIn:"any",factory:()=>En(Kc)}),i.__NG_ELEMENT_ID__=-1,i})();function uh(i,o=zt.Default){const a=ke();return null===a?En(i,o):Md(Br(),a,ce(i),o)}function hw(){throw new Error("invalid")}function fw(i,o){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const p=a[l+1];if(-1!==p){const v=i.data[p];Qa(a[l]),v.contentQueries(2,o[p],p)}}}function hg(i,o,a,l,h,p,v,b,x,B,G){const te=o.blueprint.slice();return te[Zr]=h,te[un]=76|l,(null!==G||i&&1024&i[un])&&(te[un]|=1024),Es(te),te[lr]=te[ds]=i,te[Vr]=a,te[Ao]=v||i&&i[Ao],te[Fn]=b||i&&i[Fn],te[qa]=x||i&&i[qa]||null,te[ro]=B||i&&i[ro]||null,te[li]=p,te[io]=function Hc(){return No++}(),te[Oi]=G,te[ei]=2==o.type?i[ei]:te,te}function Pf(i,o,a,l,h){let p=i.data[o];if(null===p)p=function By(i,o,a,l,h){const p=wl(),v=Oo(),x=i.data[o]=function MA(i,o,a,l,h,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,o,l,h);return null===i.firstChild&&(i.firstChild=x),null!==p&&(v?null==p.child&&null!==x.parent&&(p.child=x):null===p.next&&(p.next=x,x.prev=p)),x}(i,o,a,l,h),function Ou(){return ln.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const v=function Zo(){const i=ln.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return fs(p,!0),p}function kf(i,o,a,l){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(l),i.blueprint.push(l),i.data.push(null);return h}function Xr(i,o,a){Ko(o);try{const l=i.viewQuery;null!==l&&Zy(1,l,a);const h=i.template;null!==h&&gw(i,o,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&fw(i,o),i.staticViewQueries&&Zy(2,i.viewQuery,a);const p=i.components;null!==p&&function pw(i,o){for(let a=0;a<o.length;a++)zl(i,o[a])}(o,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{o[un]&=-5,Ca()}}function Ff(i,o,a,l){const h=o[un];if(128!=(128&h)){Ko(o);try{Es(o),function Pi(i){return ln.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&gw(i,o,a,2,l);const v=3==(3&h);if(v){const B=i.preOrderCheckHooks;null!==B&&Ye(o,B,null)}else{const B=i.preOrderHooks;null!==B&&ut(o,B,0,null),Ct(o,0)}if(function Ls(i){for(let o=Wu(i);null!==o;o=Zu(o)){if(!o[qo])continue;const a=o[ao];for(let l=0;l<a.length;l++){const h=a[l];512&h[un]||ni(h[lr],1),h[un]|=512}}}(o),function wb(i){for(let o=Wu(i);null!==o;o=Zu(o))for(let a=mi;a<o.length;a++){const l=o[a],h=l[Rt];ws(l)&&Ff(h,l,h.template,l[Vr])}}(o),null!==i.contentQueries&&fw(i,o),v){const B=i.contentCheckHooks;null!==B&&Ye(o,B)}else{const B=i.contentHooks;null!==B&&ut(o,B,1),Ct(o,1)}!function db(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)os(~h);else{const p=h,v=a[++l],b=a[++l];Cl(v,p),b(2,o[p])}}}finally{os(-1)}}(i,o);const b=i.components;null!==b&&function hb(i,o){for(let a=0;a<o.length;a++)mg(i,o[a])}(o,b);const x=i.viewQuery;if(null!==x&&Zy(2,x,l),v){const B=i.viewCheckHooks;null!==B&&Ye(o,B)}else{const B=i.viewHooks;null!==B&&ut(o,B,2),Ct(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[un]&=-41,512&o[un]&&(o[un]&=-513,ni(o[lr],-1))}finally{Ca()}}}function gw(i,o,a,l,h){const p=Fi(),v=2&l;try{os(-1),v&&o.length>hr&&iw(i,o,hr,!1),Tt(v?2:0,h),a(l,h)}finally{os(p),Tt(v?3:1,h)}}function jy(i,o,a){if(Ro(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const v=i.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}function mw(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=zy(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function zy(i,o,a,l,h,p,v,b,x,B){const G=hr+l,te=G+h,de=function fb(i,o){const a=[];for(let l=0;l<o;l++)a.push(l<i?null:Un);return a}(G,te),Ie="function"==typeof B?B():B;return de[Rt]={type:i,blueprint:de,template:a,queries:null,viewQuery:b,declTNode:o,data:de.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:Ie,incompleteFirstPass:!1}}function yw(i,o,a,l){const h=Yy(o);null===a?h.push(l):(h.push(a),i.firstCreatePass&&yg(i).push(l,h.length-1))}function vw(i,o,a,l){for(let h in i)if(i.hasOwnProperty(h)){a=null===a?{}:a;const p=i[h];null===l?_w(a,o,h,p):l.hasOwnProperty(h)&&_w(a,o,l[h],p)}return a}function _w(i,o,a,l){i.hasOwnProperty(a)?i[a].push(o,l):i[a]=[o,l]}function Ew(i,o,a,l,h,p){for(let B=0;B<l.length;B++)Jo(bc(a,o),i,l[B].type);!function zn(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,l.length);for(let B=0;B<l.length;B++){const G=l[B];G.providersResolver&&G.providersResolver(G)}let v=!1,b=!1,x=kf(i,o,l.length,null);for(let B=0;B<l.length;B++){const G=l[B];a.mergedAttrs=ba(a.mergedAttrs,G.hostAttrs),pg(i,a,o,x,G),Gy(x,G,h),null!==G.contentQueries&&(a.flags|=4),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(a.flags|=64);const te=G.type.prototype;!v&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(a.index),v=!0),!b&&(te.ngOnChanges||te.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(a.index),b=!0),x++}!function gb(i,o,a){const h=o.directiveEnd,p=i.data,v=o.attrs,b=[];let x=null,B=null;for(let G=o.directiveStart;G<h;G++){const te=p[G],de=a?a.get(te):null,We=de?de.outputs:null;x=vw(te.inputs,G,x,de?de.inputs:null),B=vw(te.outputs,G,B,We);const Et=null===x||null===v||Ny(o)?null:_b(x,G,v);b.push(Et)}null!==x&&(x.hasOwnProperty("class")&&(o.flags|=8),x.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=b,o.inputs=x,o.outputs=B}(i,a,p)}function Ju(i,o,a){const l=a.directiveStart,h=a.directiveEnd,p=a.index,v=function br(){return ln.lFrame.currentDirectiveIndex}();try{os(p);for(let b=l;b<h;b++){const x=i.data[b],B=o[b];Pr(b),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&vr(x,B)}}finally{os(-1),Pr(v)}}function vr(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Fo(i,o,a){o.componentOffset=a,(i.components??(i.components=[])).push(o.index)}function Gy(i,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=i;Zi(o)&&(a[""]=i)}}function pg(i,o,a,l,h){i.data[l]=h;const p=h.factory||(h.factory=R(h.type)),v=new en(p,Zi(h),uh);i.blueprint[l]=v,a[l]=v,function qe(i,o,a,l,h){const p=h.hostBindings;if(p){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const b=~o.index;(function Xu(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(v)!=b&&v.push(b),v.push(a,l,p)}}(i,o,l,kf(i,a,h.hostVars,Un),h)}function yo(i,o,a,l,h,p){const v=Pn(i,o);!function qy(i,o,a,l,h,p,v){if(null==p)i.removeAttribute(o,h,a);else{const b=null==v?rt(p):v(p,l||"",h);i.setAttribute(o,h,b,a)}}(o[Fn],v,p,i.value,a,l,h)}function Wy(i,o,a,l,h,p){const v=p[o];if(null!==v){const b=l.setInput;for(let x=0;x<v.length;){const B=v[x++],G=v[x++],te=v[x++];null!==b?l.setInput(a,te,B,G):a[G]=te}}}function _b(i,o,a){let l=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===l&&(l=[]);const v=i[p];for(let b=0;b<v.length;b+=2)if(v[b]===o){l.push(p,v[b+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function mg(i,o){const a=jn(o,i);if(ws(a)){const l=a[Rt];48&a[un]?Ff(l,a,l.template,a[Vr]):a[no]>0&&es(a)}}function es(i){for(let l=Wu(i);null!==l;l=Zu(l))for(let h=mi;h<l.length;h++){const p=l[h];if(ws(p))if(512&p[un]){const v=p[Rt];Ff(v,p,v.template,p[Vr])}else p[no]>0&&es(p)}const a=i[Rt].components;if(null!==a)for(let l=0;l<a.length;l++){const h=jn(a[l],i);ws(h)&&h[no]>0&&es(h)}}function zl(i,o){const a=jn(o,i),l=a[Rt];(function Eb(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(l,a),Xr(l,a,a[Vr])}function Lf(i,o){return i[Ur]?i[Go][Xn]=o:i[Ur]=o,i[Go]=o,o}function lh(i){for(;i;){i[un]|=32;const o=Hd(i);if(uo(i)&&!o)return i;i=o}return null}function Vf(i,o,a,l=!0){const h=o[Ao];h.begin&&h.begin();try{Ff(i,o,i.template,a)}catch(v){throw l&&Ua(o,v),v}finally{h.end&&h.end()}}function Zy(i,o,a){Qa(0),o(i,a)}function Yy(i){return i[So]||(i[So]=[])}function yg(i){return i.cleanup||(i.cleanup=[])}function Ua(i,o){const a=i[ro],l=a?a.get(Sf,null):null;l&&l.handleError(o)}function Bf(i,o,a,l,h){for(let p=0;p<a.length;){const v=a[p++],b=a[p++],x=o[v],B=i.data[v];null!==B.setInput?B.setInput(x,h,l,b):x[b]=h}}function vg(i,o,a){let l=a?i.styles:null,h=a?i.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const b=o[v];"number"==typeof b?p=b:1==p?h=Le(h,b):2==p&&(l=Le(l,b+": "+o[++v]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}function el(i,o,a,l,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(Wn(p)),_s(p))for(let b=mi;b<p.length;b++){const x=p[b],B=x[Rt].firstChild;null!==B&&el(x[Rt],x,B,l)}const v=a.type;if(8&v)el(i,o,a.child,l);else if(32&v){const b=Ji(a,o);let x;for(;x=b();)l.push(x)}else if(16&v){const b=$l(o,a);if(Array.isArray(b))l.push(...b);else{const x=Hd(o[ei]);el(x[Rt],x,b,l,!0)}}a=h?a.projectionNext:a.next}return l}class ch{get rootNodes(){const o=this._lView,a=o[Rt];return el(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vr]}set context(o){this._lView[Vr]=o}get destroyed(){return 128==(128&this._lView[un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[lr];if(_s(o)){const a=o[oo],l=a?a.indexOf(this):-1;l>-1&&($(o,l),Vu(a,l))}this._attachedToViewContainer=!1}Z(this._lView[Rt],this._lView)}onDestroy(o){yw(this._lView[Rt],this._lView,null,o)}markForCheck(){lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[un]&=-65}reattach(){this._lView[un]|=64}detectChanges(){Vf(this._lView[Rt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ff(i,o){mf(i,o,o[Fn],2,null,null)}(this._lView[Rt],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=o}}class Qy extends ch{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Vf(o[Rt],o,o[Vr],!1)}checkNoChanges(){}get context(){return null}}class Xy extends nh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Gt(o);return new Xc(a,this.ngModule)}}function Cw(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class _g{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=zr(l);const h=this.injector.get(o,ug,l);return h!==ug||a===ug?h:this.parentInjector.get(o,a,l)}}class Xc extends $0{get inputs(){return Cw(this.componentDef.inputs)}get outputs(){return Cw(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function YC(i){return i.map(KC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,h){let p=(h=h||this.ngModule)instanceof Yc?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new _g(o,p):o,b=v.get(Ay,null);if(null===b)throw new Ne(407,!1);const x=v.get(jC,null),B=b.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",te=l?function pb(i,o,a){return i.selectRootElement(o,a===k.ShadowDom)}(B,l,this.componentDef.encapsulation):hf(B,G,function bw(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(G)),de=this.componentDef.onPush?288:272,Ie=zy(0,null,null,1,0,null,null,null,null,null),We=hg(null,Ie,null,de,null,null,b,B,x,v,null);let Et,Ft;Ko(We);try{const xt=this.componentDef;let Rn,ft=null;xt.findHostDirectiveDefs?(Rn=[],ft=new Map,xt.findHostDirectiveDefs(xt,Rn,ft),Rn.push(xt)):Rn=[xt];const Gn=function Ib(i,o){const a=i[Rt],l=hr;return i[l]=o,Pf(a,l,2,"#host",null)}(We,te),fi=function Cb(i,o,a,l,h,p,v,b){const x=h[Rt];!function ev(i,o,a,l){for(const h of i)o.mergedAttrs=ba(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(vg(o,o.mergedAttrs,!0),null!==a&&Zd(l,a,o))}(l,i,o,v);const B=p.createRenderer(o,a),G=hg(h,mw(a),null,a.onPush?32:16,h[i.index],i,p,B,b||null,null,null);return x.firstCreatePass&&Fo(x,i,l.length-1),Lf(h,G),h[i.index]=G}(Gn,te,xt,Rn,We,b,B);Ft=vi(Ie,hr),te&&function bb(i,o,a,l){if(l)Os(i,a,["ng-version",q0.full]);else{const{attrs:h,classes:p}=function QC(i){const o=[],a=[];let l=1,h=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===h?""!==p&&o.push(p,i[++l]):8===h&&a.push(p);else{if(!Va(h))break;h=p}l++}return{attrs:o,classes:a}}(o.selectors[0]);h&&Os(i,a,h),p&&p.length>0&&Ku(i,a,p.join(" "))}}(B,xt,te,l),void 0!==a&&function jf(i,o,a){const l=i.projection=[];for(let h=0;h<o.length;h++){const p=a[h];l.push(null!=p?Array.from(p):null)}}(Ft,this.ngContentSelectors,a),Et=function Tw(i,o,a,l,h,p){const v=Br(),b=h[Rt],x=Pn(v,h);Ew(b,h,v,a,null,l);for(let G=0;G<a.length;G++)fe(Gr(h,b,v.directiveStart+G,v),h);Ju(b,h,v),x&&fe(x,h);const B=Gr(h,b,v.directiveStart+v.componentOffset,v);if(i[Vr]=h[Vr]=B,null!==p)for(const G of p)G(B,o);return jy(b,v,i),B}(fi,xt,Rn,ft,We,[Db]),Xr(Ie,We,null)}finally{Ca()}return new Jy(this.componentType,Et,Qu(Ft,We),We,Ft)}}class Jy extends LC{constructor(o,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Qy(h),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){const p=this._rootLView;Bf(p[Rt],p,h,o,a),lh(jn(this._tNode.index,p))}}get injector(){return new iu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Db(){const i=Br();ye(ke()[Rt],i)}function tv(i){let o=function dh(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;o;){let h;if(Zi(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ne(903,!1);h=o.\u0275dir}if(h){if(a){l.push(h);const v=i;v.inputs=hh(i.inputs),v.declaredInputs=hh(i.declaredInputs),v.outputs=hh(i.outputs);const b=h.hostBindings;b&&Aw(i,b);const x=h.viewQuery,B=h.contentQueries;if(x&&nv(i,x),B&&Sw(i,B),Be(i.inputs,h.inputs),Be(i.declaredInputs,h.declaredInputs),Be(i.outputs,h.outputs),Zi(h)&&h.data.animation){const G=i.data;G.animation=(G.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const b=p[v];b&&b.ngInherit&&b(i),b===tv&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Tb(i){let o=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=o+=h.hostVars,h.hostAttrs=ba(h.hostAttrs,a=ba(a,h.hostAttrs))}}(l)}function hh(i){return i===F?{}:i===K?[]:i}function nv(i,o){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function Sw(i,o){const a=i.contentQueries;i.contentQueries=a?(l,h,p)=>{o(l,h,p),a(l,h,p)}:o}function Aw(i,o){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}function $f(i){return!!ov(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function ov(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function _r(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function uv(i,o,a,l){const h=ke();return _r(h,wi(),o)&&(Mn(),yo(Dr(),h,i,o,a,l)),uv}function hv(i,o,a){const l=ke();return _r(l,wi(),o)&&function Ks(i,o,a,l,h,p,v,b){const x=Pn(o,a);let G,B=o.inputs;!b&&null!=B&&(G=B[l])?(Bf(i,a,G,l,h),Wa(o)&&function mb(i,o){const a=jn(o,i);16&a[un]||(a[un]|=32)}(a,o.index)):3&o.type&&(l=function qr(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=v?v(h,o.value||"",l):h,p.setProperty(x,l,h))}(Mn(),Dr(),l,i,o,l[Fn],a,!1),hv}function fv(i,o,a,l,h){const v=h?"class":"style";Bf(i,a,o.inputs[v],v,l)}function zf(i,o,a,l){const h=ke(),p=Mn(),v=hr+i,b=h[Fn],x=p.firstCreatePass?function id(i,o,a,l,h,p){const v=o.consts,x=Pf(o,i,2,l,zi(v,h));return function ww(i,o,a,l){if(sr()){const h=null===l?null:{"":-1},p=function vb(i,o){const a=i.directiveRegistry;let l=null,h=null;if(a)for(let p=0;p<a.length;p++){const v=a[p];if(xf(o,v.selectors,!1))if(l||(l=[]),Zi(v))if(null!==v.findHostDirectiveDefs){const b=[];h=h||new Map,v.findHostDirectiveDefs(v,b,h),l.unshift(...b,v),Fo(i,o,b.length)}else l.unshift(v),Fo(i,o,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,l,h),l.push(v)}return null===l?null:[l,h]}(i,a);let v,b;null===p?v=b=null:[v,b]=p,null!==v&&Ew(i,o,a,v,h,b),h&&function $t(i,o,a){if(o){const l=i.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Ne(-301,!1);l.push(o[h],p)}}}(a,l,h)}a.mergedAttrs=ba(a.mergedAttrs,a.attrs)}(o,a,x,zi(v,p)),null!==x.attrs&&vg(x,x.attrs,!1),null!==x.mergedAttrs&&vg(x,x.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,x),x}(v,p,h,o,a,l):p.data[v],B=h[v]=hf(b,o,function he(){return ln.lFrame.currentNamespace}()),G=ga(x);return fs(x,!0),Zd(b,B,x),32!=(32&x.flags)&&jl(p,h,B,x),0===function Ka(){return ln.lFrame.elementDepthCount}()&&fe(B,h),function $s(){ln.lFrame.elementDepthCount++}(),G&&(function $y(i,o,a){sr()&&(function fg(i,o,a,l){const h=a.directiveStart,p=a.directiveEnd;Wa(a)&&function gg(i,o,a){const l=Pn(o,i),h=mw(a),p=i[Ao],v=Lf(i,hg(i,h,null,a.onPush?32:16,l,o,p,p.createRenderer(l,a),null,null,null));i[o.index]=v}(o,a,i.data[h+a.componentOffset]),i.firstCreatePass||bc(a,o),fe(l,o);const v=a.initialInputs;for(let b=h;b<p;b++){const x=i.data[b],B=Gr(o,i,b,a);fe(B,o),null!==v&&Wy(0,b-h,B,x,0,v),Zi(x)&&(jn(a.index,o)[Vr]=Gr(o,i,b,a))}}(i,o,a,Pn(a,o)),64==(64&a.flags)&&Ju(i,o,a))}(p,h,x),jy(p,x,h)),null!==l&&function Hy(i,o,a=Pn){const l=o.localNames;if(null!==l){let h=o.index+1;for(let p=0;p<l.length;p+=2){const v=l[p+1],b=-1===v?a(o,i):i[v];i[h++]=b}}}(h,x),zf}function sd(){let i=Br();Oo()?function El(){ln.lFrame.isParent=!1}():(i=i.parent,fs(i,!1));const o=i;!function va(){ln.lFrame.elementDepthCount--}();const a=Mn();return a.firstCreatePass&&(ye(a,i),Ro(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function kr(i){return 0!=(8&i.flags)}(o)&&fv(a,o,ke(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function qi(i){return 0!=(16&i.flags)}(o)&&fv(a,o,ke(),o.stylesWithoutHost,!1),sd}function Tg(i,o,a,l){return zf(i,o,a,l),sd(),Tg}function _h(i){return!!i&&"function"==typeof i.then}function gv(i){return!!i&&"function"==typeof i.subscribe}const Ag=gv;function xg(i,o,a,l){const h=ke(),p=Mn(),v=Br();return function Mg(i,o,a,l,h,p,v){const b=ga(l),B=i.firstCreatePass&&yg(i),G=o[Vr],te=Yy(o);let de=!0;if(3&l.type||v){const Et=Pn(l,o),Ft=v?v(Et):Et,xt=te.length,Rn=v?Gn=>v(Wn(Gn[l.index])):l.index;let ft=null;if(!v&&b&&(ft=function Wf(i,o,a,l){const h=i.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===a&&h[p+1]===l){const b=o[So],x=h[p+2];return b.length>x?b[x]:null}"string"==typeof v&&(p+=2)}return null}(i,o,h,l.index)),null!==ft)(ft.__ngLastListenerFn__||ft).__ngNextListenerFn__=p,ft.__ngLastListenerFn__=p,de=!1;else{p=Og(l,o,G,p,!1);const Gn=a.listen(Ft,h,p);te.push(p,Gn),B&&B.push(h,Rn,xt,xt+1)}}else p=Og(l,o,G,p,!1);const Ie=l.outputs;let We;if(de&&null!==Ie&&(We=Ie[h])){const Et=We.length;if(Et)for(let Ft=0;Ft<Et;Ft+=2){const fi=o[We[Ft]][We[Ft+1]].subscribe(p),Ai=te.length;te.push(p,fi),B&&B.push(h,l.index,Ai,-(Ai+1))}}}(p,h,h[Fn],v,i,o,l),xg}function Rg(i,o,a,l){try{return Tt(6,o,a),!1!==a(l)}catch(h){return Ua(i,h),!1}finally{Tt(7,o,a)}}function Og(i,o,a,l,h){return function p(v){if(v===Function)return l;lh(i.componentOffset>-1?jn(i.index,o):o);let x=Rg(o,a,l,v),B=p.__ngNextListenerFn__;for(;B;)x=Rg(o,a,B,v)&&x,B=B.__ngNextListenerFn__;return h&&!1===x&&(v.preventDefault(),v.returnValue=!1),x}}function Wl(i,o){return i<<17|o<<2}function _o(i){return i>>17&32767}function Iv(i){return 2|i}function Zl(i){return(131068&i)>>2}function Fg(i,o){return-131069&i|o<<2}function tl(i){return 1|i}function ii(i,o,a,l,h){const p=i[a+1],v=null===o;let b=l?_o(p):Zl(p),x=!1;for(;0!==b&&(!1===x||v);){const G=i[b+1];Vg(i[b],o)&&(x=!0,i[b+1]=l?tl(G):Iv(G)),b=l?_o(G):Zl(G)}x&&(i[a+1]=l?Iv(p):tl(p))}function Vg(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&Hs(i,o)>=0}function Ug(i,o){return function Lo(i,o,a,l){const h=ke(),p=Mn(),v=function Is(i){const o=ln.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);p.firstUpdatePass&&function Bg(i,o,a,l){const h=i.data;if(null===h[a+1]){const p=h[Fi()],v=function Dv(i,o){return o>=i.expandoStartIndex}(i,a);(function Kw(i,o){return 0!=(i.flags&(o?8:16))})(p,l)&&null===o&&!v&&(o=!1),o=function Fb(i,o,a,l){const h=function Yi(i){const o=ln.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let p=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=Ql(a=ad(null,i,o,a,l),o.attrs,l),p=null);else{const v=o.directiveStylingLast;if(-1===v||i[v]!==h)if(a=ad(h,i,o,a,l),null===p){let x=function Lb(i,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Zl(l))return i[_o(l)]}(i,o,l);void 0!==x&&Array.isArray(x)&&(x=ad(null,i,o,x[1],l),x=Ql(x,o.attrs,l),function Vb(i,o,a,l){i[_o(a?o.classBindings:o.styleBindings)]=l}(i,o,l,x))}else p=function jg(i,o,a){let l;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)l=Ql(l,i[p].hostAttrs,a);return Ql(l,o.attrs,a)}(i,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,l),function Lg(i,o,a,l,h,p){let v=p?o.classBindings:o.styleBindings,b=_o(v),x=Zl(v);i[l]=a;let G,B=!1;if(Array.isArray(a)?(G=a[1],(null===G||Hs(a,G)>0)&&(B=!0)):G=a,h)if(0!==x){const de=_o(i[b+1]);i[l+1]=Wl(de,b),0!==de&&(i[de+1]=Fg(i[de+1],l)),i[b+1]=function Ob(i,o){return 131071&i|o<<17}(i[b+1],l)}else i[l+1]=Wl(b,0),0!==b&&(i[b+1]=Fg(i[b+1],l)),b=l;else i[l+1]=Wl(x,0),0===b?b=l:i[x+1]=Fg(i[x+1],l),x=l;B&&(i[l+1]=Iv(i[l+1])),ii(i,G,l,!0),ii(i,G,l,!1),function Vw(i,o,a,l,h){const p=h?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof o&&Hs(p,o)>=0&&(a[l+1]=tl(a[l+1]))}(o,G,i,l,p),v=Wl(b,x),p?o.classBindings=v:o.styleBindings=v}(h,p,o,a,v,l)}}(p,i,v,l),o!==Un&&_r(h,v,o)&&function Zw(i,o,a,l,h,p,v,b){if(!(3&o.type))return;const x=i.data,B=x[b+1],G=function Nb(i){return 1==(1&i)}(B)?Ti(x,o,a,h,Zl(B),v):void 0;Xf(G)||(Xf(p)||function Ev(i){return 2==(2&i)}(B)&&(p=Ti(x,null,a,h,b,v)),function mu(i,o,a,l,h){if(o)h?i.addClass(a,l):i.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:vn.DashCase;null==h?i.removeStyle(a,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=vn.Important),i.setStyle(a,l,h,p))}}(l,v,ti(Fi(),a),h,p))}(p,p.data[Fi()],h,h[Fn],i,h[v+1]=function Ub(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=Fe(yu(i)))),i}(o,a),l,v)}(i,o,null,!0),Ug}function ad(i,o,a,l,h){let p=null;const v=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<v&&(p=o[b],l=Ql(l,p.hostAttrs,h),p!==i);)b++;return null!==i&&(a.directiveStylingLast=b),l}function Ql(i,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const v=o[p];"number"==typeof v?h=v:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Ns(i,v,!!a||o[++p]))}return void 0===i?null:i}function Ti(i,o,a,l,h,p){const v=null===o;let b;for(;h>0;){const x=i[h],B=Array.isArray(x),G=B?x[1]:x,te=null===G;let de=a[h+1];de===Un&&(de=te?K:void 0);let Ie=te?cr(de,l):G===l?de:void 0;if(B&&!Xf(Ie)&&(Ie=cr(x,l)),Xf(Ie)&&(b=Ie,v))return b;const We=i[h+1];h=v?_o(We):Zl(We)}if(null!==o){let x=p?o.residualClasses:o.residualStyles;null!=x&&(b=cr(x,l))}return b}function Xf(i){return void 0!==i}function Yw(i,o=""){const a=ke(),l=Mn(),h=i+hr,p=l.firstCreatePass?Pf(l,h,1,o,null):l.data[h],v=a[h]=function Bl(i,o){return i.createText(o)}(a[Fn],o);jl(l,a,v,p),fs(p,!1)}function $g(i){return Hg("",i,""),$g}function Hg(i,o,a){const l=ke(),h=function td(i,o,a,l){return _r(i,wi(),a)?o+rt(a)+l:Un}(l,i,o,a);return h!==Un&&function wu(i,o,a){const l=ti(o,i);!function df(i,o,a){i.setValue(o,a)}(i[Fn],l,a)}(l,Fi(),h),Hg}const dr=void 0;var Bv=["en",[["a","p"],["AM","PM"],dr],[["AM","PM"],dr,dr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dr,"{1} 'at' {0}",dr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jb(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Qs={};function np(i){const o=function xs(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=jv(o);if(a)return a;const l=o.split("-")[0];if(a=jv(l),a)return a;if("en"===l)return Bv;throw new Ne(701,!1)}function Kg(i){return np(i)[rn.PluralCase]}function jv(i){return i in Qs||(Qs[i]=kn.ng&&kn.ng.common&&kn.ng.common.locales&&kn.ng.common.locales[i]),Qs[i]}var rn=(()=>((rn=rn||{})[rn.LocaleId=0]="LocaleId",rn[rn.DayPeriodsFormat=1]="DayPeriodsFormat",rn[rn.DayPeriodsStandalone=2]="DayPeriodsStandalone",rn[rn.DaysFormat=3]="DaysFormat",rn[rn.DaysStandalone=4]="DaysStandalone",rn[rn.MonthsFormat=5]="MonthsFormat",rn[rn.MonthsStandalone=6]="MonthsStandalone",rn[rn.Eras=7]="Eras",rn[rn.FirstDayOfWeek=8]="FirstDayOfWeek",rn[rn.WeekendRange=9]="WeekendRange",rn[rn.DateFormat=10]="DateFormat",rn[rn.TimeFormat=11]="TimeFormat",rn[rn.DateTimeFormat=12]="DateTimeFormat",rn[rn.NumberSymbols=13]="NumberSymbols",rn[rn.NumberFormats=14]="NumberFormats",rn[rn.CurrencyCode=15]="CurrencyCode",rn[rn.CurrencySymbol=16]="CurrencySymbol",rn[rn.CurrencyName=17]="CurrencyName",rn[rn.Currencies=18]="Currencies",rn[rn.Directionality=19]="Directionality",rn[rn.PluralCase=20]="PluralCase",rn[rn.ExtraData=21]="ExtraData",rn))();const bu="en-US";let Jg=bu;function om(i,o,a,l,h){if(i=ce(i),Array.isArray(i))for(let p=0;p<i.length;p++)om(i[p],o,a,l,h);else{const p=Mn(),v=ke();let b=Yu(i)?i:ce(i.provide),x=by(i);const B=Br(),G=1048575&B.providerIndexes,te=B.directiveStart,de=B.providerIndexes>>20;if(Yu(i)||!i.multi){const Ie=new en(x,h,uh),We=t_(b,o,h?G:G+de,te);-1===We?(Jo(bc(B,v),p,b),e_(p,i,o.length),o.push(b),B.directiveStart++,B.directiveEnd++,h&&(B.providerIndexes+=1048576),a.push(Ie),v.push(Ie)):(a[We]=Ie,v[We]=Ie)}else{const Ie=t_(b,o,G+de,te),We=t_(b,o,G,G+de),Ft=We>=0&&a[We];if(h&&!Ft||!h&&!(Ie>=0&&a[Ie])){Jo(bc(B,v),p,b);const xt=function rD(i,o,a,l,h){const p=new en(i,a,uh);return p.multi=[],p.index=o,p.componentProviders=0,vE(p,h,l&&!a),p}(h?nD:tD,a.length,h,l,x);!h&&Ft&&(a[We].providerFactory=xt),e_(p,i,o.length,0),o.push(b),B.directiveStart++,B.directiveEnd++,h&&(B.providerIndexes+=1048576),a.push(xt),v.push(xt)}else e_(p,i,Ie>-1?Ie:We,vE(a[h?We:Ie],x,!h&&l));!h&&l&&Ft&&a[We].componentProviders++}}}function e_(i,o,a,l){const h=Yu(o),p=function ig(i){return!!i.useClass}(o);if(h||p){const x=(p?ce(o.useClass):o).prototype.ngOnDestroy;if(x){const B=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const G=B.indexOf(a);-1===G?B.push(a,[l,x]):B[G+1].push(l,x)}else B.push(a,x)}}}function vE(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function t_(i,o,a,l){for(let h=a;h<l;h++)if(o[h]===i)return h;return-1}function tD(i,o,a,l){return n_(this.multi,[])}function nD(i,o,a,l){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=Gr(a,a[Rt],this.providerFactory.index,l);p=b.slice(0,v),n_(h,p);for(let x=v;x<b.length;x++)p.push(b[x])}else p=[],n_(h,p);return p}function n_(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function _E(i,o=[]){return a=>{a.providersResolver=(l,h)=>function sm(i,o,a){const l=Mn();if(l.firstCreatePass){const h=Zi(i);om(a,l.data,l.blueprint,h,!0),om(o,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,o)}}class Ah{}class wE{}function iD(i,o){return new EE(i,o??null)}class EE extends Ah{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xy(this);const l=ui(o);this._bootstrapComponents=vu(l.bootstrap),this._r3Injector=ky(o,a,[{provide:Ah,useValue:this},{provide:nh,useValue:this.componentFactoryResolver}],Fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class r_ extends wE{constructor(o){super(),this.moduleType=o}create(o){return new EE(this.moduleType,o)}}class sD extends Ah{constructor(o,a,l){super(),this.componentFactoryResolver=new Xy(this),this.instance=null;const h=new B0([...o,{provide:Ah,useValue:this},{provide:nh,useValue:this.componentFactoryResolver}],a||og(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function am(i,o,a=null){return new sD(i,o,a).injector}let oD=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Jd(0,a.type),h=l.length>0?am([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Xt({token:i,providedIn:"environment",factory:()=>new i(En(Yc))}),i})();function i_(i){i.getStandaloneInjector=o=>o.get(oD).getOrCreateStandaloneInjector(i)}function bE(i,o,a){const l=function _i(){const i=ln.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}()+i,h=ke();return h[l]===Un?function la(i,o,a){return i[o]=a}(h,l,a?o.call(a):o()):function Jc(i,o){return i[o]}(h,l)}function fm(i){return o=>{setTimeout(i,void 0,o)}}const Tu=class gp extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,p=a||(()=>null),v=l;if(o&&"object"==typeof o){const x=o;h=x.next?.bind(x),p=x.error?.bind(x),v=x.complete?.bind(x)}this.__isAsync&&(p=fm(p),h&&(h=fm(h)),v&&(v=fm(v)));const b=super.subscribe({next:h,error:p,complete:v});return o instanceof J.w0&&o.add(b),b}};function cD(){return this._results[Symbol.iterator]()}class pm{get changes(){return this._changes||(this._changes=new Tu)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=pm.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=cD)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=function bs(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Rc(i,o,a){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],p=o[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Oh=(()=>{class i{}return i.__NG_ELEMENT_ID__=si,i})();const Ms=Oh,SE=class extends Ms{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tView,h=hg(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);h[xo]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[ci];return null!==v&&(h[ci]=v.createEmbeddedView(l)),Xr(l,h,o),new ch(h)}};function si(){return $a(Br(),ke())}function $a(i,o){return 4&i.type?new SE(o,i,Qu(i,o)):null}let mp=(()=>{class i{}return i.__NG_ELEMENT_ID__=AE,i})();function AE(){return Fr(Br(),ke())}const Nh=mp,xE=class extends Nh{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Qu(this._hostTNode,this._hostLView)}get injector(){return new iu(this._hostTNode,this._hostLView)}get parentInjector(){const o=ri(this._hostTNode,this._hostLView);if(Da(o)){const a=Pu(o,this._hostLView),l=nu(o);return new iu(a[Rt].data[l+8],a)}return new iu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=d_(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-mi}createEmbeddedView(o,a,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const v=o.createEmbeddedView(a||{},p);return this.insert(v,h),v}createComponent(o,a,l,h,p){const v=o&&!function Rl(i){return"function"==typeof i}(o);let b;if(v)b=a;else{const te=a||{};b=te.index,l=te.injector,h=te.projectableNodes,p=te.environmentInjector||te.ngModuleRef}const x=v?o:new Xc(Gt(o)),B=l||this.parentInjector;if(!p&&null==x.ngModule){const de=(v?B:this.parentInjector).get(Yc,null);de&&(p=de)}const G=x.create(B,h,void 0,p);return this.insert(G.hostView,b),G}insert(o,a){const l=o._lView,h=l[Rt];if(function Ki(i){return _s(i[lr])}(l)){const G=this.indexOf(o);if(-1!==G)this.detach(G);else{const te=l[lr],de=new xE(te,te[li],te[lr]);de.detach(de.indexOf(o))}}const p=this._adjustIndex(a),v=this._lContainer;!function f(i,o,a,l){const h=mi+l,p=a.length;l>0&&(a[h-1][Xn]=o),l<p-mi?(o[Xn]=a[h],Oc(a,mi+l,o)):(a.push(o),o[Xn]=null),o[lr]=a;const v=o[xo];null!==v&&a!==v&&function m(i,o){const a=i[ao];o[ei]!==o[lr][lr][ei]&&(i[qo]=!0),null===a?i[ao]=[o]:a.push(o)}(v,o);const b=o[ci];null!==b&&b.insertView(i),o[un]|=64}(h,l,v,p);const b=gu(p,v),x=l[Fn],B=Po(x,v[so]);return null!==B&&function iy(i,o,a,l,h,p){l[Zr]=h,l[li]=o,mf(i,l,a,1,h,p)}(h,v[li],x,l,B,b),o.attachToViewContainerRef(),Oc(nr(v),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=d_(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=$(this._lContainer,a);l&&(Vu(nr(this._lContainer),a),Z(l[Rt],l))}detach(o){const a=this._adjustIndex(o,-1),l=$(this._lContainer,a);return l&&null!=Vu(nr(this._lContainer),a)?new ch(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function d_(i){return i[oo]}function nr(i){return i[oo]||(i[oo]=[])}function Fr(i,o){let a;const l=o[i.index];if(_s(l))a=l;else{let h;if(8&i.type)h=Wn(l);else{const p=o[Fn];h=p.createComment("");const v=Pn(i,o);$n(p,Po(p,v),h,function pf(i,o){return i.nextSibling(o)}(p,v),!1)}o[i.index]=a=function Iw(i,o,a,l){return[i,!0,!1,o,null,0,l,a,null,null]}(l,o,h,i),Lf(o,a)}return new xE(a,i,o)}class oc{constructor(o){this.queryList=o,this.matches=null}clone(){return new oc(this.queryList)}setDirty(){this.queryList.setDirty()}}class yp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const v=a.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new yp(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Ph(o,a).matches&&this.queries[a].setDirty()}}class gm{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class mm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new mm(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class vp{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new vp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(o,a,ME(a,p)),this.matchTNodeWithReadOption(o,a,ru(a,o,p,!1,!1))}else l===Oh?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,ru(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===rh||h===mp||h===Oh&&4&a.type)this.addMatch(a.index,-2);else{const p=ru(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function ME(i,o){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function OE(i,o,a,l){return-1===a?function RE(i,o){return 11&i.type?Qu(i,o):4&i.type?$a(i,o):null}(o,i):-2===a?function dD(i,o,a){return a===rh?Qu(o,i):a===Oh?$a(o,i):a===mp?Fr(o,i):void 0}(i,o,l):Gr(i,i[Rt],a,o)}function NE(i,o,a,l){const h=o[ci].queries[l];if(null===h.matches){const p=i.data,v=a.matches,b=[];for(let x=0;x<v.length;x+=2){const B=v[x];b.push(B<0?null:OE(o,p[B],v[x+1],a.metadata.read))}h.matches=b}return h.matches}function h_(i,o,a,l){const h=i.queries.getByIndex(a),p=h.matches;if(null!==p){const v=NE(i,o,h,a);for(let b=0;b<p.length;b+=2){const x=p[b];if(x>0)l.push(v[b/2]);else{const B=p[b+1],G=o[-x];for(let te=mi;te<G.length;te++){const de=G[te];de[xo]===de[lr]&&h_(de[Rt],de,B,l)}if(null!==G[ao]){const te=G[ao];for(let de=0;de<te.length;de++){const Ie=te[de];h_(Ie[Rt],Ie,B,l)}}}}}return l}function f_(i){const o=ke(),a=Mn(),l=ki();Qa(l+1);const h=Ph(a,l);if(i.dirty&&function js(i){return 4==(4&i[un])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const p=h.crossesNgTemplate?h_(a,o,l,[]):NE(a,o,h,l);i.reset(p,Tf),i.notifyOnChanges()}return!0}return!1}function p_(i,o,a,l){const h=Mn();if(h.firstCreatePass){const p=Br();(function ym(i,o,a){null===i.queries&&(i.queries=new mm),i.queries.track(new vp(o,a))})(h,new gm(o,a,l),p.index),function fd(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function kE(i,o,a){const l=new pm(4==(4&a));yw(i,o,l,l.destroy),null===o[ci]&&(o[ci]=new yp),o[ci].queries.push(new oc(l))}(h,ke(),a)}function PE(){return function fD(i,o){return i[ci].queries[o].queryList}(ke(),ki())}function Ph(i,o){return i.queries.getByIndex(o)}function wp(i){return!!ui(i)}function Dp(...i){}const Au=new er("Application Initializer");let Sp=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Dp,this.reject=Dp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(_h(p))a.push(p);else if(Ag(p)){const v=new Promise((b,x)=>{p.subscribe({complete:b,error:x})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(En(Au,8))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const S_=new er("AppId",{providedIn:"root",factory:function A_(){return`${xp()}${xp()}${xp()}`}});function xp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Dm=new er("Platform Initializer"),x_=new er("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let _D=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const or=new er("LocaleId",{providedIn:"root",factory:()=>yt(or,zt.Optional|zt.SkipSelf)||function ns(){return typeof $localize<"u"&&$localize.locale||bu}()}),WE=new er("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class KE{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let ED=(()=>{class i{compileModuleSync(a){return new r_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=vu(ui(a).declarations).reduce((v,b)=>{const x=Gt(b);return x&&v.push(new Xc(x)),v},[]);return new KE(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const QE=(()=>Promise.resolve(0))();function Sm(i){typeof Zone>"u"?QE.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Bo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tu(!1),this.onMicrotaskEmpty=new Tu(!1),this.onStable=new Tu(!1),this.onError=new Tu(!1),typeof Zone>"u")throw new Ne(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function XE(){let i=kn.requestAnimationFrame,o=kn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function bD(i){const o=()=>{!function CD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(kn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,N_(i),i.isCheckStableRunning=!0,O_(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),N_(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,v,b)=>{try{return Am(i),a.invokeTask(h,p,v,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&o(),vd(i)}},onInvoke:(a,l,h,p,v,b,x)=>{try{return Am(i),a.invoke(h,p,v,b,x)}finally{i.shouldCoalesceRunChangeDetection&&o(),vd(i)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,N_(i),O_(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bo.isInAngularZone())throw new Ne(909,!1)}static assertNotInAngularZone(){if(Bo.isInAngularZone())throw new Ne(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,o,JE,Dp,Dp);try{return p.runTask(v,a,l)}finally{p.cancelTask(v)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const JE={};function O_(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function N_(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Am(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function vd(i){i._nesting--,O_(i)}class eI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tu,this.onMicrotaskEmpty=new Tu,this.onStable=new Tu,this.onError=new Tu}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}const tI=new er(""),Hi=new er("");let fa,P_=(()=>{class i{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fa||(function Mp(i){fa=i}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bo.assertNotInAngularZone(),Sm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(En(Bo),En(k_),En(Hi))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})(),k_=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return fa?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const za=!1;let cl=null;const Vh=new er("AllowMultipleToken"),xm=new er("PlatformDestroyListeners"),F_=new er("appBootstrapListener");class Rp{constructor(o,a){this.name=o,this.token=a}}function U_(i,o,a=[]){const l=`Platform: ${o}`,h=new er(l);return(p=[])=>{let v=j_();if(!v||v.injector.get(Vh,!1)){const b=[...a,...p,{provide:h,useValue:!0}];i?i(b):function L_(i){if(cl&&!cl.get(Vh,!1))throw new Ne(400,!1);cl=i;const o=i.get(iI);(function V_(i){const o=i.get(Dm,null);o&&o.forEach(a=>a())})(i)}(function B_(i=[],o){return sh.create({name:o,providers:[{provide:Hl,useValue:"platform"},{provide:xm,useValue:new Set([()=>cl=null])},...i]})}(b,l))}return function SD(i){const o=j_();if(!o)throw new Ne(401,!1);return o}()}}function j_(){return cl?.get(iI)??null}let iI=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function _d(i,o){let a;return a="noop"===i?new eI:("zone.js"===i?void 0:i)||new Bo(o),a}(l?.ngZone,function dl(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:Bo,useValue:h}];return h.run(()=>{const v=sh.create({providers:p,parent:this.injector,name:a.moduleType.name}),b=a.create(v),x=b.injector.get(Sf,null);if(!x)throw new Ne(402,!1);return h.runOutsideAngular(()=>{const B=h.onError.subscribe({next:G=>{x.handleError(G)}});b.onDestroy(()=>{pa(this._modules,b),B.unsubscribe()})}),function $_(i,o,a){try{const l=a();return _h(l)?l.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(x,h,()=>{const B=b.injector.get(Sp);return B.runInitializers(),B.donePromise.then(()=>(function aE(i){Nt(i,"Expected localeId to be defined"),"string"==typeof i&&(Jg=i.toLowerCase().replace(/_/g,"-"))}(b.injector.get(or,bu)||bu),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,l=[]){const h=sI({},l);return function nI(i,o,a){const l=new r_(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(Op);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ne(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(xm,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(En(sh))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function sI(i,o){return Array.isArray(o)?o.reduce(sI,i):{...i,...o}}let Op=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new W.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),v=new W.y(b=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Bo.assertNotInAngularZone(),Sm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{Bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{x.unsubscribe(),B.unsubscribe()}});this.isStable=(0,ge.T)(p,v.pipe((0,Se.B)()))}bootstrap(a,l){const h=a instanceof $0;if(!this._injector.get(Sp).done){!h&&ai(a);throw new Ne(405,za)}let v;v=h?a:this._injector.get(nh).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const b=function DD(i){return i.isBoundToModule}(v)?void 0:this._injector.get(Ah),B=v.create(sh.NULL,[],l||v.selector,b),G=B.location.nativeElement,te=B.injector.get(tI,null);return te?.registerApplication(G),B.onDestroy(()=>{this.detachView(B.hostView),pa(this.components,B),te?.unregisterApplication(G)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new Ne(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;pa(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(F_,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>pa(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ne(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(En(Bo),En(Yc),En(Sf))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function pa(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}function oI(){return!1}function Mm(){}let Np=(()=>{class i{}return i.__NG_ELEMENT_ID__=aI,i})();function aI(i){return function z_(i,o,a){if(Wa(i)&&!a){const l=jn(i.index,o);return new ch(l,l)}return 47&i.type?new ch(o[ei],o):null}(Br(),ke(),16==(16&i))}class Rm{constructor(){}supports(o){return $f(o)}create(o){return new W_(o)}}const fI=(i,o)=>o;class W_{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||fI}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const v=!l||a&&a.currentIndex<gI(l,h,p)?a:l,b=gI(v,h,p),x=v.currentIndex;if(v===l)h--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{p||(p=[]);const B=b-h,G=x-h;if(B!=G){for(let de=0;de<B;de++){const Ie=de<p.length?p[de]:p[de]=0,We=Ie+de;G<=We&&We<B&&(p[de]=Ie+1)}p[v.previousIndex]=G-B}}b!==x&&o(v,b,x)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!$f(o))throw new Ne(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,v,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],v=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,p,v,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,b),l=!0),a=a._next}else h=0,function Ow(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,b=>{v=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,b,v,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,v,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new Z_(a,l),p,h),o}_verifyReinsertion(o,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Lp),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lp),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Z_{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Lp{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new pI,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gI(i,o,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class Om{constructor(){}supports(o){return o instanceof Map||ov(o)}create(){return new Nm}}class Nm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||ov(o)))throw new Ne(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const l=new ND(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class ND{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function K_(){return new Id([new Rm])}let Id=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||K_()),deps:[[i,new gn,new Ma]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new Ne(901,!1)}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:K_}),i})();function jh(){return new Pm([new Om])}let Pm=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||jh()),deps:[[i,new gn,new Ma]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new Ne(901,!1)}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:jh}),i})();const km=U_(null,"core",[]);let yI=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(En(Op))},i.\u0275mod=_e({type:i}),i.\u0275inj=Jn({}),i})();function hc(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(Ut,Je,X)=>{"use strict";X.d(Je,{Z:()=>Qe});var d=X(2090),J=X(4859),W=X(6881),ge=X(1877);class Se{constructor(Ne,Ee){this._delegate=Ne,this.firebase=Ee,(0,W._addComponent)(Ne,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=Ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this._delegate.automaticDataCollectionEnabled=Ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ne=>{this._delegate.checkDestroyed(),Ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Ne,Ee=W._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(Ne);return!it.isInitialized()&&"EXPLICIT"===(null===(rt=it.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&it.initialize(),it.getImmediate({identifier:Ee})}_removeServiceInstance(Ne,Ee=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ne).clearInstance(Ee)}_addComponent(Ne){(0,W._addComponent)(this._delegate,Ne)}_addOrOverwriteComponent(Ne){(0,W._addOrOverwriteComponent)(this._delegate,Ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Be=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function Le(){const nt=function Fe(nt){const Ne={},Ee={__esModule:!0,initializeApp:function He(tt,be={}){const Mt=W.initializeApp(tt,be);if((0,d.r3)(Ne,Mt.name))return Ne[Mt.name];const Wt=new nt(Mt,Ee);return Ne[Mt.name]=Wt,Wt},app:it,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function A(tt){const be=tt.name,Mt=be.replace("-compat","");if(W._registerComponent(tt)&&"PUBLIC"===tt.type){const Wt=(Dt=it())=>{if("function"!=typeof Dt[Mt])throw Be.create("invalid-app-argument",{appName:be});return Dt[Mt]()};void 0!==tt.serviceProps&&(0,d.ZB)(Wt,tt.serviceProps),Ee[Mt]=Wt,nt.prototype[Mt]=function(...Dt){return this._getService.bind(this,be).apply(this,tt.multipleInstances?Dt:[])}}return"PUBLIC"===tt.type?Ee[Mt]:null},removeApp:function rt(tt){delete Ne[tt]},useAsService:function dt(tt,be){return"serverAuth"===be?null:be},modularAPIs:W}};function it(tt){if(!(0,d.r3)(Ne,tt=tt||W._DEFAULT_ENTRY_NAME))throw Be.create("no-app",{appName:tt});return Ne[tt]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function ze(){return Object.keys(Ne).map(tt=>Ne[tt])}}),it.App=nt,Ee}(Se);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:Le,extendNamespace:function Ne(Ee){(0,d.ZB)(nt,Ee)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),nt}(),ie=new ge.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=oe;!function et(nt){(0,W.registerVersion)("@firebase/app-compat","0.2.9",nt)}()},6881:(Ut,Je,X)=>{"use strict";X.r(Je),X.d(Je,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>Ri,_DEFAULT_ENTRY_NAME:()=>Ar,_addComponent:()=>Vt,_addOrOverwriteComponent:()=>wn,_apps:()=>kn,_clearComponents:()=>gi,_components:()=>yn,_getProvider:()=>Hr,_registerComponent:()=>Er,_removeServiceInstance:()=>xr,deleteApp:()=>Ir,getApp:()=>ar,getApps:()=>En,initializeApp:()=>pn,onLog:()=>ir,registerVersion:()=>zr,setLogLevel:()=>M});var d=X(5861),J=X(4859),W=X(1877),ge=X(2090);const Se=(Ae,_e)=>_e.some(at=>Ae instanceof at);let Ce,Be;const oe=new WeakMap,ie=new WeakMap,ce=new WeakMap,$e=new WeakMap,et=new WeakMap;let Ne={get(Ae,_e,at){if(Ae instanceof IDBTransaction){if("done"===_e)return ie.get(Ae);if("objectStoreNames"===_e)return Ae.objectStoreNames||ce.get(Ae);if("store"===_e)return at.objectStoreNames[1]?void 0:at.objectStore(at.objectStoreNames[0])}return He(Ae[_e])},set:(Ae,_e,at)=>(Ae[_e]=at,!0),has:(Ae,_e)=>Ae instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in Ae};function it(Ae){return"function"==typeof Ae?function rt(Ae){return Ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Le(){return Be||(Be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ae)?function(..._e){return Ae.apply(ze(this),_e),He(oe.get(this))}:function(..._e){return He(Ae.apply(ze(this),_e))}:function(_e,...at){const Pt=Ae.call(ze(this),_e,...at);return ce.set(Pt,_e.sort?_e.sort():[_e]),He(Pt)}}(Ae):(Ae instanceof IDBTransaction&&function nt(Ae){if(ie.has(Ae))return;const _e=new Promise((at,Pt)=>{const on=()=>{Ae.removeEventListener("complete",Nn),Ae.removeEventListener("error",Gt),Ae.removeEventListener("abort",Gt)},Nn=()=>{at(),on()},Gt=()=>{Pt(Ae.error||new DOMException("AbortError","AbortError")),on()};Ae.addEventListener("complete",Nn),Ae.addEventListener("error",Gt),Ae.addEventListener("abort",Gt)});ie.set(Ae,_e)}(Ae),Se(Ae,function Fe(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ae,Ne):Ae)}function He(Ae){if(Ae instanceof IDBRequest)return function Qe(Ae){const _e=new Promise((at,Pt)=>{const on=()=>{Ae.removeEventListener("success",Nn),Ae.removeEventListener("error",Gt)},Nn=()=>{at(He(Ae.result)),on()},Gt=()=>{Pt(Ae.error),on()};Ae.addEventListener("success",Nn),Ae.addEventListener("error",Gt)});return _e.then(at=>{at instanceof IDBCursor&&oe.set(at,Ae)}).catch(()=>{}),et.set(_e,Ae),_e}(Ae);if($e.has(Ae))return $e.get(Ae);const _e=it(Ae);return _e!==Ae&&($e.set(Ae,_e),et.set(_e,Ae)),_e}const ze=Ae=>et.get(Ae),tt=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],Mt=new Map;function Wt(Ae,_e){if(!(Ae instanceof IDBDatabase)||_e in Ae||"string"!=typeof _e)return;if(Mt.get(_e))return Mt.get(_e);const at=_e.replace(/FromIndex$/,""),Pt=_e!==at,on=be.includes(at);if(!(at in(Pt?IDBIndex:IDBObjectStore).prototype)||!on&&!tt.includes(at))return;const Nn=function(){var Gt=(0,d.Z)(function*(qn,...Bn){const ai=this.transaction(qn,on?"readwrite":"readonly");let ui=ai.store;return Pt&&(ui=ui.index(Bn.shift())),(yield Promise.all([ui[at](...Bn),on&&ai.done]))[0]});return function(Bn){return Gt.apply(this,arguments)}}();return Mt.set(_e,Nn),Nn}!function Ee(Ae){Ne=Ae(Ne)}(Ae=>({...Ae,get:(_e,at,Pt)=>Wt(_e,at)||Ae.get(_e,at,Pt),has:(_e,at)=>!!Wt(_e,at)||Ae.has(_e,at)}));class Dt{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function fn(Ae){return"VERSION"===Ae.getComponent()?.type}(at)){const Pt=at.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(at=>at).join(" ")}}const Bt="@firebase/app",Ve=new W.Yd("@firebase/app"),Ar="[DEFAULT]",Or={[Bt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},kn=new Map,yn=new Map;function Vt(Ae,_e){try{Ae.container.addComponent(_e)}catch(at){Ve.debug(`Component ${_e.name} failed to register with FirebaseApp ${Ae.name}`,at)}}function wn(Ae,_e){Ae.container.addOrOverwriteComponent(_e)}function Er(Ae){const _e=Ae.name;if(yn.has(_e))return Ve.debug(`There were multiple attempts to register component ${_e}.`),!1;yn.set(_e,Ae);for(const at of kn.values())Vt(at,Ae);return!0}function Hr(Ae,_e){const at=Ae.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),Ae.container.getProvider(_e)}function xr(Ae,_e,at=Ar){Hr(Ae,_e).clearInstance(at)}function gi(){yn.clear()}const Nr=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class On{constructor(_e,at,Pt){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}const Ri="9.21.0";function pn(Ae,_e={}){let at=Ae;"object"!=typeof _e&&(_e={name:_e});const Pt=Object.assign({name:Ar,automaticDataCollectionEnabled:!1},_e),on=Pt.name;if("string"!=typeof on||!on)throw Nr.create("bad-app-name",{appName:String(on)});if(at||(at=(0,ge.aH)()),!at)throw Nr.create("no-options");const Nn=kn.get(on);if(Nn){if((0,ge.vZ)(at,Nn.options)&&(0,ge.vZ)(Pt,Nn.config))return Nn;throw Nr.create("duplicate-app",{appName:on})}const Gt=new J.H0(on);for(const Bn of yn.values())Gt.addComponent(Bn);const qn=new On(at,Pt,Gt);return kn.set(on,qn),qn}function ar(Ae=Ar){const _e=kn.get(Ae);if(!_e&&Ae===Ar)return pn();if(!_e)throw Nr.create("no-app",{appName:Ae});return _e}function En(){return Array.from(kn.values())}function Ir(Ae){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*(Ae){const _e=Ae.name;kn.has(_e)&&(kn.delete(_e),yield Promise.all(Ae.container.getProviders().map(at=>at.delete())),Ae.isDeleted=!0)})).apply(this,arguments)}function zr(Ae,_e,at){var Pt;let on=null!==(Pt=Or[Ae])&&void 0!==Pt?Pt:Ae;at&&(on+=`-${at}`);const Nn=on.match(/\s|\//),Gt=_e.match(/\s|\//);if(Nn||Gt){const qn=[`Unable to register library "${on}" with version "${_e}":`];return Nn&&qn.push(`library name "${on}" contains illegal characters (whitespace or "/")`),Nn&&Gt&&qn.push("and"),Gt&&qn.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void Ve.warn(qn.join(" "))}Er(new J.wA(`${on}-version`,()=>({library:on,version:_e}),"VERSION"))}function ir(Ae,_e){if(null!==Ae&&"function"!=typeof Ae)throw Nr.create("invalid-log-argument");(0,W.Am)(Ae,_e)}function M(Ae){(0,W.Ub)(Ae)}const L="firebase-heartbeat-database",U=1,D="firebase-heartbeat-store";let P=null;function N(){return P||(P=function A(Ae,_e,{blocked:at,upgrade:Pt,blocking:on,terminated:Nn}={}){const Gt=indexedDB.open(Ae,_e),qn=He(Gt);return Pt&&Gt.addEventListener("upgradeneeded",Bn=>{Pt(He(Gt.result),Bn.oldVersion,Bn.newVersion,He(Gt.transaction),Bn)}),at&&Gt.addEventListener("blocked",Bn=>at(Bn.oldVersion,Bn.newVersion,Bn)),qn.then(Bn=>{Nn&&Bn.addEventListener("close",()=>Nn()),on&&Bn.addEventListener("versionchange",ai=>on(ai.oldVersion,ai.newVersion,ai))}).catch(()=>{}),qn}(L,U,{upgrade:(Ae,_e)=>{0===_e&&Ae.createObjectStore(D)}}).catch(Ae=>{throw Nr.create("idb-open",{originalErrorMessage:Ae.message})})),P}function F(){return(F=(0,d.Z)(function*(Ae){try{return(yield N()).transaction(D).objectStore(D).get(me(Ae))}catch(_e){if(_e instanceof ge.ZR)Ve.warn(_e.message);else{const at=Nr.create("idb-get",{originalErrorMessage:_e?.message});Ve.warn(at.message)}}})).apply(this,arguments)}function K(Ae,_e){return ne.apply(this,arguments)}function ne(){return(ne=(0,d.Z)(function*(Ae,_e){try{const Pt=(yield N()).transaction(D,"readwrite");return yield Pt.objectStore(D).put(_e,me(Ae)),Pt.done}catch(at){if(at instanceof ge.ZR)Ve.warn(at.message);else{const Pt=Nr.create("idb-set",{originalErrorMessage:at?.message});Ve.warn(Pt.message)}}})).apply(this,arguments)}function me(Ae){return`${Ae.name}!${Ae.options.appId}`}class Xe{constructor(_e){this.container=_e,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new Jt(at),this._heartbeatsCachePromise=this._storage.read().then(Pt=>(this._heartbeatsCache=Pt,Pt))}triggerHeartbeat(){var _e=this;return(0,d.Z)(function*(){const Pt=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),on=It();if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),_e._heartbeatsCache.lastSentHeartbeatDate!==on&&!_e._heartbeatsCache.heartbeats.some(Nn=>Nn.date===on))return _e._heartbeatsCache.heartbeats.push({date:on,agent:Pt}),_e._heartbeatsCache.heartbeats=_e._heartbeatsCache.heartbeats.filter(Nn=>{const Gt=new Date(Nn.date).valueOf();return Date.now()-Gt<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,d.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache||0===_e._heartbeatsCache.heartbeats.length)return"";const at=It(),{heartbeatsToSend:Pt,unsentEntries:on}=function Tn(Ae,_e=1024){const at=[];let Pt=Ae.slice();for(const on of Ae){const Nn=at.find(Gt=>Gt.agent===on.agent);if(Nn){if(Nn.dates.push(on.date),Qn(at)>_e){Nn.dates.pop();break}}else if(at.push({agent:on.agent,dates:[on.date]}),Qn(at)>_e){at.pop();break}Pt=Pt.slice(1)}return{heartbeatsToSend:at,unsentEntries:Pt}}(_e._heartbeatsCache.heartbeats),Nn=(0,ge.L)(JSON.stringify({version:2,heartbeats:Pt}));return _e._heartbeatsCache.lastSentHeartbeatDate=at,on.length>0?(_e._heartbeatsCache.heartbeats=on,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),Nn})()}}function It(){return(new Date).toISOString().substring(0,10)}class Jt{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ge.hl)()&&(0,ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,d.Z)(function*(){return(yield _e._canUseIndexedDBPromise)&&(yield function k(Ae){return F.apply(this,arguments)}(_e.app))||{heartbeats:[]}})()}overwrite(_e){var at=this;return(0,d.Z)(function*(){var Pt;if(yield at._canUseIndexedDBPromise){const Nn=yield at.read();return K(at.app,{lastSentHeartbeatDate:null!==(Pt=_e.lastSentHeartbeatDate)&&void 0!==Pt?Pt:Nn.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var at=this;return(0,d.Z)(function*(){var Pt;if(yield at._canUseIndexedDBPromise){const Nn=yield at.read();return K(at.app,{lastSentHeartbeatDate:null!==(Pt=_e.lastSentHeartbeatDate)&&void 0!==Pt?Pt:Nn.lastSentHeartbeatDate,heartbeats:[...Nn.heartbeats,..._e.heartbeats]})}})()}}function Qn(Ae){return(0,ge.L)(JSON.stringify({version:2,heartbeats:Ae})).length}!function Lr(Ae){Er(new J.wA("platform-logger",_e=>new Dt(_e),"PRIVATE")),Er(new J.wA("heartbeat",_e=>new Xe(_e),"PRIVATE")),zr(Bt,"0.9.9",Ae),zr(Bt,"0.9.9","esm2017"),zr("fire-js","")}("")},4859:(Ut,Je,X)=>{"use strict";X.d(Je,{H0:()=>Fe,wA:()=>W});var d=X(5861),J=X(2090);class W{constructor(oe,ie,ce){this.name=oe,this.instanceFactory=ie,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const ge="[DEFAULT]";class Se{constructor(oe,ie){this.name=oe,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const ie=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(ie)){const ce=new J.BH;if(this.instancesDeferred.set(ie,ce),this.isInitialized(ie)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:ie});$e&&ce.resolve($e)}catch{}}return this.instancesDeferred.get(ie).promise}getImmediate(oe){var ie;const ce=this.normalizeInstanceIdentifier(oe?.identifier),$e=null!==(ie=oe?.optional)&&void 0!==ie&&ie;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(et){if($e)return null;throw et}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function Be(Le){return"EAGER"===Le.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[ie,ce]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(ie);try{const et=this.getOrInitializeService({instanceIdentifier:$e});ce.resolve(et)}catch{}}}}clearInstance(oe=ge){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,d.Z)(function*(){const ie=Array.from(oe.instances.values());yield Promise.all([...ie.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...ie.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=ge){return this.instances.has(oe)}getOptions(oe=ge){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:ie={}}=oe,ce=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ce,options:ie});for(const[et,Qe]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(et)&&Qe.resolve($e);return $e}onInit(oe,ie){var ce;const $e=this.normalizeInstanceIdentifier(ie),et=null!==(ce=this.onInitCallbacks.get($e))&&void 0!==ce?ce:new Set;et.add(oe),this.onInitCallbacks.set($e,et);const Qe=this.instances.get($e);return Qe&&oe(Qe,$e),()=>{et.delete(oe)}}invokeOnInitCallbacks(oe,ie){const ce=this.onInitCallbacks.get(ie);if(ce)for(const $e of ce)try{$e(oe,ie)}catch{}}getOrInitializeService({instanceIdentifier:oe,options:ie={}}){let ce=this.instances.get(oe);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(Le=oe,Le===ge?void 0:Le),options:ie}),this.instances.set(oe,ce),this.instancesOptions.set(oe,ie),this.invokeOnInitCallbacks(ce,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,ce)}catch{}var Le;return ce||null}normalizeInstanceIdentifier(oe=ge){return this.component?this.component.multipleInstances?oe:ge:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const ie=this.getProvider(oe.name);if(ie.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);ie.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const ie=new Se(oe,this);return this.providers.set(oe,ie),ie}getProviders(){return Array.from(this.providers.values())}}},1877:(Ut,Je,X)=>{"use strict";X.d(Je,{Am:()=>Le,Ub:()=>Fe,Yd:()=>Be,in:()=>J});const d=[];var J=(()=>{return(oe=J||(J={}))[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",J;var oe})();const W={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ge=J.INFO,Se={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},Ce=(oe,ie,...ce)=>{if(ie<oe.logLevel)return;const $e=(new Date).toISOString(),et=Se[ie];if(!et)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[et](`[${$e}]  ${oe.name}:`,...ce)};class Be{constructor(ie){this.name=ie,this._logLevel=ge,this._logHandler=Ce,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in J))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?W[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...ie),this._logHandler(this,J.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...ie),this._logHandler(this,J.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,J.INFO,...ie),this._logHandler(this,J.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,J.WARN,...ie),this._logHandler(this,J.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...ie),this._logHandler(this,J.ERROR,...ie)}}function Fe(oe){d.forEach(ie=>{ie.setLogLevel(oe)})}function Le(oe,ie){for(const ce of d){let $e=null;ie&&ie.level&&($e=W[ie.level]),ce.userLogHandler=null===oe?null:(et,Qe,...nt)=>{const Ne=nt.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");Qe>=($e??et.logLevel)&&oe({level:J[Qe].toLowerCase(),message:Ne,args:nt,type:et.name})}}}},259:(Ut,Je,X)=>{"use strict";X.d(Je,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=X(6881);(0,d.registerVersion)("firebase","9.21.0","app")},9260:(Ut,Je,X)=>{"use strict";X.d(Je,{Z:()=>d.Z});var d=X(3942);d.Z.registerVersion("firebase","9.21.0","app-compat")},9568:(Ut,Je,X)=>{"use strict";X.r(Je);var d=X(5861),J=X(3942),W=X(8502),ge=X(2090),Be=(X(6881),X(1877),X(4859));function Fe(){return window}const Le=2e3;function ie(){return ie=(0,d.Z)(function*(N,k,F){var K;const{BuildInfo:ne}=Fe();(0,W.as)(k.sessionId,"AuthEvent did not contain a session ID");const me=yield function Ee(N){return rt.apply(this,arguments)}(k.sessionId),Re={};return(0,W.at)()?Re.ibi=ne.packageName:(0,W.au)()?Re.apn=ne.packageName:(0,W.av)(N,"operation-not-supported-in-this-environment"),ne.displayName&&(Re.appDisplayName=ne.displayName),Re.sessionId=me,(0,W.aw)(N,F,k.type,void 0,null!==(K=k.eventId)&&void 0!==K?K:void 0,Re)}),ie.apply(this,arguments)}function $e(){return($e=(0,d.Z)(function*(N){const{BuildInfo:k}=Fe(),F={};(0,W.at)()?F.iosBundleId=k.packageName:(0,W.au)()?F.androidPackageName=k.packageName:(0,W.av)(N,"operation-not-supported-in-this-environment"),yield(0,W.ax)(N,F)})).apply(this,arguments)}function nt(){return(nt=(0,d.Z)(function*(N,k,F){const{cordova:K}=Fe();let ne=()=>{};try{yield new Promise((me,Re)=>{let ot=null;function Xe(){var Jt;me();const Qn=null===(Jt=K.plugins.browsertab)||void 0===Jt?void 0:Jt.close;"function"==typeof Qn&&Qn(),"function"==typeof F?.close&&F.close()}function It(){ot||(ot=window.setTimeout(()=>{Re((0,W.az)(N,"redirect-cancelled-by-user"))},Le))}function Tn(){"visible"===document?.visibilityState&&It()}k.addPassiveListener(Xe),document.addEventListener("resume",It,!1),(0,W.au)()&&document.addEventListener("visibilitychange",Tn,!1),ne=()=>{k.removePassiveListener(Xe),document.removeEventListener("resume",It,!1),document.removeEventListener("visibilitychange",Tn,!1),ot&&window.clearTimeout(ot)}})}finally{ne()}})).apply(this,arguments)}function rt(){return(rt=(0,d.Z)(function*(N){const k=function it(N){if((0,W.as)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const k=new ArrayBuffer(N.length),F=new Uint8Array(k);for(let K=0;K<N.length;K++)F[K]=N.charCodeAt(K);return F}(N),F=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(F)).map(ne=>ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const He=20;class ze extends W.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(k)),super.onEvent(k)}initialized(){var k=this;return(0,d.Z)(function*(){yield k.initPromise})()}}function tt(N){return be.apply(this,arguments)}function be(){return(be=(0,d.Z)(function*(N){const k=yield Dt()._get(fn(N));return k&&(yield Dt()._remove(fn(N))),k})).apply(this,arguments)}function Wt(){const N=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let F=0;F<He;F++){const K=Math.floor(Math.random()*k.length);N.push(k.charAt(K))}return N.join("")}function Dt(){return(0,W.aC)(W.b)}function fn(N){return(0,W.aD)("authEvent",N.config.apiKey,N.name)}function Ve(N){if(!N?.includes("?"))return{};const[k,...F]=N.split("?");return(0,ge.zd)(F.join("?"))}const wt=class st{constructor(){this._redirectPersistence=W.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=W.aE,this._overrideRedirectResult=W.aF}_initialize(k){var F=this;return(0,d.Z)(function*(){const K=k._key();let ne=F.eventManagers.get(K);return ne||(ne=new ze(k),F.eventManagers.set(K,ne),F.attachCallbackListeners(k,ne)),ne})()}_openPopup(k){(0,W.av)(k,"operation-not-supported-in-this-environment")}_openRedirect(k,F,K,ne){var me=this;return(0,d.Z)(function*(){!function Ne(N){var k,F,K,ne,me,Re,ot,Xe,It,Tn;const Jt=Fe();(0,W.aA)("function"==typeof(null===(k=Jt?.universalLinks)||void 0===k?void 0:k.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,W.aA)(typeof(null===(F=Jt?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,W.aA)("function"==typeof(null===(me=null===(ne=null===(K=Jt?.cordova)||void 0===K?void 0:K.plugins)||void 0===ne?void 0:ne.browsertab)||void 0===me?void 0:me.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aA)("function"==typeof(null===(Xe=null===(ot=null===(Re=Jt?.cordova)||void 0===Re?void 0:Re.plugins)||void 0===ot?void 0:ot.browsertab)||void 0===Xe?void 0:Xe.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aA)("function"==typeof(null===(Tn=null===(It=Jt?.cordova)||void 0===It?void 0:It.InAppBrowser)||void 0===Tn?void 0:Tn.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const Re=yield me._initialize(k);yield Re.initialized(),Re.resetRedirect(),(0,W.aG)(),yield me._originValidation(k);const ot=function A(N,k,F=null){return{type:k,eventId:F,urlResponse:null,sessionId:Wt(),postBody:null,tenantId:N.tenantId,error:(0,W.az)(N,"no-auth-event")}}(k,K,ne);yield function dt(N,k){return Dt()._set(fn(N),k)}(k,ot);const Xe=yield function oe(N,k,F){return ie.apply(this,arguments)}(k,ot,F),It=yield function et(N){const{cordova:k}=Fe();return new Promise(F=>{k.plugins.browsertab.isAvailable(K=>{let ne=null;K?k.plugins.browsertab.openUrl(N):ne=k.InAppBrowser.open(N,(0,W.ay)()?"_blank":"_system","location=yes"),F(ne)})})}(Xe);return function Qe(N,k,F){return nt.apply(this,arguments)}(k,Re,It)})()}_isIframeWebStorageSupported(k,F){throw new Error("Method not implemented.")}_originValidation(k){const F=k._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function ce(N){return $e.apply(this,arguments)}(k)),this.originValidationPromises[F]}attachCallbackListeners(k,F){const{universalLinks:K,handleOpenURL:ne,BuildInfo:me}=Fe(),Re=setTimeout((0,d.Z)(function*(){yield tt(k),F.onEvent(mt())}),500),ot=function(){var Tn=(0,d.Z)(function*(Jt){clearTimeout(Re);const Qn=yield tt(k);let Lr=null;Qn&&Jt?.url&&(Lr=function Mt(N,k){var F,K;const ne=function Ue(N){const k=Ve(N),F=k.link?decodeURIComponent(k.link):void 0,K=Ve(F).link,ne=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return Ve(ne).link||ne||K||F||N}(k);if(ne.includes("/__/auth/callback")){const me=Ve(ne),Re=me.firebaseError?function Bt(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(me.firebaseError)):null,ot=null===(K=null===(F=Re?.code)||void 0===F?void 0:F.split("auth/"))||void 0===K?void 0:K[1],Xe=ot?(0,W.az)(ot):null;return Xe?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:Xe,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:ne,postBody:null}}return null}(Qn,Jt.url)),F.onEvent(Lr||mt())});return function(Qn){return Tn.apply(this,arguments)}}();typeof K<"u"&&"function"==typeof K.subscribe&&K.subscribe(null,ot);const Xe=ne,It=`${me.packageName.toLowerCase()}://`;Fe().handleOpenURL=function(){var Tn=(0,d.Z)(function*(Jt){if(Jt.toLowerCase().startsWith(It)&&ot({url:Jt}),"function"==typeof Xe)try{Xe(Jt)}catch(Qn){console.error(Qn)}});return function(Jt){return Tn.apply(this,arguments)}}()}};function mt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,W.az)("no-auth-event")}}const Qt=1e3;function bn(){var N;return(null===(N=self?.location)||void 0===N?void 0:N.protocol)||null}function An(N=(0,ge.z$)()){return!("file:"!==bn()&&"ionic:"!==bn()&&"capacitor:"!==bn()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function pi(){try{const N=self.localStorage,k=W.aL();if(N)return N.setItem(k,"1"),N.removeItem(k),!function Mr(N=(0,ge.z$)()){return function Kn(){return(0,ge.w1)()&&11===document?.documentMode}()||function $r(N=(0,ge.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,ge.hl)()}catch{return Sr()&&(0,ge.hl)()}return!1}function Sr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wr(){return(function Xt(){return"http:"===bn()||"https:"===bn()}()||(0,ge.ru)()||An())&&!function Jn(){return(0,ge.b$)()||(0,ge.UG)()}()&&pi()&&!Sr()}function oi(){return An()&&typeof document<"u"}function Vn(){return(Vn=(0,d.Z)(function*(){return!!oi()&&new Promise(N=>{const k=setTimeout(()=>{N(!1)},Qt);document.addEventListener("deviceready",()=>{clearTimeout(k),N(!0)})})})).apply(this,arguments)}const mr={LOCAL:"local",NONE:"none",SESSION:"session"},wr=W.aA,Rr="persistence";function Or(N){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(N){yield N._initializationPromise;const k=Vt(),F=W.aD(Rr,N.config.apiKey,N.name);k&&k.setItem(F,N._getPersistence())})).apply(this,arguments)}function Vt(){var N;try{return(null===(N=function zt(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const wn=W.aA;class Er{constructor(){this.browserResolver=W.aC(W.k),this.cordovaResolver=W.aC(wt),this.underlyingResolver=null,this._redirectPersistence=W.a,this._completeRedirectFn=W.aE,this._overrideRedirectResult=W.aF}_initialize(k){var F=this;return(0,d.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,F,K,ne){var me=this;return(0,d.Z)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openPopup(k,F,K,ne)})()}_openRedirect(k,F,K,ne){var me=this;return(0,d.Z)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openRedirect(k,F,K,ne)})()}_isIframeWebStorageSupported(k,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,F)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return oi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,d.Z)(function*(){if(k.underlyingResolver)return;const F=yield function Zt(){return Vn.apply(this,arguments)}();k.underlyingResolver=F?k.cordovaResolver:k.browserResolver})()}}function Hr(N){return N.unwrap()}function gi(N){return Nr(N)}function Nr(N){const{_tokenResponse:k}=N instanceof ge.ZR?N.customData:N;if(!k)return null;if(!(N instanceof ge.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return W.P.credentialFromResult(N);const F=k.providerId;if(!F||F===W.p.PASSWORD)return null;let K;switch(F){case W.p.GOOGLE:K=W.V;break;case W.p.FACEBOOK:K=W.U;break;case W.p.GITHUB:K=W.W;break;case W.p.TWITTER:K=W.Z;break;default:const{oauthIdToken:ne,oauthAccessToken:me,oauthTokenSecret:Re,pendingToken:ot,nonce:Xe}=k;return me||Re||ne||ot?ot?F.startsWith("saml.")?W.aO._create(F,ot):W.L._fromParams({providerId:F,signInMethod:F,pendingToken:ot,idToken:ne,accessToken:me}):new W.X(F).credential({idToken:ne,accessToken:me,rawNonce:Xe}):null}return N instanceof ge.ZR?K.credentialFromError(N):K.credentialFromResult(N)}function On(N,k){return k.catch(F=>{throw F instanceof ge.ZR&&function ur(N,k){var F;const K=null===(F=k.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===k?.code)k.resolver=new ar(N,W.aq(N,k));else if(K){const ne=Nr(k),me=k;ne&&(me.credential=ne,me.tenantId=K.tenantId||void 0,me.email=K.email||void 0,me.phoneNumber=K.phoneNumber||void 0)}}(N,F),F}).then(F=>{const ne=F.user;return{operationType:F.operationType,credential:gi(F),additionalUserInfo:W.ao(F),user:En.getOrCreate(ne)}})}function Ri(N,k){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(N,k){const F=yield k;return{verificationId:F.verificationId,confirm:K=>On(N,F.confirm(K))}})).apply(this,arguments)}class ar{constructor(k,F){this.resolver=F,this.auth=function xr(N){return N.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return On(Hr(this.auth),this.resolver.resolveSignIn(k))}}class En{constructor(k){this._delegate=k,this.multiFactor=W.ar(k)}static getOrCreate(k){return En.USER_MAP.has(k)||En.USER_MAP.set(k,new En(k)),En.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var F=this;return(0,d.Z)(function*(){return On(F.auth,W.a0(F._delegate,k))})()}linkWithPhoneNumber(k,F){var K=this;return(0,d.Z)(function*(){return Ri(K.auth,W.l(K._delegate,k,F))})()}linkWithPopup(k){var F=this;return(0,d.Z)(function*(){return On(F.auth,W.d(F._delegate,k,Er))})()}linkWithRedirect(k){var F=this;return(0,d.Z)(function*(){return yield Or(W.aH(F.auth)),W.g(F._delegate,k,Er)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var F=this;return(0,d.Z)(function*(){return On(F.auth,W.a1(F._delegate,k))})()}reauthenticateWithPhoneNumber(k,F){return Ri(this.auth,W.r(this._delegate,k,F))}reauthenticateWithPopup(k){return On(this.auth,W.e(this._delegate,k,Er))}reauthenticateWithRedirect(k){var F=this;return(0,d.Z)(function*(){return yield Or(W.aH(F.auth)),W.h(F._delegate,k,Er)})()}sendEmailVerification(k){return W.ae(this._delegate,k)}unlink(k){var F=this;return(0,d.Z)(function*(){return yield W.an(F._delegate,k),F})()}updateEmail(k){return W.aj(this._delegate,k)}updatePassword(k){return W.ak(this._delegate,k)}updatePhoneNumber(k){return W.u(this._delegate,k)}updateProfile(k){return W.ai(this._delegate,k)}verifyBeforeUpdateEmail(k,F){return W.af(this._delegate,k,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}En.USER_MAP=new WeakMap;const Ir=W.aA;let yt=(()=>{class N{constructor(F,K){if(this.app=F,K.isInitialized())return this._delegate=K.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ne}=F.options;Ir(ne,"invalid-api-key",{appName:F.name}),Ir(ne,"invalid-api-key",{appName:F.name});const me=typeof window<"u"?Er:void 0;this._delegate=K.initialize({options:{persistence:ir(ne,F.name),popupRedirectResolver:me}}),this._delegate._updateErrorMap(W.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?En.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,K){W.I(this._delegate,F,K)}applyActionCode(F){return W.a5(this._delegate,F)}checkActionCode(F){return W.a6(this._delegate,F)}confirmPasswordReset(F,K){return W.a4(this._delegate,F,K)}createUserWithEmailAndPassword(F,K){var ne=this;return(0,d.Z)(function*(){return On(ne._delegate,W.a8(ne._delegate,F,K))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return W.ad(this._delegate,F)}isSignInWithEmailLink(F){return W.ab(this._delegate,F)}getRedirectResult(){var F=this;return(0,d.Z)(function*(){Ir(Wr(),F._delegate,"operation-not-supported-in-this-environment");const K=yield W.j(F._delegate,Er);return K?On(F._delegate,Promise.resolve(K)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function Nt(N,k){(0,W.aH)(N)._logFramework(k)}(this._delegate,F)}onAuthStateChanged(F,K,ne){const{next:me,error:Re,complete:ot}=zr(F,K,ne);return this._delegate.onAuthStateChanged(me,Re,ot)}onIdTokenChanged(F,K,ne){const{next:me,error:Re,complete:ot}=zr(F,K,ne);return this._delegate.onIdTokenChanged(me,Re,ot)}sendSignInLinkToEmail(F,K){return W.aa(this._delegate,F,K)}sendPasswordResetEmail(F,K){return W.a3(this._delegate,F,K||void 0)}setPersistence(F){var K=this;return(0,d.Z)(function*(){let ne;switch(function Ar(N,k){wr(Object.values(mr).includes(k),N,"invalid-persistence-type"),(0,ge.b$)()?wr(k!==mr.SESSION,N,"unsupported-persistence-type"):(0,ge.UG)()?wr(k===mr.NONE,N,"unsupported-persistence-type"):Sr()?wr(k===mr.NONE||k===mr.LOCAL&&(0,ge.hl)(),N,"unsupported-persistence-type"):wr(k===mr.NONE||pi(),N,"unsupported-persistence-type")}(K._delegate,F),F){case mr.SESSION:ne=W.a;break;case mr.LOCAL:ne=(yield W.aC(W.i)._isAvailable())?W.i:W.b;break;case mr.NONE:ne=W.N;break;default:return W.av("argument-error",{appName:K._delegate.name})}return K._delegate.setPersistence(ne)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return On(this._delegate,W._(this._delegate))}signInWithCredential(F){return On(this._delegate,W.$(this._delegate,F))}signInWithCustomToken(F){return On(this._delegate,W.a2(this._delegate,F))}signInWithEmailAndPassword(F,K){return On(this._delegate,W.a9(this._delegate,F,K))}signInWithEmailLink(F,K){return On(this._delegate,W.ac(this._delegate,F,K))}signInWithPhoneNumber(F,K){return Ri(this._delegate,W.s(this._delegate,F,K))}signInWithPopup(F){var K=this;return(0,d.Z)(function*(){return Ir(Wr(),K._delegate,"operation-not-supported-in-this-environment"),On(K._delegate,W.c(K._delegate,F,Er))})()}signInWithRedirect(F){var K=this;return(0,d.Z)(function*(){return Ir(Wr(),K._delegate,"operation-not-supported-in-this-environment"),yield Or(K._delegate),W.f(K._delegate,F,Er)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return W.a7(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=mr,N})();function zr(N,k,F){let K=N;"function"!=typeof N&&({next:K,error:k,complete:F}=N);const ne=K;return{next:Re=>ne(Re&&En.getOrCreate(Re)),error:k,complete:F}}function ir(N,k){const F=function yn(N,k){const F=Vt();if(!F)return[];const K=W.aD(Rr,N,k);switch(F.getItem(K)){case mr.NONE:return[W.N];case mr.LOCAL:return[W.i,W.a];case mr.SESSION:return[W.a];default:return[]}}(N,k);if(typeof self<"u"&&!F.includes(W.i)&&F.push(W.i),typeof window<"u")for(const K of[W.b,W.a])F.includes(K)||F.push(K);return F.includes(W.N)||F.push(W.N),F}class M{constructor(){this.providerId="phone",this._delegate=new W.P(Hr(J.Z.auth()))}static credential(k,F){return W.P.credential(k,F)}verifyPhoneNumber(k,F){return this._delegate.verifyPhoneNumber(k,F)}unwrap(){return this._delegate}}M.PHONE_SIGN_IN_METHOD=W.P.PHONE_SIGN_IN_METHOD,M.PROVIDER_ID=W.P.PROVIDER_ID;const L=W.aA;class U{constructor(k,F,K=J.Z.app()){var ne;L(null===(ne=K.options)||void 0===ne?void 0:ne.apiKey,"invalid-api-key",{appName:K.name}),this._delegate=new W.R(k,F,K.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function P(N){N.INTERNAL.registerComponent(new Be.wA("auth-compat",k=>{const F=k.getProvider("app-compat").getImmediate(),K=k.getProvider("auth");return new yt(F,K)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:W.A.EMAIL_SIGNIN,PASSWORD_RESET:W.A.PASSWORD_RESET,RECOVER_EMAIL:W.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:W.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:W.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:W.A.VERIFY_EMAIL}},EmailAuthProvider:W.Q,FacebookAuthProvider:W.U,GithubAuthProvider:W.W,GoogleAuthProvider:W.V,OAuthProvider:W.X,SAMLAuthProvider:W.Y,PhoneAuthProvider:M,PhoneMultiFactorGenerator:W.m,RecaptchaVerifier:U,TwitterAuthProvider:W.Z,Auth:yt,AuthCredential:W.J,Error:ge.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.4.1")}(J.Z)},5861:(Ut,Je,X)=>{"use strict";function d(W,ge,Se,Ce,Be,Fe,Le){try{var oe=W[Fe](Le),ie=oe.value}catch(ce){return void Se(ce)}oe.done?ge(ie):Promise.resolve(ie).then(Ce,Be)}function J(W){return function(){var ge=this,Se=arguments;return new Promise(function(Ce,Be){var Fe=W.apply(ge,Se);function Le(ie){d(Fe,Ce,Be,Le,oe,"next",ie)}function oe(ie){d(Fe,Ce,Be,Le,oe,"throw",ie)}Le(void 0)})}}X.d(Je,{Z:()=>J})}},Ut=>{Ut(Ut.s=8414)}]);